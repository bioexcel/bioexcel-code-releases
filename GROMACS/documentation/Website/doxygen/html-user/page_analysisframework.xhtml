<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>Gromacs: Framework for trajectory analysis</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Gromacs
   &#160;<span id="projectnumber">2018.3</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.xhtml"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.xhtml"><span>Modules</span></a></li>
      <li class="current"><a href="pages.xhtml"><span>Other&#160;Docs</span></a></li>
      <li><a href="namespaces.xhtml"><span>Namespaces</span></a></li>
      <li><a href="annotated.xhtml"><span>Classes</span></a></li>
      <li><a href="files.xhtml"><span>Files</span></a></li>
      <li><a href="examples.xhtml"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="index.xhtml">GROMACS</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Framework for trajectory analysis </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>GROMACS provides a framework for implementing flexible trajectory analysis routines. It consists of a few components that can also be used individually, but in most cases it is desirable to use features from all of them to get most out of the framework. The main features are:</p>
<ul>
<li>Support for flexible selections that can be used to provide the set of coordinates to analyze. They can be dynamic, i.e., select different atoms for different trajectory frames, and also support evaluation of center-of-mass/center-of-geometry coordinates for a group of atoms. The latter means that a tool written to use the framework can automatically analyze also center-of-mass positions (or a mixture of center-of-mass and atomic positions) in addition to real atomic positions.</li>
<li>Support for per-frame parallelization. The framework is designed to support running the analysis in parallel for multiple frames for cases where different frames can be analyzed (mostly) independently. At this time, the actual parallelization is not implemented, but tools written to use the framework should be able to take advantage of it as soon as it materializes with no or minimal changes.</li>
<li>Access to a library of basic analysis routines. Things such as computing averages and histogramming are provided as reusable modules.</li>
<li>Tool code can focus on the actual analysis. Tools are implemented by subclassing an abstract class and providing an implementation for selected pure virtual methods. The framework takes care of initialization tasks, loading the trajectory and looping over it, evaluating selections, and also provides basic features like making molecules whole before passing the frame to the analysis code. This approach also makes it possible to reuse the same tool code from a scripting language such as Python simply by implementing general support for such language bindings in the framework (no such integration is implemented at this time, though).</li>
</ul>
<p>There are also some reusable analysis routines that can be used independent of the framework:</p>
<ul>
<li><a class="el" href="page_analysisnbsearch.xhtml">Neighborhood search for analysis tools</a></li>
</ul>
<p>For a crash course on how to implement an analysis tool using the framework, see <a class="el" href="page_analysistemplate.xhtml">Example code for writing trajectory analysis tools</a>.</p>
<h1>High-level framework </h1>
<p>The <a class="el" href="group__module__trajectoryanalysis.xhtml">Framework for Trajectory Analysis (trajectoryanalysis)</a> module provides the high-level framework that integrates all the pieces together. It provides the abstract base class for analysis tool modules (<a class="el" href="classgmx_1_1TrajectoryAnalysisModule.xhtml" title="Base class for trajectory analysis modules. ">gmx::TrajectoryAnalysisModule</a>), and the code that runs such a module as a command-line tool (<a class="el" href="classgmx_1_1TrajectoryAnalysisCommandLineRunner.xhtml" title="Runner for command-line trajectory analysis tools. ">gmx::TrajectoryAnalysisCommandLineRunner</a>). See the <a class="el" href="page_analysistemplate.xhtml">analysis template</a> and the <a class="el" href="group__module__trajectoryanalysis.xhtml">trajectoryanalysis module documentation</a> for more details.</p>
<h1>Selections </h1>
<p>The <a class="el" href="group__module__selection.xhtml">Parsing and Evaluation of Analysis Selections (selection)</a> module provides the support for selections. Most of the work of managing the selections is taken care by the command-line runner and the framework, and the analysis tool code only sees two main classes:</p>
<ul>
<li><a class="el" href="classgmx_1_1SelectionOption.xhtml" title="Specifies an option that provides selection(s). ">gmx::SelectionOption</a> and associated classes are used to declare the number and type of selections the tool accepts (see below for <a href="#section_analysisframework_options">details of the option support</a>).</li>
<li>The tool receives a set of <a class="el" href="classgmx_1_1Selection.xhtml" title="Provides access to a single selection. ">gmx::Selection</a> objects as a value of the selection option. These classes provide the evaluated values for the selections during the analysis. The framework evaluates them for each frame such that when the tool is called, it can access the selections for the current frame in the <a class="el" href="classgmx_1_1Selection.xhtml" title="Provides access to a single selection. ">gmx::Selection</a> objects it owns.</li>
</ul>
<p>A conceptual overview of the selection engine is available on a separate page: <a class="el" href="page_selections.xhtml">Dynamic selections</a>. In the full internal documentation, this page also provides an overview of the implementation of the selections.</p>
<p>More technical details of the selection engine are also available in the <a class="el" href="group__module__selection.xhtml">selection module documentation</a>. This is useful in particular for understanding how the selections work in detail, or if you want to use the selection code outside the trajectory analysis framework.</p>
<p>The selection module also provides functionality to do neighborhood searching in analysis tools. For the most common case of full 3D periodic boundary conditions, grid-based searching is implemented. See <a class="el" href="classgmx_1_1AnalysisNeighborhood.xhtml" title="Neighborhood searching for analysis tools. ">gmx::AnalysisNeighborhood</a> for more details. This class can be used independently of other selection functionality.</p>
<h1>Output data handling </h1>
<p>The <a class="el" href="group__module__analysisdata.xhtml">Parallelizable Handling of Output Data (analysisdata)</a> module provides two things:</p>
<ul>
<li>Support for uniformly providing output data from analysis tools. Tools compute their output values and place them into a <em>data object</em> for further processing. This allows two things:<ul>
<li>Reusable data modules can be applied across different tools to do common post-processing.</li>
<li>The data object provides parallelization support.</li>
</ul>
</li>
<li>Set of reusable data modules for post-processing the data. These include functionality like averaging data, computing histograms, and plotting the data into a file. Many of these modules also provide their output as a data object, allowing further data modules to be attached to them.</li>
</ul>
<p>The general concept is explained in more detail on a separate page: <a class="el" href="page_analysisdata.xhtml">Analysis output data handling</a>. The <a class="el" href="group__module__analysisdata.xhtml">analysisdata module documentation</a> provides more technical details.</p>
<h1><a class="anchor" id="section_analysisframework_options"></a>
Input options </h1>
<p>To declare input data for the tool (typically, command-line options, including input files and selections), <a class="el" href="group__module__options.xhtml">Extensible Handling of Options (options)</a> module is used. The analysis tool code receives an instance of <a class="el" href="classgmx_1_1IOptionsContainer.xhtml" title="Interface for adding input options. ">gmx::IOptionsContainer</a> for one of its initialization methods, and uses it to provide its input options. Basic options are declared in <a class="el" href="basicoptions_8h.xhtml" title="Declares option objects for basic option types. ">basicoptions.h</a>, and also <a class="el" href="classgmx_1_1SelectionOption.xhtml" title="Specifies an option that provides selection(s). ">gmx::SelectionOption</a> is used in the same manner. For each option, the tool declares a local variable that will receive the value for that option. After the options are parsed from the command line (by the framework), the tool code can read the values from these variables. The option declarations filled into the <a class="el" href="classgmx_1_1IOptionsContainer.xhtml" title="Interface for adding input options. ">gmx::IOptionsContainer</a> object are also used to provide help to the user (also handled by the framework). See the documentation for <a class="el" href="classgmx_1_1TrajectoryAnalysisModule.xhtml" title="Base class for trajectory analysis modules. ">gmx::TrajectoryAnalysisModule</a> and the <a class="el" href="group__module__options.xhtml">options module documentation</a> for more details. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Aug 23 2018 14:54:34 for Gromacs by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
