<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>Gromacs: gmx_sparsematrix Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Gromacs
   &#160;<span id="projectnumber">2018.3</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.xhtml"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.xhtml"><span>Modules</span></a></li>
      <li><a href="pages.xhtml"><span>Other&#160;Docs</span></a></li>
      <li><a href="namespaces.xhtml"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.xhtml"><span>Classes</span></a></li>
      <li><a href="files.xhtml"><span>Files</span></a></li>
      <li><a href="examples.xhtml"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.xhtml"><span>Class&#160;List</span></a></li>
      <li><a href="classes.xhtml"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.xhtml"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.xhtml"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="structgmx__sparsematrix-members.xhtml">List of all members</a> &#124;
<a href="#pub-attribs">Public Attributes</a>  </div>
  <div class="headertitle">
<div class="title">gmx_sparsematrix Struct Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;gromacs/linearalgebra/sparsematrix.h&gt;</code></p>
<a name="details" id="details"></a><h2 class="groupheader">Description</h2>
<div class="textblock"><p>Sparse matrix storage format. </p>
<p>This structure specifies a storage format for a sparse matrix. The memory requirements are only proportional to the number of nonzero elements, and it provides a reasonably fast way to perform matrix-vector multiplications.</p>
<p>The data format is very similar to a neighborlist. It is optimized for fast access, but it is difficult to add entries. If you are constructing a matrix you should either do it in exactly the order specified here, or use some other more flexible intermediate structure.</p>
<p>The index array is of size nrow+1. All non-zero matrix elements on row i are stored in positions index[i] through index[i+1]-1 in the arrays column and value. The column array contains the column index for each entry, in ascending order, and the corresponding position in the value array contains the floating point matrix element.</p>
<p>index[nrow] should be equal to the total number of elements stored.</p>
<p>Thus, to find the value of matrix element [5,4] you should loop over positions index[5] to index[6]-1 in column until you either find the value 4, or a higher value (meaning the element was zero).</p>
<p>It is fairly easy to construct the matrix on-the-fly if you can do it row-by-row.</p>
<p>IMPORTANT: If compressed_symmetric is set to TRUE, you should only store EITHER the upper OR lower triangle (and the diagonal), and the other half is assumed to be symmetric. Otherwise, if compressed_symmetric==FALSE, no symmetry is implied and all elements should be stored.</p>
<p>The symmetry compression saves us a factor 2 both in storage and matrix multiplication CPU-time, which can be very useful for huge eigenproblems.</p>
<p>If you are unsure, just set compressed_symmetric to FALSE and list all elements. If you enable it but still list all elements (both upper and lower triangle) you will be sorry...</p>
<p>Internally, the sparse data is stored as a separate list for each row, where the list element is a structure with a column and (floating-point) data value. This makes it possible, although not completely transparent, to update values in random access order. The drawback is that the structure will allocate nrow memory regions. The matrix data could be stored in a single contiguous array with indices for each row, but then we could only insert elements at the end without copying the entire matrix.</p>
<p>After you have</p>
<p>In other words: Not perfect, but it works. </p>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a8417fbdb655600b4b781f7093ced07a0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="basedefinitions_8h.xhtml#a8fddad319f226e856400d190198d5151">gmx_bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structgmx__sparsematrix.xhtml#a8417fbdb655600b4b781f7093ced07a0">compressed_symmetric</a></td></tr>
<tr class="memdesc:a8417fbdb655600b4b781f7093ced07a0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Store half elements and assume symmetry.  <a href="#a8417fbdb655600b4b781f7093ced07a0">More...</a><br/></td></tr>
<tr class="separator:a8417fbdb655600b4b781f7093ced07a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66c709f29fa9eff4bb76349c3e25fc5e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a66c709f29fa9eff4bb76349c3e25fc5e"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structgmx__sparsematrix.xhtml#a66c709f29fa9eff4bb76349c3e25fc5e">nrow</a></td></tr>
<tr class="memdesc:a66c709f29fa9eff4bb76349c3e25fc5e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of rows in matrix. <br/></td></tr>
<tr class="separator:a66c709f29fa9eff4bb76349c3e25fc5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af39caa125592fae235b73660b9ff6af0"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af39caa125592fae235b73660b9ff6af0"></a>
int *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structgmx__sparsematrix.xhtml#af39caa125592fae235b73660b9ff6af0">ndata</a></td></tr>
<tr class="memdesc:af39caa125592fae235b73660b9ff6af0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of entries on each row (list) <br/></td></tr>
<tr class="separator:af39caa125592fae235b73660b9ff6af0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a8e1580b68c130e5926a7527de65f80"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1a8e1580b68c130e5926a7527de65f80"></a>
int *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structgmx__sparsematrix.xhtml#a1a8e1580b68c130e5926a7527de65f80">nalloc</a></td></tr>
<tr class="memdesc:a1a8e1580b68c130e5926a7527de65f80"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocated entry list length for each row. <br/></td></tr>
<tr class="separator:a1a8e1580b68c130e5926a7527de65f80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b5cf62783152e0e58b310e714de9ba5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8b5cf62783152e0e58b310e714de9ba5"></a>
gmx_sparsematrix_entry_t **&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structgmx__sparsematrix.xhtml#a8b5cf62783152e0e58b310e714de9ba5">data</a></td></tr>
<tr class="memdesc:a8b5cf62783152e0e58b310e714de9ba5"><td class="mdescLeft">&#160;</td><td class="mdescRight">data[i] is a list with entries on row i <br/></td></tr>
<tr class="separator:a8b5cf62783152e0e58b310e714de9ba5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a8417fbdb655600b4b781f7093ced07a0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="basedefinitions_8h.xhtml#a8fddad319f226e856400d190198d5151">gmx_bool</a> gmx_sparsematrix::compressed_symmetric</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Store half elements and assume symmetry. </p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>src/gromacs/linearalgebra/sparsematrix.h</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Aug 23 2018 14:56:13 for Gromacs by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
