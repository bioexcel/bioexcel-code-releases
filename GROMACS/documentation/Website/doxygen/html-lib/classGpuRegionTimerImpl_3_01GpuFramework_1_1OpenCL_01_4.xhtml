<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>Gromacs: GpuRegionTimerImpl&lt; GpuFramework::OpenCL &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Gromacs
   &#160;<span id="projectnumber">2018.3</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.xhtml"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.xhtml"><span>Modules</span></a></li>
      <li><a href="pages.xhtml"><span>Other&#160;Docs</span></a></li>
      <li><a href="namespaces.xhtml"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.xhtml"><span>Classes</span></a></li>
      <li><a href="files.xhtml"><span>Files</span></a></li>
      <li><a href="examples.xhtml"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.xhtml"><span>Class&#160;List</span></a></li>
      <li><a href="classes.xhtml"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.xhtml"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.xhtml"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="classGpuRegionTimerImpl_3_01GpuFramework_1_1OpenCL_01_4-members.xhtml">List of all members</a> &#124;
<a href="#pub-methods">Public Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">GpuRegionTimerImpl&lt; GpuFramework::OpenCL &gt; Class Template Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;gromacs/gpu_utils/gpuregiontimer_ocl.h&gt;</code></p>
<a name="details" id="details"></a><h2 class="groupheader">Description</h2>
<div class="textblock"><h3>template&lt;&gt;<br/>
class GpuRegionTimerImpl&lt; GpuFramework::OpenCL &gt;</h3>

<p>The OpenCL implementation of the GPU code region timing. With OpenCL, one has to use cl_event handle for each API call that has to be timed, and accumulate the timing afterwards. As we would like to avoid overhead on API calls, we only query and accumulate cl_event timing at the end of time steps, not after the API calls. Thus, this implementation does not reuse a single cl_event for multiple calls, but instead maintains an array of cl_events to be used within any single code region. The array size is fixed at a small but sufficiently large value for the number of cl_events that might contribute to a timer region, currently 10. </p>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ab2b8ca2ebb397993b0c04da16befa1d2"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab2b8ca2ebb397993b0c04da16befa1d2"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGpuRegionTimerImpl_3_01GpuFramework_1_1OpenCL_01_4.xhtml#ab2b8ca2ebb397993b0c04da16befa1d2">openTimingRegion</a> (CommandStream)</td></tr>
<tr class="memdesc:ab2b8ca2ebb397993b0c04da16befa1d2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Should be called before the region start. <br/></td></tr>
<tr class="separator:ab2b8ca2ebb397993b0c04da16befa1d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab63b30a384af078deb22d2caddab0201"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab63b30a384af078deb22d2caddab0201"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGpuRegionTimerImpl_3_01GpuFramework_1_1OpenCL_01_4.xhtml#ab63b30a384af078deb22d2caddab0201">closeTimingRegion</a> (CommandStream)</td></tr>
<tr class="memdesc:ab63b30a384af078deb22d2caddab0201"><td class="mdescLeft">&#160;</td><td class="mdescRight">Should be called after the region end. <br/></td></tr>
<tr class="separator:ab63b30a384af078deb22d2caddab0201"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf69500bd1689000b1f912cfde95a8a1"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="acf69500bd1689000b1f912cfde95a8a1"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGpuRegionTimerImpl_3_01GpuFramework_1_1OpenCL_01_4.xhtml#acf69500bd1689000b1f912cfde95a8a1">getLastRangeTime</a> ()</td></tr>
<tr class="memdesc:acf69500bd1689000b1f912cfde95a8a1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the last measured region timespan (in milliseconds) and calls <a class="el" href="classGpuRegionTimerImpl_3_01GpuFramework_1_1OpenCL_01_4.xhtml#ad90abfebd65ecfa9bd687bba6865b347" title="Resets the internal state, releasing the used cl_events. ">reset()</a>. <br/></td></tr>
<tr class="separator:acf69500bd1689000b1f912cfde95a8a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad90abfebd65ecfa9bd687bba6865b347"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad90abfebd65ecfa9bd687bba6865b347"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGpuRegionTimerImpl_3_01GpuFramework_1_1OpenCL_01_4.xhtml#ad90abfebd65ecfa9bd687bba6865b347">reset</a> ()</td></tr>
<tr class="memdesc:ad90abfebd65ecfa9bd687bba6865b347"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resets the internal state, releasing the used cl_events. <br/></td></tr>
<tr class="separator:ad90abfebd65ecfa9bd687bba6865b347"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac68670d866a4d4ebcf531034396e204"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aac68670d866a4d4ebcf531034396e204"></a>
CommandEvent *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGpuRegionTimerImpl_3_01GpuFramework_1_1OpenCL_01_4.xhtml#aac68670d866a4d4ebcf531034396e204">fetchNextEvent</a> ()</td></tr>
<tr class="memdesc:aac68670d866a4d4ebcf531034396e204"><td class="mdescLeft">&#160;</td><td class="mdescRight">Provides next unused cl_event for OpenCL API consumption. <br/></td></tr>
<tr class="separator:aac68670d866a4d4ebcf531034396e204"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>src/gromacs/gpu_utils/<a class="el" href="gpuregiontimer__ocl_8h.xhtml">gpuregiontimer_ocl.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Aug 23 2018 14:56:13 for Gromacs by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
