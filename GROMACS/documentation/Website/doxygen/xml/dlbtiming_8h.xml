<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.5">
  <compounddef id="dlbtiming_8h" kind="file">
    <compoundname>dlbtiming.h</compoundname>
    <includedby refid="dlbtiming_8cpp" local="yes">src/gromacs/domdec/dlbtiming.cpp</includedby>
    <includedby refid="force_8h" local="yes">src/gromacs/mdlib/force.h</includedby>
    <includedby refid="shellfc_8h" local="yes">src/gromacs/mdlib/shellfc.h</includedby>
    <includedby refid="domdec__constraints_8cpp" local="yes">src/gromacs/domdec/domdec_constraints.cpp</includedby>
    <includedby refid="shellfc_8cpp" local="yes">src/gromacs/mdlib/shellfc.cpp</includedby>
    <includedby refid="sim__util_8cpp" local="yes">src/gromacs/mdlib/sim_util.cpp</includedby>
    <includedby refid="pull__rotation_8cpp" local="yes">src/gromacs/pulling/pull_rotation.cpp</includedby>
    <invincdepgraph>
      <node id="3932">
        <label>src/gromacs/domdec/dlbtiming.h</label>
        <link refid="dlbtiming.h"/>
        <childnode refid="3933" relation="include">
        </childnode>
      </node>
      <node id="3933">
        <label>src/gromacs/domdec/domdec_constraints.cpp</label>
        <link refid="domdec__constraints_8cpp"/>
      </node>
    </invincdepgraph>
      <sectiondef kind="enum">
      <memberdef kind="enum" id="dlbtiming_8h_1a555d67b2a20d20a7583b593957cdead9" prot="public" static="no">
        <name>DdOpenBalanceRegionBeforeForceComputation</name>
        <enumvalue id="dlbtiming_8h_1a555d67b2a20d20a7583b593957cdead9a7fa3b767c460b54a2be4d49030b349c7" prot="public">
          <name>no</name>
          <briefdescription>
<para>Do not open a balancing region. </para>          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="dlbtiming_8h_1a555d67b2a20d20a7583b593957cdead9aa6105c0a611b41b08f1209506350279e" prot="public">
          <name>yes</name>
          <briefdescription>
<para>Open the balancing region before update or after pair-search. </para>          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <briefdescription>
<para>Tells if we should open the balancing region. </para>        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/jenkins/workspace/Release_workflow_master/gromacs-2018.3/src/gromacs/domdec/dlbtiming.h" line="53" column="1" bodyfile="/home/jenkins/workspace/Release_workflow_master/gromacs-2018.3/src/gromacs/domdec/dlbtiming.h" bodystart="52" bodyend="56"/>
      </memberdef>
      <memberdef kind="enum" id="dlbtiming_8h_1aaa52baf672aa152180f7777fb64c1f86" prot="public" static="no">
        <name>DdCloseBalanceRegionAfterForceComputation</name>
        <enumvalue id="dlbtiming_8h_1aaa52baf672aa152180f7777fb64c1f86a7fa3b767c460b54a2be4d49030b349c7" prot="public">
          <name>no</name>
          <briefdescription>
<para>Do not close a balancing region. </para>          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="dlbtiming_8h_1aaa52baf672aa152180f7777fb64c1f86aa6105c0a611b41b08f1209506350279e" prot="public">
          <name>yes</name>
          <briefdescription>
<para>Close the balancing region after computation completed. </para>          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <briefdescription>
<para>Tells if we should close the balancing region after the force computation has completed. </para>        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/jenkins/workspace/Release_workflow_master/gromacs-2018.3/src/gromacs/domdec/dlbtiming.h" line="60" column="1" bodyfile="/home/jenkins/workspace/Release_workflow_master/gromacs-2018.3/src/gromacs/domdec/dlbtiming.h" bodystart="59" bodyend="63"/>
      </memberdef>
      <memberdef kind="enum" id="dlbtiming_8h_1a4c394e83d3a1d89ac14e90553e54dff4" prot="public" static="no">
        <name>DdAllowBalanceRegionReopen</name>
        <enumvalue id="dlbtiming_8h_1a4c394e83d3a1d89ac14e90553e54dff4a7fa3b767c460b54a2be4d49030b349c7" prot="public">
          <name>no</name>
          <briefdescription>
<para>Do not allow opening an already open region. </para>          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="dlbtiming_8h_1a4c394e83d3a1d89ac14e90553e54dff4aa6105c0a611b41b08f1209506350279e" prot="public">
          <name>yes</name>
          <briefdescription>
<para>Allow opening an already open region. </para>          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <briefdescription>
<para>Tells if we should open the balancing region. </para>        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/jenkins/workspace/Release_workflow_master/gromacs-2018.3/src/gromacs/domdec/dlbtiming.h" line="67" column="1" bodyfile="/home/jenkins/workspace/Release_workflow_master/gromacs-2018.3/src/gromacs/domdec/dlbtiming.h" bodystart="66" bodyend="70"/>
      </memberdef>
      <memberdef kind="enum" id="dlbtiming_8h_1a187697058dfa34f355e4ee2e8fcf1dc1" prot="public" static="no">
        <name>DdBalanceRegionWaitedForGpu</name>
        <enumvalue id="dlbtiming_8h_1a187697058dfa34f355e4ee2e8fcf1dc1a7fa3b767c460b54a2be4d49030b349c7" prot="public">
          <name>no</name>
          <briefdescription>
<para>The GPU finished computation before the CPU needed the result. </para>          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="dlbtiming_8h_1a187697058dfa34f355e4ee2e8fcf1dc1aa6105c0a611b41b08f1209506350279e" prot="public">
          <name>yes</name>
          <briefdescription>
<para>We had to wait for the GPU to finish computation. </para>          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <briefdescription>
<para>Tells if we had to wait for a GPU to finish computation. </para>        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/jenkins/workspace/Release_workflow_master/gromacs-2018.3/src/gromacs/domdec/dlbtiming.h" line="74" column="1" bodyfile="/home/jenkins/workspace/Release_workflow_master/gromacs-2018.3/src/gromacs/domdec/dlbtiming.h" bodystart="73" bodyend="77"/>
      </memberdef>
      </sectiondef>
      <sectiondef kind="func">
      <memberdef kind="function" id="dlbtiming_8h_1a3e947d7078ad0590b620ffd531131ae7" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="structBalanceRegion" kindref="compound">BalanceRegion</ref> *</type>
        <definition>BalanceRegion* ddBalanceRegionAllocate</definition>
        <argsstring>()</argsstring>
        <name>ddBalanceRegionAllocate</name>
        <briefdescription>
<para>Returns a pointer to a constructed <computeroutput><ref refid="structBalanceRegion" kindref="compound">BalanceRegion</ref></computeroutput> struct. </para>        </briefdescription>
        <detaileddescription>
<para>Should be replaced by a proper constructor once <ref refid="structBalanceRegion" kindref="compound">BalanceRegion</ref> is a proper class (requires restructering in domdec.cpp). </para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/jenkins/workspace/Release_workflow_master/gromacs-2018.3/src/gromacs/domdec/dlbtiming.h" line="84" column="1" bodyfile="/home/jenkins/workspace/Release_workflow_master/gromacs-2018.3/src/gromacs/domdec/dlbtiming.cpp" bodystart="65" bodyend="68"/>
      </memberdef>
      <memberdef kind="function" id="dlbtiming_8h_1a4d3d272c97439edb30af355212cbec66" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void ddOpenBalanceRegionCpu</definition>
        <argsstring>(const gmx_domdec_t *dd, DdAllowBalanceRegionReopen allowReopen)</argsstring>
        <name>ddOpenBalanceRegionCpu</name>
        <param>
          <type>const <ref refid="structgmx__domdec__t" kindref="compound">gmx_domdec_t</ref> *</type>
          <declname>dd</declname>
        </param>
        <param>
          <type><ref refid="dlbtiming_8h_1a4c394e83d3a1d89ac14e90553e54dff4" kindref="member">DdAllowBalanceRegionReopen</ref></type>
          <declname>allowReopen</declname>
        </param>
        <briefdescription>
<para>Open the load balance timing region on the CPU. </para>        </briefdescription>
        <detaileddescription>
<para>Opens the balancing region for timing how much time it takes to perform the (balancable part of) the MD step. This should be called right after the last communication during the previous step to maximize the region. In practice this means right after the force communication finished or just before neighbor search at search steps. It is assumed that computation done in the region either scales along with the domain size or takes constant time.</para><para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="inout">dd</parametername>
</parameternamelist>
<parameterdescription>
<para>The domain decomposition struct </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">allowReopen</parametername>
</parameternamelist>
<parameterdescription>
<para>Allows calling with a potentially already opened region </para></parameterdescription>
</parameteritem>
</parameterlist>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/jenkins/workspace/Release_workflow_master/gromacs-2018.3/src/gromacs/domdec/dlbtiming.h" line="99" column="1" bodyfile="/home/jenkins/workspace/Release_workflow_master/gromacs-2018.3/src/gromacs/domdec/dlbtiming.cpp" bodystart="83" bodyend="96"/>
      </memberdef>
      <memberdef kind="function" id="dlbtiming_8h_1aec1d7f9fa80911cece8fa7634ce34f4d" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void ddOpenBalanceRegionGpu</definition>
        <argsstring>(const gmx_domdec_t *dd)</argsstring>
        <name>ddOpenBalanceRegionGpu</name>
        <param>
          <type>const <ref refid="structgmx__domdec__t" kindref="compound">gmx_domdec_t</ref> *</type>
          <declname>dd</declname>
        </param>
        <briefdescription>
<para>Open the load balance timing region for the CPU. </para>        </briefdescription>
        <detaileddescription>
<para>This can only be called within a region that is open on the CPU side. </para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/jenkins/workspace/Release_workflow_master/gromacs-2018.3/src/gromacs/domdec/dlbtiming.h" line="106" column="1" bodyfile="/home/jenkins/workspace/Release_workflow_master/gromacs-2018.3/src/gromacs/domdec/dlbtiming.cpp" bodystart="98" bodyend="106"/>
      </memberdef>
      <memberdef kind="function" id="dlbtiming_8h_1a73df0ce2d73d76962ec17c425c8e22c9" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void ddReopenBalanceRegionCpu</definition>
        <argsstring>(const gmx_domdec_t *dd)</argsstring>
        <name>ddReopenBalanceRegionCpu</name>
        <param>
          <type>const <ref refid="structgmx__domdec__t" kindref="compound">gmx_domdec_t</ref> *</type>
          <declname>dd</declname>
        </param>
        <briefdescription>
<para>Re-open the, already opened, load balance timing region. </para>        </briefdescription>
        <detaileddescription>
<para>This function should be called after every MPI communication that occurs in the main MD loop. Note that the current setup assumes that all MPI communication acts like a global barrier. But if some ranks don&apos;t participate in communication or if some ranks communicate faster with neighbors than others, the obtained timings might not accurately reflect the computation time.</para><para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="inout">dd</parametername>
</parameternamelist>
<parameterdescription>
<para>The domain decomposition struct </para></parameterdescription>
</parameteritem>
</parameterlist>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/jenkins/workspace/Release_workflow_master/gromacs-2018.3/src/gromacs/domdec/dlbtiming.h" line="119" column="1" bodyfile="/home/jenkins/workspace/Release_workflow_master/gromacs-2018.3/src/gromacs/domdec/dlbtiming.cpp" bodystart="108" bodyend="116"/>
      </memberdef>
      <memberdef kind="function" id="dlbtiming_8h_1a9db3bd2076fc9160ed86edf809777c07" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void ddCloseBalanceRegionCpu</definition>
        <argsstring>(const gmx_domdec_t *dd)</argsstring>
        <name>ddCloseBalanceRegionCpu</name>
        <param>
          <type>const <ref refid="structgmx__domdec__t" kindref="compound">gmx_domdec_t</ref> *</type>
          <declname>dd</declname>
        </param>
        <briefdescription>
<para>Close the load balance timing region on the CPU side. </para>        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="inout">dd</parametername>
</parameternamelist>
<parameterdescription>
<para>The domain decomposition struct </para></parameterdescription>
</parameteritem>
</parameterlist>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/jenkins/workspace/Release_workflow_master/gromacs-2018.3/src/gromacs/domdec/dlbtiming.h" line="125" column="1" bodyfile="/home/jenkins/workspace/Release_workflow_master/gromacs-2018.3/src/gromacs/domdec/dlbtiming.cpp" bodystart="118" bodyend="140"/>
      </memberdef>
      <memberdef kind="function" id="dlbtiming_8h_1ad21242f7a9553972329faf0d7f15c13a" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void ddCloseBalanceRegionGpu</definition>
        <argsstring>(const gmx_domdec_t *dd, float waitCyclesGpuInCpuRegion, DdBalanceRegionWaitedForGpu waitedForGpu)</argsstring>
        <name>ddCloseBalanceRegionGpu</name>
        <param>
          <type>const <ref refid="structgmx__domdec__t" kindref="compound">gmx_domdec_t</ref> *</type>
          <declname>dd</declname>
        </param>
        <param>
          <type>float</type>
          <declname>waitCyclesGpuInCpuRegion</declname>
        </param>
        <param>
          <type><ref refid="dlbtiming_8h_1a187697058dfa34f355e4ee2e8fcf1dc1" kindref="member">DdBalanceRegionWaitedForGpu</ref></type>
          <declname>waitedForGpu</declname>
        </param>
        <briefdescription>
<para>Close the load balance timing region on the GPU side. </para>        </briefdescription>
        <detaileddescription>
<para>This should be called after the CPU receives the last (local) results from the GPU. The wait time for these results is estimated, depending on the <computeroutput>waitedForGpu</computeroutput> parameter. If called on an already closed region, this call does nothing.</para><para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="inout">dd</parametername>
</parameternamelist>
<parameterdescription>
<para>The domain decomposition struct </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">waitCyclesGpuInCpuRegion</parametername>
</parameternamelist>
<parameterdescription>
<para>The time we waited for the GPU earlier, overlapping completely with the open CPU region </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">waitedForGpu</parametername>
</parameternamelist>
<parameterdescription>
<para>Tells if we waited for the GPU to finish now </para></parameterdescription>
</parameteritem>
</parameterlist>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/jenkins/workspace/Release_workflow_master/gromacs-2018.3/src/gromacs/domdec/dlbtiming.h" line="138" column="1" bodyfile="/home/jenkins/workspace/Release_workflow_master/gromacs-2018.3/src/gromacs/domdec/dlbtiming.cpp" bodystart="142" bodyend="172"/>
      </memberdef>
      </sectiondef>
    <briefdescription>
<para>This file declares functions for timing the load imbalance due to domain decomposition. </para>    </briefdescription>
    <detaileddescription>
<para> <libinternal /> </para><para><simplesect kind="author"><para>Berk Hess <ulink url="mailto:hess@kth.se">hess@kth.se</ulink> </para></simplesect>
</para>    </detaileddescription>
    <location file="/home/jenkins/workspace/Release_workflow_master/gromacs-2018.3/src/gromacs/domdec/dlbtiming.h"/>
  </compounddef>
</doxygen>
