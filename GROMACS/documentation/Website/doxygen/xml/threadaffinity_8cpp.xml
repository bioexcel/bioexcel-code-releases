<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.5">
  <compounddef id="threadaffinity_8cpp" kind="file">
    <compoundname>threadaffinity.cpp</compoundname>
    <includes refid="gmxpre_8h" local="yes">gmxpre.h</includes>
    <includes refid="threadaffinity_8h" local="yes">threadaffinity.h</includes>
    <includes local="yes">config.h</includes>
    <includes local="no">cerrno</includes>
    <includes local="no">cstdio</includes>
    <includes local="no">cstring</includes>
    <includes local="yes">thread_mpi/threads.h</includes>
    <includes refid="hardwaretopology_8h" local="yes">gromacs/hardware/hardwaretopology.h</includes>
    <includes refid="hw__info_8h" local="yes">gromacs/hardware/hw_info.h</includes>
    <includes refid="commrec_8h" local="yes">gromacs/mdtypes/commrec.h</includes>
    <includes refid="basenetwork_8h" local="yes">gromacs/utility/basenetwork.h</includes>
    <includes refid="cstringutil_8h" local="yes">gromacs/utility/cstringutil.h</includes>
    <includes refid="exceptions_8h" local="yes">gromacs/utility/exceptions.h</includes>
    <includes refid="fatalerror_8h" local="yes">gromacs/utility/fatalerror.h</includes>
    <includes refid="gmxassert_8h" local="yes">gromacs/utility/gmxassert.h</includes>
    <includes refid="gmxomp_8h" local="yes">gromacs/utility/gmxomp.h</includes>
    <includes refid="logger_8h" local="yes">gromacs/utility/logger.h</includes>
    <includes refid="programcontext_8h" local="yes">gromacs/utility/programcontext.h</includes>
    <includes refid="smalloc_8h" local="yes">gromacs/utility/smalloc.h</includes>
    <includes refid="unique__cptr_8h" local="yes">gromacs/utility/unique_cptr.h</includes>
    <incdepgraph>
      <node id="17892">
        <label>stdarg.h</label>
      </node>
      <node id="17889">
        <label>gromacs/utility/current_function.h</label>
        <link refid="current__function_8h"/>
      </node>
      <node id="17874">
        <label>thread_mpi/threads.h</label>
      </node>
      <node id="17876">
        <label>cstdint</label>
      </node>
      <node id="17864">
        <label>src/gromacs/mdrunutility/threadaffinity.cpp</label>
        <link refid="threadaffinity.cpp"/>
        <childnode refid="17865" relation="include">
        </childnode>
        <childnode refid="17866" relation="include">
        </childnode>
        <childnode refid="17871" relation="include">
        </childnode>
        <childnode refid="17872" relation="include">
        </childnode>
        <childnode refid="17867" relation="include">
        </childnode>
        <childnode refid="17873" relation="include">
        </childnode>
        <childnode refid="17874" relation="include">
        </childnode>
        <childnode refid="17875" relation="include">
        </childnode>
        <childnode refid="17878" relation="include">
        </childnode>
        <childnode refid="17879" relation="include">
        </childnode>
        <childnode refid="17881" relation="include">
        </childnode>
        <childnode refid="17891" relation="include">
        </childnode>
        <childnode refid="17890" relation="include">
        </childnode>
        <childnode refid="17893" relation="include">
        </childnode>
        <childnode refid="17894" relation="include">
        </childnode>
        <childnode refid="17895" relation="include">
        </childnode>
        <childnode refid="17896" relation="include">
        </childnode>
        <childnode refid="17898" relation="include">
        </childnode>
      </node>
      <node id="17869">
        <label>stdint.h</label>
      </node>
      <node id="17875">
        <label>gromacs/hardware/hardwaretopology.h</label>
        <link refid="hardwaretopology_8h"/>
        <childnode refid="17876" relation="include">
        </childnode>
        <childnode refid="17877" relation="include">
        </childnode>
      </node>
      <node id="17879">
        <label>gromacs/utility/cstringutil.h</label>
        <link refid="cstringutil_8h"/>
        <childnode refid="17880" relation="include">
        </childnode>
        <childnode refid="17868" relation="include">
        </childnode>
      </node>
      <node id="17885">
        <label>string</label>
      </node>
      <node id="17888">
        <label>gromacs/utility/classhelpers.h</label>
        <link refid="classhelpers_8h"/>
        <childnode refid="17884" relation="include">
        </childnode>
      </node>
      <node id="17883">
        <label>exception</label>
      </node>
      <node id="17897">
        <label>stddef.h</label>
      </node>
      <node id="17898">
        <label>gromacs/utility/unique_cptr.h</label>
        <link refid="unique__cptr_8h"/>
        <childnode refid="17882" relation="include">
        </childnode>
        <childnode refid="17884" relation="include">
        </childnode>
        <childnode refid="17896" relation="include">
        </childnode>
      </node>
      <node id="17866">
        <label>threadaffinity.h</label>
        <link refid="threadaffinity_8h"/>
        <childnode refid="17867" relation="include">
        </childnode>
        <childnode refid="17868" relation="include">
        </childnode>
      </node>
      <node id="17890">
        <label>gromacs/utility/gmxassert.h</label>
        <link refid="gmxassert_8h"/>
        <childnode refid="17868" relation="include">
        </childnode>
        <childnode refid="17889" relation="include">
        </childnode>
      </node>
      <node id="17867">
        <label>cstdio</label>
      </node>
      <node id="17896">
        <label>gromacs/utility/smalloc.h</label>
        <link refid="smalloc_8h"/>
        <childnode refid="17897" relation="include">
        </childnode>
        <childnode refid="17868" relation="include">
        </childnode>
      </node>
      <node id="17877">
        <label>vector</label>
      </node>
      <node id="17865">
        <label>gmxpre.h</label>
        <link refid="gmxpre_8h"/>
      </node>
      <node id="17868">
        <label>gromacs/utility/basedefinitions.h</label>
        <link refid="basedefinitions_8h"/>
        <childnode refid="17869" relation="include">
        </childnode>
        <childnode refid="17870" relation="include">
        </childnode>
      </node>
      <node id="17872">
        <label>cerrno</label>
      </node>
      <node id="17882">
        <label>cstdlib</label>
      </node>
      <node id="17881">
        <label>gromacs/utility/exceptions.h</label>
        <link refid="exceptions_8h"/>
        <childnode refid="17867" relation="include">
        </childnode>
        <childnode refid="17882" relation="include">
        </childnode>
        <childnode refid="17883" relation="include">
        </childnode>
        <childnode refid="17884" relation="include">
        </childnode>
        <childnode refid="17885" relation="include">
        </childnode>
        <childnode refid="17886" relation="include">
        </childnode>
        <childnode refid="17887" relation="include">
        </childnode>
        <childnode refid="17877" relation="include">
        </childnode>
        <childnode refid="17868" relation="include">
        </childnode>
        <childnode refid="17888" relation="include">
        </childnode>
        <childnode refid="17889" relation="include">
        </childnode>
        <childnode refid="17890" relation="include">
        </childnode>
      </node>
      <node id="17878">
        <label>gromacs/utility/basenetwork.h</label>
        <link refid="basenetwork_8h"/>
      </node>
      <node id="17894">
        <label>gromacs/utility/logger.h</label>
        <link refid="logger_8h"/>
        <childnode refid="17885" relation="include">
        </childnode>
      </node>
      <node id="17895">
        <label>gromacs/utility/programcontext.h</label>
        <link refid="programcontext_8h"/>
      </node>
      <node id="17886">
        <label>type_traits</label>
      </node>
      <node id="17871">
        <label>config.h</label>
      </node>
      <node id="17891">
        <label>gromacs/utility/fatalerror.h</label>
        <link refid="fatalerror_8h"/>
        <childnode refid="17892" relation="include">
        </childnode>
        <childnode refid="17880" relation="include">
        </childnode>
        <childnode refid="17868" relation="include">
        </childnode>
      </node>
      <node id="17880">
        <label>stdio.h</label>
      </node>
      <node id="17873">
        <label>cstring</label>
      </node>
      <node id="17884">
        <label>memory</label>
      </node>
      <node id="17870">
        <label>inttypes.h</label>
      </node>
      <node id="17887">
        <label>typeindex</label>
      </node>
      <node id="17893">
        <label>gromacs/utility/gmxomp.h</label>
        <link refid="gmxomp_8h"/>
        <childnode refid="17871" relation="include">
        </childnode>
        <childnode refid="17880" relation="include">
        </childnode>
        <childnode refid="17868" relation="include">
        </childnode>
      </node>
    </incdepgraph>
    <innerclass refid="classanonymous__namespace_02threadaffinity_8cpp_03_1_1DefaultThreadAffinityAccess" prot="public">anonymous_namespace{threadaffinity.cpp}::DefaultThreadAffinityAccess</innerclass>
    <innernamespace refid="namespaceanonymous__namespace_02threadaffinity_8cpp_03">anonymous_namespace{threadaffinity.cpp}</innernamespace>
      <sectiondef kind="func">
      <memberdef kind="function" id="threadaffinity_8cpp_1a3a7780da7fe9739b2bbf05f8330df531" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>bool</type>
        <definition>static bool invalidWithinSimulation</definition>
        <argsstring>(const t_commrec *cr, bool invalidLocally)</argsstring>
        <name>invalidWithinSimulation</name>
        <param>
          <type>const <ref refid="structt__commrec" kindref="compound">t_commrec</ref> *</type>
          <declname>cr</declname>
        </param>
        <param>
          <type>bool</type>
          <declname>invalidLocally</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/jenkins/workspace/Release_workflow_master/gromacs-2018.3/src/gromacs/mdrunutility/threadaffinity.cpp" line="96" column="1" bodyfile="/home/jenkins/workspace/Release_workflow_master/gromacs-2018.3/src/gromacs/mdrunutility/threadaffinity.cpp" bodystart="96" bodyend="111"/>
      </memberdef>
      <memberdef kind="function" id="threadaffinity_8cpp_1a8cb503a4538a4ff73d8124f6e5ce7db0" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>bool</type>
        <definition>static bool get_thread_affinity_layout</definition>
        <argsstring>(const gmx::MDLogger &amp;mdlog, const t_commrec *cr, const gmx::HardwareTopology &amp;hwTop, int threads, bool affinityIsAutoAndNumThreadsIsNotAuto, int pin_offset, int *pin_stride, int **localityOrder, bool *issuedWarning)</argsstring>
        <name>get_thread_affinity_layout</name>
        <param>
          <type>const <ref refid="classgmx_1_1MDLogger" kindref="compound">gmx::MDLogger</ref> &amp;</type>
          <declname>mdlog</declname>
        </param>
        <param>
          <type>const <ref refid="structt__commrec" kindref="compound">t_commrec</ref> *</type>
          <declname>cr</declname>
        </param>
        <param>
          <type>const <ref refid="classgmx_1_1HardwareTopology" kindref="compound">gmx::HardwareTopology</ref> &amp;</type>
          <declname>hwTop</declname>
        </param>
        <param>
          <type>int</type>
          <declname>threads</declname>
        </param>
        <param>
          <type>bool</type>
          <declname>affinityIsAutoAndNumThreadsIsNotAuto</declname>
        </param>
        <param>
          <type>int</type>
          <declname>pin_offset</declname>
        </param>
        <param>
          <type>int *</type>
          <declname>pin_stride</declname>
        </param>
        <param>
          <type>int **</type>
          <declname>localityOrder</declname>
        </param>
        <param>
          <type>bool *</type>
          <declname>issuedWarning</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/jenkins/workspace/Release_workflow_master/gromacs-2018.3/src/gromacs/mdrunutility/threadaffinity.cpp" line="114" column="1" bodyfile="/home/jenkins/workspace/Release_workflow_master/gromacs-2018.3/src/gromacs/mdrunutility/threadaffinity.cpp" bodystart="114" bodyend="266"/>
      </memberdef>
      <memberdef kind="function" id="threadaffinity_8cpp_1a70ddc7c706249857d92b7228ad0defa8" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>bool</type>
        <definition>static bool set_affinity</definition>
        <argsstring>(const t_commrec *cr, int nthread_local, int thread0_id_node, int offset, int core_pinning_stride, int *localityOrder, gmx::IThreadAffinityAccess *affinityAccess)</argsstring>
        <name>set_affinity</name>
        <param>
          <type>const <ref refid="structt__commrec" kindref="compound">t_commrec</ref> *</type>
          <declname>cr</declname>
        </param>
        <param>
          <type>int</type>
          <declname>nthread_local</declname>
        </param>
        <param>
          <type>int</type>
          <declname>thread0_id_node</declname>
        </param>
        <param>
          <type>int</type>
          <declname>offset</declname>
        </param>
        <param>
          <type>int</type>
          <declname>core_pinning_stride</declname>
        </param>
        <param>
          <type>int *</type>
          <declname>localityOrder</declname>
        </param>
        <param>
          <type><ref refid="classgmx_1_1IThreadAffinityAccess" kindref="compound">gmx::IThreadAffinityAccess</ref> *</type>
          <declname>affinityAccess</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/jenkins/workspace/Release_workflow_master/gromacs-2018.3/src/gromacs/mdrunutility/threadaffinity.cpp" line="268" column="1" bodyfile="/home/jenkins/workspace/Release_workflow_master/gromacs-2018.3/src/gromacs/mdrunutility/threadaffinity.cpp" bodystart="268" bodyend="355"/>
      </memberdef>
      <memberdef kind="function" id="threadaffinity_8cpp_1a9214433fcc6e46eb1e0d35597bc0fd0a" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void gmx_set_thread_affinity</definition>
        <argsstring>(const gmx::MDLogger &amp;mdlog, const t_commrec *cr, const gmx_hw_opt_t *hw_opt, const gmx::HardwareTopology &amp;hwTop, int nthread_local, gmx::IThreadAffinityAccess *affinityAccess)</argsstring>
        <name>gmx_set_thread_affinity</name>
        <param>
          <type>const <ref refid="classgmx_1_1MDLogger" kindref="compound">gmx::MDLogger</ref> &amp;</type>
          <declname>mdlog</declname>
        </param>
        <param>
          <type>const <ref refid="structt__commrec" kindref="compound">t_commrec</ref> *</type>
          <declname>cr</declname>
        </param>
        <param>
          <type>const <ref refid="structgmx__hw__opt__t" kindref="compound">gmx_hw_opt_t</ref> *</type>
          <declname>hw_opt</declname>
        </param>
        <param>
          <type>const <ref refid="classgmx_1_1HardwareTopology" kindref="compound">gmx::HardwareTopology</ref> &amp;</type>
          <declname>hwTop</declname>
        </param>
        <param>
          <type>int</type>
          <declname>nthread_local</declname>
        </param>
        <param>
          <type><ref refid="classgmx_1_1IThreadAffinityAccess" kindref="compound">gmx::IThreadAffinityAccess</ref> *</type>
          <declname>affinityAccess</declname>
        </param>
        <briefdescription>
<para>Sets the thread affinity using the requested setting stored in hw_opt. </para>        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/jenkins/workspace/Release_workflow_master/gromacs-2018.3/src/gromacs/mdrunutility/threadaffinity.cpp" line="367" column="1" bodyfile="/home/jenkins/workspace/Release_workflow_master/gromacs-2018.3/src/gromacs/mdrunutility/threadaffinity.cpp" bodystart="367" bodyend="460"/>
      </memberdef>
      <memberdef kind="function" id="threadaffinity_8cpp_1aa682feb8045bf7178608d35f48089adc" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void gmx_check_thread_affinity_set</definition>
        <argsstring>(const gmx::MDLogger &amp;mdlog, const t_commrec *cr, gmx_hw_opt_t *hw_opt, int nthreads_hw_avail, gmx_bool bAfterOpenmpInit)</argsstring>
        <name>gmx_check_thread_affinity_set</name>
        <param>
          <type>const <ref refid="classgmx_1_1MDLogger" kindref="compound">gmx::MDLogger</ref> &amp;</type>
          <declname>mdlog</declname>
        </param>
        <param>
          <type>const <ref refid="structt__commrec" kindref="compound">t_commrec</ref> *</type>
          <declname>cr</declname>
        </param>
        <param>
          <type><ref refid="structgmx__hw__opt__t" kindref="compound">gmx_hw_opt_t</ref> *</type>
          <declname>hw_opt</declname>
        </param>
        <param>
          <type>int</type>
          <declname>ncpus</declname>
          <defname>nthreads_hw_avail</defname>
        </param>
        <param>
          <type><ref refid="basedefinitions_8h_1a8fddad319f226e856400d190198d5151" kindref="member">gmx_bool</ref></type>
          <declname>bAfterOpenmpInit</declname>
        </param>
        <briefdescription>
<para>Checks the process affinity mask and if it is found to be non-zero, will honor it and disable mdrun internal affinity setting. </para>        </briefdescription>
        <detaileddescription>
<para>This function should be called first before the OpenMP library gets initialized with the last argument FALSE (which will detect affinity set by external tools like taskset), and later, after the OpenMP initialization, with the last argument TRUE to detect affinity changes made by the OpenMP library.</para><para>Note that this will only work on Linux as we use a GNU feature. With bAfterOpenmpInit false, it will also detect whether OpenMP environment variables for setting the affinity are set. </para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/jenkins/workspace/Release_workflow_master/gromacs-2018.3/src/gromacs/mdrunutility/threadaffinity.cpp" line="467" column="1" bodyfile="/home/jenkins/workspace/Release_workflow_master/gromacs-2018.3/src/gromacs/mdrunutility/threadaffinity.cpp" bodystart="467" bodyend="611"/>
      </memberdef>
      </sectiondef>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <location file="/home/jenkins/workspace/Release_workflow_master/gromacs-2018.3/src/gromacs/mdrunutility/threadaffinity.cpp"/>
  </compounddef>
</doxygen>
