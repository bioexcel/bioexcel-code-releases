<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.5">
  <compounddef id="gmx__omp__nthreads_8cpp" kind="file">
    <compoundname>gmx_omp_nthreads.cpp</compoundname>
    <includes refid="gmxpre_8h" local="yes">gmxpre.h</includes>
    <includes refid="gmx__omp__nthreads_8h" local="yes">gmx_omp_nthreads.h</includes>
    <includes local="yes">config.h</includes>
    <includes local="no">cstdio</includes>
    <includes local="no">cstdlib</includes>
    <includes local="no">cstring</includes>
    <includes refid="network_8h" local="yes">gromacs/gmxlib/network.h</includes>
    <includes refid="commrec_8h" local="yes">gromacs/mdtypes/commrec.h</includes>
    <includes refid="cstringutil_8h" local="yes">gromacs/utility/cstringutil.h</includes>
    <includes refid="fatalerror_8h" local="yes">gromacs/utility/fatalerror.h</includes>
    <includes refid="gmxassert_8h" local="yes">gromacs/utility/gmxassert.h</includes>
    <includes refid="gmxomp_8h" local="yes">gromacs/utility/gmxomp.h</includes>
    <includes refid="logger_8h" local="yes">gromacs/utility/logger.h</includes>
    <includes refid="programcontext_8h" local="yes">gromacs/utility/programcontext.h</includes>
    <incdepgraph>
      <node id="14733">
        <label>stdarg.h</label>
      </node>
      <node id="14735">
        <label>gromacs/utility/current_function.h</label>
        <link refid="current__function_8h"/>
      </node>
      <node id="14730">
        <label>stdint.h</label>
      </node>
      <node id="14721">
        <label>src/gromacs/mdlib/gmx_omp_nthreads.cpp</label>
        <link refid="gmx_omp_nthreads.cpp"/>
        <childnode refid="14722" relation="include">
        </childnode>
        <childnode refid="14723" relation="include">
        </childnode>
        <childnode refid="14724" relation="include">
        </childnode>
        <childnode refid="14725" relation="include">
        </childnode>
        <childnode refid="14726" relation="include">
        </childnode>
        <childnode refid="14727" relation="include">
        </childnode>
        <childnode refid="14732" relation="include">
        </childnode>
        <childnode refid="14734" relation="include">
        </childnode>
        <childnode refid="14736" relation="include">
        </childnode>
        <childnode refid="14737" relation="include">
        </childnode>
        <childnode refid="14739" relation="include">
        </childnode>
      </node>
      <node id="14727">
        <label>gromacs/utility/cstringutil.h</label>
        <link refid="cstringutil_8h"/>
        <childnode refid="14728" relation="include">
        </childnode>
        <childnode refid="14729" relation="include">
        </childnode>
      </node>
      <node id="14738">
        <label>string</label>
      </node>
      <node id="14734">
        <label>gromacs/utility/gmxassert.h</label>
        <link refid="gmxassert_8h"/>
        <childnode refid="14729" relation="include">
        </childnode>
        <childnode refid="14735" relation="include">
        </childnode>
      </node>
      <node id="14724">
        <label>cstdio</label>
      </node>
      <node id="14722">
        <label>gmxpre.h</label>
        <link refid="gmxpre_8h"/>
      </node>
      <node id="14729">
        <label>gromacs/utility/basedefinitions.h</label>
        <link refid="basedefinitions_8h"/>
        <childnode refid="14730" relation="include">
        </childnode>
        <childnode refid="14731" relation="include">
        </childnode>
      </node>
      <node id="14725">
        <label>cstdlib</label>
      </node>
      <node id="14737">
        <label>gromacs/utility/logger.h</label>
        <link refid="logger_8h"/>
        <childnode refid="14738" relation="include">
        </childnode>
      </node>
      <node id="14739">
        <label>gromacs/utility/programcontext.h</label>
        <link refid="programcontext_8h"/>
      </node>
      <node id="14723">
        <label>config.h</label>
      </node>
      <node id="14732">
        <label>gromacs/utility/fatalerror.h</label>
        <link refid="fatalerror_8h"/>
        <childnode refid="14733" relation="include">
        </childnode>
        <childnode refid="14728" relation="include">
        </childnode>
        <childnode refid="14729" relation="include">
        </childnode>
      </node>
      <node id="14728">
        <label>stdio.h</label>
      </node>
      <node id="14726">
        <label>cstring</label>
      </node>
      <node id="14731">
        <label>inttypes.h</label>
      </node>
      <node id="14736">
        <label>gromacs/utility/gmxomp.h</label>
        <link refid="gmxomp_8h"/>
        <childnode refid="14723" relation="include">
        </childnode>
        <childnode refid="14728" relation="include">
        </childnode>
        <childnode refid="14729" relation="include">
        </childnode>
      </node>
    </incdepgraph>
    <innerclass refid="structomp__module__nthreads__t" prot="public">omp_module_nthreads_t</innerclass>
      <sectiondef kind="var">
      <memberdef kind="variable" id="gmx__omp__nthreads_8cpp_1a796f8595e8e4abb558f9a0a175654ece" prot="public" static="yes" mutable="no">
        <type>const char *</type>
        <definition>const char* modth_env_var[emntNR]</definition>
        <argsstring>[emntNR]</argsstring>
        <name>modth_env_var</name>
        <initializer>=
{
    &quot;GMX_DEFAULT_NUM_THREADS should never be <ref refid="parser__internal_8h_1a8553aeb4ef79ad62e90241cf54e221d5" kindref="member">set</ref>&quot;,
    &quot;GMX_DOMDEC_NUM_THREADS&quot;, &quot;GMX_PAIRSEARCH_NUM_THREADS&quot;,
    &quot;GMX_NONBONDED_NUM_THREADS&quot;, &quot;GMX_LISTED_FORCES_NUM_THREADS&quot;,
    &quot;GMX_PME_NUM_THREADS&quot;, &quot;GMX_UPDATE_NUM_THREADS&quot;,
    &quot;GMX_VSITE_NUM_THREADS&quot;,
    &quot;GMX_LINCS_NUM_THREADS&quot;, &quot;GMX_SETTLE_NUM_THREADS&quot;
}</initializer>
        <briefdescription>
<para>Names of environment variables to set the per module number of threads. </para>        </briefdescription>
        <detaileddescription>
<para>Indexed with the values of module_nth_t. </para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/jenkins/workspace/Release_workflow_master/gromacs-2018.3/src/gromacs/mdlib/gmx_omp_nthreads.cpp" line="70" column="1" bodyfile="/home/jenkins/workspace/Release_workflow_master/gromacs-2018.3/src/gromacs/mdlib/gmx_omp_nthreads.cpp" bodystart="70" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="gmx__omp__nthreads_8cpp_1a6b8ebb60dea625e3362ec8faba1cf8e0" prot="public" static="yes" mutable="no">
        <type>const char *</type>
        <definition>const char* mod_name[emntNR]</definition>
        <argsstring>[emntNR]</argsstring>
        <name>mod_name</name>
        <initializer>=
{
    &quot;default&quot;, &quot;domain decomposition&quot;, &quot;pair search&quot;, &quot;non-bonded&quot;,
    &quot;bonded&quot;, &quot;PME&quot;, &quot;update&quot;, &quot;LINCS&quot;, &quot;SETTLE&quot;
}</initializer>
        <briefdescription>
<para>Names of the modules. </para>        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/jenkins/workspace/Release_workflow_master/gromacs-2018.3/src/gromacs/mdlib/gmx_omp_nthreads.cpp" line="81" column="1" bodyfile="/home/jenkins/workspace/Release_workflow_master/gromacs-2018.3/src/gromacs/mdlib/gmx_omp_nthreads.cpp" bodystart="81" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="gmx__omp__nthreads_8cpp_1a50e637fc24b5b017d7a0bff2128cfad4" prot="public" static="yes" mutable="no">
        <type><ref refid="structomp__module__nthreads__t" kindref="compound">omp_module_nthreads_t</ref></type>
        <definition>omp_module_nthreads_t modth</definition>
        <argsstring></argsstring>
        <name>modth</name>
        <initializer>= { 0, 0, {0, 0, 0, 0, 0, 0, 0, 0, 0},  0 }</initializer>
        <briefdescription>
<para>Number of threads for each algorithmic module. </para>        </briefdescription>
        <detaileddescription>
<para>File-scope global variable that gets set once in pick_module_nthreads() and queried via gmx_omp_nthreads_get().</para><para>All fields are initialized to 0 which should result in errors if the init call is omitted. </para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/jenkins/workspace/Release_workflow_master/gromacs-2018.3/src/gromacs/mdlib/gmx_omp_nthreads.cpp" line="95" column="1" bodyfile="/home/jenkins/workspace/Release_workflow_master/gromacs-2018.3/src/gromacs/mdlib/gmx_omp_nthreads.cpp" bodystart="95" bodyend="-1"/>
      </memberdef>
      </sectiondef>
      <sectiondef kind="func">
      <memberdef kind="function" id="gmx__omp__nthreads_8cpp_1a1987fa1563c553e5569b8e0fb1b7181f" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>static void pick_module_nthreads</definition>
        <argsstring>(const gmx::MDLogger &amp;mdlog, int m, gmx_bool bFullOmpSupport, gmx_bool bSepPME)</argsstring>
        <name>pick_module_nthreads</name>
        <param>
          <type>const <ref refid="classgmx_1_1MDLogger" kindref="compound">gmx::MDLogger</ref> &amp;</type>
          <declname>mdlog</declname>
        </param>
        <param>
          <type>int</type>
          <declname>m</declname>
        </param>
        <param>
          <type><ref refid="basedefinitions_8h_1a8fddad319f226e856400d190198d5151" kindref="member">gmx_bool</ref></type>
          <declname>bFullOmpSupport</declname>
        </param>
        <param>
          <type><ref refid="basedefinitions_8h_1a8fddad319f226e856400d190198d5151" kindref="member">gmx_bool</ref></type>
          <declname>bSepPME</declname>
        </param>
        <briefdescription>
<para>Determine the number of threads for module <computeroutput>mod</computeroutput>. </para>        </briefdescription>
        <detaileddescription>
<para><computeroutput>m</computeroutput> takes values form the module_nth_t enum and maps these to the corresponding value in modth_env_var.</para><para>Each number of threads per module takes the default value unless GMX_*_NUM_THERADS env var is set, case in which its value overrides the deafult.</para><para>The &quot;group&quot; scheme supports OpenMP only in PME and in thise case all but the PME nthread values default to 1. </para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/jenkins/workspace/Release_workflow_master/gromacs-2018.3/src/gromacs/mdlib/gmx_omp_nthreads.cpp" line="110" column="1" bodyfile="/home/jenkins/workspace/Release_workflow_master/gromacs-2018.3/src/gromacs/mdlib/gmx_omp_nthreads.cpp" bodystart="110" bodyend="176"/>
      </memberdef>
      <memberdef kind="function" id="gmx__omp__nthreads_8cpp_1a2175ade5e978f328c5ce6f27bd9e8957" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void gmx_omp_nthreads_read_env</definition>
        <argsstring>(const gmx::MDLogger &amp;mdlog, int *nthreads_omp)</argsstring>
        <name>gmx_omp_nthreads_read_env</name>
        <param>
          <type>const <ref refid="classgmx_1_1MDLogger" kindref="compound">gmx::MDLogger</ref> &amp;</type>
          <declname>mdlog</declname>
        </param>
        <param>
          <type>int *</type>
          <declname>nthreads_omp</declname>
        </param>
        <briefdescription>
<para>Read the OMP_NUM_THREADS env. var. and check against the value set on the command line. </para>        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/jenkins/workspace/Release_workflow_master/gromacs-2018.3/src/gromacs/mdlib/gmx_omp_nthreads.cpp" line="178" column="1" bodyfile="/home/jenkins/workspace/Release_workflow_master/gromacs-2018.3/src/gromacs/mdlib/gmx_omp_nthreads.cpp" bodystart="178" bodyend="223"/>
      </memberdef>
      <memberdef kind="function" id="gmx__omp__nthreads_8cpp_1a07f10dd05ae1f5e7930ede755299582e" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>static void manage_number_of_openmp_threads</definition>
        <argsstring>(const gmx::MDLogger &amp;mdlog, const t_commrec *cr, bool bOMP, int nthreads_hw_avail, int omp_nthreads_req, int omp_nthreads_pme_req, gmx_bool bThisNodePMEOnly, gmx_bool bFullOmpSupport, int nppn, gmx_bool bSepPME)</argsstring>
        <name>manage_number_of_openmp_threads</name>
        <param>
          <type>const <ref refid="classgmx_1_1MDLogger" kindref="compound">gmx::MDLogger</ref> &amp;</type>
          <declname>mdlog</declname>
        </param>
        <param>
          <type>const <ref refid="structt__commrec" kindref="compound">t_commrec</ref> *</type>
          <declname>cr</declname>
        </param>
        <param>
          <type>bool</type>
          <declname>bOMP</declname>
        </param>
        <param>
          <type>int</type>
          <declname>nthreads_hw_avail</declname>
        </param>
        <param>
          <type>int</type>
          <declname>omp_nthreads_req</declname>
        </param>
        <param>
          <type>int</type>
          <declname>omp_nthreads_pme_req</declname>
        </param>
        <param>
          <type><ref refid="basedefinitions_8h_1a8fddad319f226e856400d190198d5151" kindref="member">gmx_bool</ref></type>
          <declname>bThisNodePMEOnly</declname>
        </param>
        <param>
          <type><ref refid="basedefinitions_8h_1a8fddad319f226e856400d190198d5151" kindref="member">gmx_bool</ref></type>
          <declname>bFullOmpSupport</declname>
        </param>
        <param>
          <type>int</type>
          <declname>nppn</declname>
        </param>
        <param>
          <type><ref refid="basedefinitions_8h_1a8fddad319f226e856400d190198d5151" kindref="member">gmx_bool</ref></type>
          <declname>bSepPME</declname>
        </param>
        <briefdescription>
<para>Helper function for parsing various input about the number of OpenMP threads to use in various modules and deciding what to do about it. </para>        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/jenkins/workspace/Release_workflow_master/gromacs-2018.3/src/gromacs/mdlib/gmx_omp_nthreads.cpp" line="228" column="1" bodyfile="/home/jenkins/workspace/Release_workflow_master/gromacs-2018.3/src/gromacs/mdlib/gmx_omp_nthreads.cpp" bodystart="228" bodyend="380"/>
      </memberdef>
      <memberdef kind="function" id="gmx__omp__nthreads_8cpp_1ab84320a556a0c8e52074ad3baf5e9591" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>static void reportOpenmpSettings</definition>
        <argsstring>(const gmx::MDLogger &amp;mdlog, const t_commrec *cr, gmx_bool bOMP, gmx_bool bFullOmpSupport, gmx_bool bSepPME)</argsstring>
        <name>reportOpenmpSettings</name>
        <param>
          <type>const <ref refid="classgmx_1_1MDLogger" kindref="compound">gmx::MDLogger</ref> &amp;</type>
          <declname>mdlog</declname>
        </param>
        <param>
          <type>const <ref refid="structt__commrec" kindref="compound">t_commrec</ref> *</type>
          <declname>cr</declname>
        </param>
        <param>
          <type><ref refid="basedefinitions_8h_1a8fddad319f226e856400d190198d5151" kindref="member">gmx_bool</ref></type>
          <declname>bOMP</declname>
        </param>
        <param>
          <type><ref refid="basedefinitions_8h_1a8fddad319f226e856400d190198d5151" kindref="member">gmx_bool</ref></type>
          <declname>bFullOmpSupport</declname>
        </param>
        <param>
          <type><ref refid="basedefinitions_8h_1a8fddad319f226e856400d190198d5151" kindref="member">gmx_bool</ref></type>
          <declname>bSepPME</declname>
        </param>
        <briefdescription>
<para>Report on the OpenMP settings that will be used. </para>        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/jenkins/workspace/Release_workflow_master/gromacs-2018.3/src/gromacs/mdlib/gmx_omp_nthreads.cpp" line="384" column="1" bodyfile="/home/jenkins/workspace/Release_workflow_master/gromacs-2018.3/src/gromacs/mdlib/gmx_omp_nthreads.cpp" bodystart="384" bodyend="464"/>
      </memberdef>
      <memberdef kind="function" id="gmx__omp__nthreads_8cpp_1a18a1bc9ae74956bd4b6b2cd7a82c25cb" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void gmx_omp_nthreads_init</definition>
        <argsstring>(const gmx::MDLogger &amp;mdlog, t_commrec *cr, int nthreads_hw_avail, int omp_nthreads_req, int omp_nthreads_pme_req, gmx_bool bThisNodePMEOnly, gmx_bool bFullOmpSupport)</argsstring>
        <name>gmx_omp_nthreads_init</name>
        <param>
          <type>const <ref refid="classgmx_1_1MDLogger" kindref="compound">gmx::MDLogger</ref> &amp;</type>
          <declname>fplog</declname>
          <defname>mdlog</defname>
        </param>
        <param>
          <type><ref refid="structt__commrec" kindref="compound">t_commrec</ref> *</type>
          <declname>cr</declname>
        </param>
        <param>
          <type>int</type>
          <declname>nthreads_hw_avail</declname>
        </param>
        <param>
          <type>int</type>
          <declname>omp_nthreads_req</declname>
        </param>
        <param>
          <type>int</type>
          <declname>omp_nthreads_pme_req</declname>
        </param>
        <param>
          <type><ref refid="basedefinitions_8h_1a8fddad319f226e856400d190198d5151" kindref="member">gmx_bool</ref></type>
          <declname>bCurrNodePMEOnly</declname>
          <defname>bThisNodePMEOnly</defname>
        </param>
        <param>
          <type><ref refid="basedefinitions_8h_1a8fddad319f226e856400d190198d5151" kindref="member">gmx_bool</ref></type>
          <declname>bFullOmpSupport</declname>
        </param>
        <briefdescription>
<para>Initializes the per-module thread count. </para>        </briefdescription>
        <detaileddescription>
<para>It is compatible with tMPI, thread-safety is ensured (for the features available with tMPI). This function should caled only once during the initialization of mdrun. </para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/jenkins/workspace/Release_workflow_master/gromacs-2018.3/src/gromacs/mdlib/gmx_omp_nthreads.cpp" line="466" column="1" bodyfile="/home/jenkins/workspace/Release_workflow_master/gromacs-2018.3/src/gromacs/mdlib/gmx_omp_nthreads.cpp" bodystart="466" bodyend="499"/>
      </memberdef>
      <memberdef kind="function" id="gmx__omp__nthreads_8cpp_1a99736c95bb0878532f019dbe195ac5cb" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>int gmx_omp_nthreads_get</definition>
        <argsstring>(int mod)</argsstring>
        <name>gmx_omp_nthreads_get</name>
        <param>
          <type>int</type>
          <declname>mod</declname>
        </param>
        <briefdescription>
<para>Returns the number of threads to be used in the given module <computeroutput>mod</computeroutput>. </para>        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/jenkins/workspace/Release_workflow_master/gromacs-2018.3/src/gromacs/mdlib/gmx_omp_nthreads.cpp" line="501" column="1" bodyfile="/home/jenkins/workspace/Release_workflow_master/gromacs-2018.3/src/gromacs/mdlib/gmx_omp_nthreads.cpp" bodystart="501" bodyend="512"/>
      </memberdef>
      <memberdef kind="function" id="gmx__omp__nthreads_8cpp_1a22b5cfe7e5666d6d558cae83df24b3f7" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void gmx_omp_nthreads_set</definition>
        <argsstring>(int mod, int nthreads)</argsstring>
        <name>gmx_omp_nthreads_set</name>
        <param>
          <type>int</type>
          <declname>mod</declname>
        </param>
        <param>
          <type>int</type>
          <declname>nthreads</declname>
        </param>
        <briefdescription>
<para>Sets the number of threads to be used in module. </para>        </briefdescription>
        <detaileddescription>
<para>Intended for use in testing. </para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/jenkins/workspace/Release_workflow_master/gromacs-2018.3/src/gromacs/mdlib/gmx_omp_nthreads.cpp" line="515" column="1" bodyfile="/home/jenkins/workspace/Release_workflow_master/gromacs-2018.3/src/gromacs/mdlib/gmx_omp_nthreads.cpp" bodystart="515" bodyend="522"/>
      </memberdef>
      </sectiondef>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <location file="/home/jenkins/workspace/Release_workflow_master/gromacs-2018.3/src/gromacs/mdlib/gmx_omp_nthreads.cpp"/>
  </compounddef>
</doxygen>
