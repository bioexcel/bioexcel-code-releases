<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>Gromacs: gmx::MDModules Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Gromacs
   &#160;<span id="projectnumber">2018.3</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.xhtml"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.xhtml"><span>Modules</span></a></li>
      <li><a href="pages.xhtml"><span>Other&#160;Docs</span></a></li>
      <li><a href="namespaces.xhtml"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.xhtml"><span>Classes</span></a></li>
      <li><a href="files.xhtml"><span>Files</span></a></li>
      <li><a href="examples.xhtml"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.xhtml"><span>Class&#160;List</span></a></li>
      <li><a href="classes.xhtml"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.xhtml"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.xhtml"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacegmx.xhtml">gmx</a></li><li class="navelem"><a class="el" href="classgmx_1_1MDModules.xhtml">MDModules</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="classgmx_1_1MDModules-members.xhtml">List of all members</a> &#124;
<a href="#pub-methods">Public Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">gmx::MDModules Class Reference<div class="ingroups"><a class="el" href="group__group__libraryapi.xhtml">Library API</a> &#124; <a class="el" href="group__module__mdrunutility.xhtml">Implementation of mdrun utility functionality</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;gromacs/mdrunutility/mdmodules.h&gt;</code></p>
<a name="details" id="details"></a><h2 class="groupheader">Description</h2>
<div class="textblock"><p>Manages the collection of all modules used for mdrun. </p>
<p>This class acts as a central place for constructing modules for mdrun and wiring up dependencies between them. This class should be the only place that contains the full list of modules, although in the future, some code (e.g., in tools) may benefit from the ability to only create one or a few modules and use them.</p>
<p>The general idea is that each module takes care of its own data rather than mdrun having to know about all the details of each type of force calculation. Initially this is applied for simple things like electric field calculations but later more complex forces will be supported too.</p>
<p>Currently, where the set of modules needs to be accessed, either a pointer to <a class="el" href="classgmx_1_1MDModules.xhtml" title="Manages the collection of all modules used for mdrun. ">MDModules</a> is passed around, or an instance of <a class="el" href="classgmx_1_1IMDOutputProvider.xhtml" title="Interface for handling additional output files during a simulation. ">IMDOutputProvider</a> or <a class="el" href="structForceProviders.xhtml" title="Evaluates forces from a collection of gmx::IForceProvider. ">ForceProviders</a> returned from <a class="el" href="classgmx_1_1MDModules.xhtml" title="Manages the collection of all modules used for mdrun. ">MDModules</a>. These objects returned from <a class="el" href="classgmx_1_1MDModules.xhtml" title="Manages the collection of all modules used for mdrun. ">MDModules</a> call the corresponding methods in the relevant modules. In the future, some additional logic may need to be introduced at the call sites that can also influence the signature of the methods, similar to what <a class="el" href="structForceProviders.xhtml" title="Evaluates forces from a collection of gmx::IForceProvider. ">ForceProviders</a> already does for force computation.</p>
<p>The <a class="el" href="classgmx_1_1MDModules.xhtml#a03980eb16c24f29d74b1d96e1cc4c9f7" title="Sets input parameters from params for each module. ">assignOptionsToModules()</a> and <a class="el" href="classgmx_1_1MDModules.xhtml#a17a16c8f62f862f88627b20f280f740d" title="Normalizes inputrec parameters to match current code version. ">adjustInputrecBasedOnModules()</a> methods of this class also take responsibility for wiring up the options (and their defaults) for each module. </p>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a6d91191d52e475946d801e46bd6eb6f3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgmx_1_1MDModules.xhtml#a6d91191d52e475946d801e46bd6eb6f3">initMdpTransform</a> (<a class="el" href="classgmx_1_1IKeyValueTreeTransformRules.xhtml">IKeyValueTreeTransformRules</a> *rules)</td></tr>
<tr class="memdesc:a6d91191d52e475946d801e46bd6eb6f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes a transform from mdp values to sectioned options.  <a href="#a6d91191d52e475946d801e46bd6eb6f3">More...</a><br/></td></tr>
<tr class="separator:a6d91191d52e475946d801e46bd6eb6f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae95ebfc6b08b47fee4515afabffdea46"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgmx_1_1MDModules.xhtml#ae95ebfc6b08b47fee4515afabffdea46">buildMdpOutput</a> (<a class="el" href="classgmx_1_1KeyValueTreeObjectBuilder.xhtml">KeyValueTreeObjectBuilder</a> *builder)</td></tr>
<tr class="memdesc:ae95ebfc6b08b47fee4515afabffdea46"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes a builder of flat mdp-style key-value pairs suitable for output.  <a href="#ae95ebfc6b08b47fee4515afabffdea46">More...</a><br/></td></tr>
<tr class="separator:ae95ebfc6b08b47fee4515afabffdea46"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03980eb16c24f29d74b1d96e1cc4c9f7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgmx_1_1MDModules.xhtml#a03980eb16c24f29d74b1d96e1cc4c9f7">assignOptionsToModules</a> (const KeyValueTreeObject &amp;params, IKeyValueTreeErrorHandler *errorHandler)</td></tr>
<tr class="memdesc:a03980eb16c24f29d74b1d96e1cc4c9f7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets input parameters from <code>params</code> for each module.  <a href="#a03980eb16c24f29d74b1d96e1cc4c9f7">More...</a><br/></td></tr>
<tr class="separator:a03980eb16c24f29d74b1d96e1cc4c9f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17a16c8f62f862f88627b20f280f740d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgmx_1_1MDModules.xhtml#a17a16c8f62f862f88627b20f280f740d">adjustInputrecBasedOnModules</a> (t_inputrec *ir)</td></tr>
<tr class="memdesc:a17a16c8f62f862f88627b20f280f740d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Normalizes inputrec parameters to match current code version.  <a href="#a17a16c8f62f862f88627b20f280f740d">More...</a><br/></td></tr>
<tr class="separator:a17a16c8f62f862f88627b20f280f740d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72cb582ed6d59671da41c5f022338668"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a72cb582ed6d59671da41c5f022338668"></a>
<a class="el" href="classgmx_1_1IMDOutputProvider.xhtml">IMDOutputProvider</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgmx_1_1MDModules.xhtml#a72cb582ed6d59671da41c5f022338668">outputProvider</a> ()</td></tr>
<tr class="memdesc:a72cb582ed6d59671da41c5f022338668"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns an interface for initializing and finalizing output for modules. <br/></td></tr>
<tr class="separator:a72cb582ed6d59671da41c5f022338668"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6070303a26499ac3f81027e364e263f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae6070303a26499ac3f81027e364e263f"></a>
<a class="el" href="structForceProviders.xhtml">ForceProviders</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgmx_1_1MDModules.xhtml#ae6070303a26499ac3f81027e364e263f">initForceProviders</a> ()</td></tr>
<tr class="memdesc:ae6070303a26499ac3f81027e364e263f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns an object for computing forces from the modules. <br/></td></tr>
<tr class="separator:ae6070303a26499ac3f81027e364e263f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a17a16c8f62f862f88627b20f280f740d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gmx::MDModules::adjustInputrecBasedOnModules </td>
          <td>(</td>
          <td class="paramtype">t_inputrec *&#160;</td>
          <td class="paramname"><em>ir</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Normalizes inputrec parameters to match current code version. </p>
<p>This orders the parameters in <code>ir-&gt;param</code> to match the current code and adds any missing defaults. It also throws an error if the inputrec contains parameters that are not recognized by any module. </p>

</div>
</div>
<a class="anchor" id="a03980eb16c24f29d74b1d96e1cc4c9f7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gmx::MDModules::assignOptionsToModules </td>
          <td>(</td>
          <td class="paramtype">const KeyValueTreeObject &amp;&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IKeyValueTreeErrorHandler *&#160;</td>
          <td class="paramname"><em>errorHandler</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets input parameters from <code>params</code> for each module. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">params</td><td>Contains keys and values from user input (and defaults) to configure modules that have registered options with those keys. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">errorHandler</td><td>Called to report errors. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ae95ebfc6b08b47fee4515afabffdea46"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gmx::MDModules::buildMdpOutput </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classgmx_1_1KeyValueTreeObjectBuilder.xhtml">KeyValueTreeObjectBuilder</a> *&#160;</td>
          <td class="paramname"><em>builder</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes a builder of flat mdp-style key-value pairs suitable for output. </p>
<p>If used as input to <a class="el" href="classgmx_1_1MDModules.xhtml#a6d91191d52e475946d801e46bd6eb6f3" title="Initializes a transform from mdp values to sectioned options. ">initMdpTransform()</a>, the key-value pairs resulting from this function would leave the module settings unchanged.</p>
<p>Once the transition from mdp to key-value input is complete, this method will probably not exist. </p>

</div>
</div>
<a class="anchor" id="a6d91191d52e475946d801e46bd6eb6f3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gmx::MDModules::initMdpTransform </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classgmx_1_1IKeyValueTreeTransformRules.xhtml">IKeyValueTreeTransformRules</a> *&#160;</td>
          <td class="paramname"><em>rules</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes a transform from mdp values to sectioned options. </p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classgmx_1_1IMdpOptionProvider.xhtml#ab26ec412b0abbf4ca56f472e9315aa52" title="Initializes a transform from mdp values to sectioned options. ">IMdpOptionProvider::initMdpTransform()</a></dd></dl>
<p>Initializes the combined transform from all modules. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/gromacs/mdrunutility/<a class="el" href="mdmodules_8h.xhtml">mdmodules.h</a></li>
<li>src/gromacs/mdrunutility/mdmodules.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Aug 23 2018 14:57:27 for Gromacs by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
