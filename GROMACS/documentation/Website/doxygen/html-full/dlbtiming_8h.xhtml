<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>Gromacs: src/gromacs/domdec/dlbtiming.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Gromacs
   &#160;<span id="projectnumber">2018.3</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.xhtml"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.xhtml"><span>Modules</span></a></li>
      <li><a href="pages.xhtml"><span>Other&#160;Docs</span></a></li>
      <li><a href="namespaces.xhtml"><span>Namespaces</span></a></li>
      <li><a href="annotated.xhtml"><span>Classes</span></a></li>
      <li class="current"><a href="files.xhtml"><span>Files</span></a></li>
      <li><a href="examples.xhtml"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.xhtml"><span>File&#160;List</span></a></li>
      <li><a href="globals.xhtml"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_8a21c46af9718d1f610eb513153099d7.xhtml">src</a></li><li class="navelem"><a class="el" href="dir_a46192700e9e8ed44c648f0a55ee9a53.xhtml">gromacs</a></li><li class="navelem"><a class="el" href="dir_6598fadafaab67e0226add65c1e27d8d.xhtml">domdec</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">dlbtiming.h File Reference<div class="ingroups"><a class="el" href="group__group__libraryapi.xhtml">Library API</a> &#124; <a class="el" href="group__module__domdec.xhtml">Spatial domain decomposition (for parallelization over MPI)</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> This graph shows which files directly or indirectly include this file:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="dlbtiming_8h__dep__incl.svg" width="179" height="142"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</div><a name="details" id="details"></a><h2 class="groupheader">Description</h2>
<div class="textblock"><p>This file declares functions for timing the load imbalance due to domain decomposition. </p>
<dl class="section author"><dt>Author</dt><dd>Berk Hess <a href="#" onclick="location.href='mai'+'lto:'+'hes'+'s@'+'kth'+'.s'+'e'; return false;">hess@<span style="display: none;">.nosp@m.</span>kth.<span style="display: none;">.nosp@m.</span>se</a> </dd></dl>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a555d67b2a20d20a7583b593957cdead9"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dlbtiming_8h.xhtml#a555d67b2a20d20a7583b593957cdead9">DdOpenBalanceRegionBeforeForceComputation</a> { <a class="el" href="dlbtiming_8h.xhtml#a555d67b2a20d20a7583b593957cdead9a7fa3b767c460b54a2be4d49030b349c7">DdOpenBalanceRegionBeforeForceComputation::no</a>, 
<a class="el" href="dlbtiming_8h.xhtml#a555d67b2a20d20a7583b593957cdead9aa6105c0a611b41b08f1209506350279e">DdOpenBalanceRegionBeforeForceComputation::yes</a>
 }</td></tr>
<tr class="memdesc:a555d67b2a20d20a7583b593957cdead9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tells if we should open the balancing region.  <a href="dlbtiming_8h.xhtml#a555d67b2a20d20a7583b593957cdead9">More...</a><br/></td></tr>
<tr class="separator:a555d67b2a20d20a7583b593957cdead9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa52baf672aa152180f7777fb64c1f86"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dlbtiming_8h.xhtml#aaa52baf672aa152180f7777fb64c1f86">DdCloseBalanceRegionAfterForceComputation</a> { <a class="el" href="dlbtiming_8h.xhtml#aaa52baf672aa152180f7777fb64c1f86a7fa3b767c460b54a2be4d49030b349c7">DdCloseBalanceRegionAfterForceComputation::no</a>, 
<a class="el" href="dlbtiming_8h.xhtml#aaa52baf672aa152180f7777fb64c1f86aa6105c0a611b41b08f1209506350279e">DdCloseBalanceRegionAfterForceComputation::yes</a>
 }</td></tr>
<tr class="memdesc:aaa52baf672aa152180f7777fb64c1f86"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tells if we should close the balancing region after the force computation has completed.  <a href="dlbtiming_8h.xhtml#aaa52baf672aa152180f7777fb64c1f86">More...</a><br/></td></tr>
<tr class="separator:aaa52baf672aa152180f7777fb64c1f86"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c394e83d3a1d89ac14e90553e54dff4"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dlbtiming_8h.xhtml#a4c394e83d3a1d89ac14e90553e54dff4">DdAllowBalanceRegionReopen</a> { <a class="el" href="dlbtiming_8h.xhtml#a4c394e83d3a1d89ac14e90553e54dff4a7fa3b767c460b54a2be4d49030b349c7">DdAllowBalanceRegionReopen::no</a>, 
<a class="el" href="dlbtiming_8h.xhtml#a4c394e83d3a1d89ac14e90553e54dff4aa6105c0a611b41b08f1209506350279e">DdAllowBalanceRegionReopen::yes</a>
 }</td></tr>
<tr class="memdesc:a4c394e83d3a1d89ac14e90553e54dff4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tells if we should open the balancing region.  <a href="dlbtiming_8h.xhtml#a4c394e83d3a1d89ac14e90553e54dff4">More...</a><br/></td></tr>
<tr class="separator:a4c394e83d3a1d89ac14e90553e54dff4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a187697058dfa34f355e4ee2e8fcf1dc1"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dlbtiming_8h.xhtml#a187697058dfa34f355e4ee2e8fcf1dc1">DdBalanceRegionWaitedForGpu</a> { <a class="el" href="dlbtiming_8h.xhtml#a187697058dfa34f355e4ee2e8fcf1dc1a7fa3b767c460b54a2be4d49030b349c7">DdBalanceRegionWaitedForGpu::no</a>, 
<a class="el" href="dlbtiming_8h.xhtml#a187697058dfa34f355e4ee2e8fcf1dc1aa6105c0a611b41b08f1209506350279e">DdBalanceRegionWaitedForGpu::yes</a>
 }</td></tr>
<tr class="memdesc:a187697058dfa34f355e4ee2e8fcf1dc1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tells if we had to wait for a GPU to finish computation.  <a href="dlbtiming_8h.xhtml#a187697058dfa34f355e4ee2e8fcf1dc1">More...</a><br/></td></tr>
<tr class="separator:a187697058dfa34f355e4ee2e8fcf1dc1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a3e947d7078ad0590b620ffd531131ae7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structBalanceRegion.xhtml">BalanceRegion</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dlbtiming_8h.xhtml#a3e947d7078ad0590b620ffd531131ae7">ddBalanceRegionAllocate</a> ()</td></tr>
<tr class="memdesc:a3e947d7078ad0590b620ffd531131ae7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a pointer to a constructed <code><a class="el" href="structBalanceRegion.xhtml" title="Struct for timing the region for dynamic load balancing. ">BalanceRegion</a></code> struct.  <a href="#a3e947d7078ad0590b620ffd531131ae7">More...</a><br/></td></tr>
<tr class="separator:a3e947d7078ad0590b620ffd531131ae7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d3d272c97439edb30af355212cbec66"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dlbtiming_8h.xhtml#a4d3d272c97439edb30af355212cbec66">ddOpenBalanceRegionCpu</a> (const gmx_domdec_t *dd, <a class="el" href="dlbtiming_8h.xhtml#a4c394e83d3a1d89ac14e90553e54dff4">DdAllowBalanceRegionReopen</a> allowReopen)</td></tr>
<tr class="memdesc:a4d3d272c97439edb30af355212cbec66"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open the load balance timing region on the CPU.  <a href="#a4d3d272c97439edb30af355212cbec66">More...</a><br/></td></tr>
<tr class="separator:a4d3d272c97439edb30af355212cbec66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec1d7f9fa80911cece8fa7634ce34f4d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dlbtiming_8h.xhtml#aec1d7f9fa80911cece8fa7634ce34f4d">ddOpenBalanceRegionGpu</a> (const gmx_domdec_t *dd)</td></tr>
<tr class="memdesc:aec1d7f9fa80911cece8fa7634ce34f4d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open the load balance timing region for the CPU.  <a href="#aec1d7f9fa80911cece8fa7634ce34f4d">More...</a><br/></td></tr>
<tr class="separator:aec1d7f9fa80911cece8fa7634ce34f4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73df0ce2d73d76962ec17c425c8e22c9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dlbtiming_8h.xhtml#a73df0ce2d73d76962ec17c425c8e22c9">ddReopenBalanceRegionCpu</a> (const gmx_domdec_t *dd)</td></tr>
<tr class="memdesc:a73df0ce2d73d76962ec17c425c8e22c9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Re-open the, already opened, load balance timing region.  <a href="#a73df0ce2d73d76962ec17c425c8e22c9">More...</a><br/></td></tr>
<tr class="separator:a73df0ce2d73d76962ec17c425c8e22c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9db3bd2076fc9160ed86edf809777c07"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dlbtiming_8h.xhtml#a9db3bd2076fc9160ed86edf809777c07">ddCloseBalanceRegionCpu</a> (const gmx_domdec_t *dd)</td></tr>
<tr class="memdesc:a9db3bd2076fc9160ed86edf809777c07"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close the load balance timing region on the CPU side.  <a href="#a9db3bd2076fc9160ed86edf809777c07">More...</a><br/></td></tr>
<tr class="separator:a9db3bd2076fc9160ed86edf809777c07"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad21242f7a9553972329faf0d7f15c13a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dlbtiming_8h.xhtml#ad21242f7a9553972329faf0d7f15c13a">ddCloseBalanceRegionGpu</a> (const gmx_domdec_t *dd, float waitCyclesGpuInCpuRegion, <a class="el" href="dlbtiming_8h.xhtml#a187697058dfa34f355e4ee2e8fcf1dc1">DdBalanceRegionWaitedForGpu</a> waitedForGpu)</td></tr>
<tr class="memdesc:ad21242f7a9553972329faf0d7f15c13a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close the load balance timing region on the GPU side.  <a href="#ad21242f7a9553972329faf0d7f15c13a">More...</a><br/></td></tr>
<tr class="separator:ad21242f7a9553972329faf0d7f15c13a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="a4c394e83d3a1d89ac14e90553e54dff4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="dlbtiming_8h.xhtml#a4c394e83d3a1d89ac14e90553e54dff4">DdAllowBalanceRegionReopen</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">strong</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Tells if we should open the balancing region. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><em><a class="anchor" id="a4c394e83d3a1d89ac14e90553e54dff4a7fa3b767c460b54a2be4d49030b349c7"></a>no</em>&nbsp;</td><td class="fielddoc">
<p>Do not allow opening an already open region. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a4c394e83d3a1d89ac14e90553e54dff4aa6105c0a611b41b08f1209506350279e"></a>yes</em>&nbsp;</td><td class="fielddoc">
<p>Allow opening an already open region. </p>
</td></tr>
</table>

</div>
</div>
<a class="anchor" id="a187697058dfa34f355e4ee2e8fcf1dc1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="dlbtiming_8h.xhtml#a187697058dfa34f355e4ee2e8fcf1dc1">DdBalanceRegionWaitedForGpu</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">strong</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Tells if we had to wait for a GPU to finish computation. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><em><a class="anchor" id="a187697058dfa34f355e4ee2e8fcf1dc1a7fa3b767c460b54a2be4d49030b349c7"></a>no</em>&nbsp;</td><td class="fielddoc">
<p>The GPU finished computation before the CPU needed the result. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a187697058dfa34f355e4ee2e8fcf1dc1aa6105c0a611b41b08f1209506350279e"></a>yes</em>&nbsp;</td><td class="fielddoc">
<p>We had to wait for the GPU to finish computation. </p>
</td></tr>
</table>

</div>
</div>
<a class="anchor" id="aaa52baf672aa152180f7777fb64c1f86"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="dlbtiming_8h.xhtml#aaa52baf672aa152180f7777fb64c1f86">DdCloseBalanceRegionAfterForceComputation</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">strong</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Tells if we should close the balancing region after the force computation has completed. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><em><a class="anchor" id="aaa52baf672aa152180f7777fb64c1f86a7fa3b767c460b54a2be4d49030b349c7"></a>no</em>&nbsp;</td><td class="fielddoc">
<p>Do not close a balancing region. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="aaa52baf672aa152180f7777fb64c1f86aa6105c0a611b41b08f1209506350279e"></a>yes</em>&nbsp;</td><td class="fielddoc">
<p>Close the balancing region after computation completed. </p>
</td></tr>
</table>

</div>
</div>
<a class="anchor" id="a555d67b2a20d20a7583b593957cdead9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="dlbtiming_8h.xhtml#a555d67b2a20d20a7583b593957cdead9">DdOpenBalanceRegionBeforeForceComputation</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">strong</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Tells if we should open the balancing region. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><em><a class="anchor" id="a555d67b2a20d20a7583b593957cdead9a7fa3b767c460b54a2be4d49030b349c7"></a>no</em>&nbsp;</td><td class="fielddoc">
<p>Do not open a balancing region. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a555d67b2a20d20a7583b593957cdead9aa6105c0a611b41b08f1209506350279e"></a>yes</em>&nbsp;</td><td class="fielddoc">
<p>Open the balancing region before update or after pair-search. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a3e947d7078ad0590b620ffd531131ae7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structBalanceRegion.xhtml">BalanceRegion</a>* ddBalanceRegionAllocate </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns a pointer to a constructed <code><a class="el" href="structBalanceRegion.xhtml" title="Struct for timing the region for dynamic load balancing. ">BalanceRegion</a></code> struct. </p>
<p>Should be replaced by a proper constructor once <a class="el" href="structBalanceRegion.xhtml" title="Struct for timing the region for dynamic load balancing. ">BalanceRegion</a> is a proper class (requires restructering in domdec.cpp). </p>

</div>
</div>
<a class="anchor" id="a9db3bd2076fc9160ed86edf809777c07"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ddCloseBalanceRegionCpu </td>
          <td>(</td>
          <td class="paramtype">const gmx_domdec_t *&#160;</td>
          <td class="paramname"><em>dd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Close the load balance timing region on the CPU side. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">dd</td><td>The domain decomposition struct </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ad21242f7a9553972329faf0d7f15c13a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ddCloseBalanceRegionGpu </td>
          <td>(</td>
          <td class="paramtype">const gmx_domdec_t *&#160;</td>
          <td class="paramname"><em>dd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>waitCyclesGpuInCpuRegion</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="dlbtiming_8h.xhtml#a187697058dfa34f355e4ee2e8fcf1dc1">DdBalanceRegionWaitedForGpu</a>&#160;</td>
          <td class="paramname"><em>waitedForGpu</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Close the load balance timing region on the GPU side. </p>
<p>This should be called after the CPU receives the last (local) results from the GPU. The wait time for these results is estimated, depending on the <code>waitedForGpu</code> parameter. If called on an already closed region, this call does nothing.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">dd</td><td>The domain decomposition struct </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">waitCyclesGpuInCpuRegion</td><td>The time we waited for the GPU earlier, overlapping completely with the open CPU region </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">waitedForGpu</td><td>Tells if we waited for the GPU to finish now </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a4d3d272c97439edb30af355212cbec66"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ddOpenBalanceRegionCpu </td>
          <td>(</td>
          <td class="paramtype">const gmx_domdec_t *&#160;</td>
          <td class="paramname"><em>dd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="dlbtiming_8h.xhtml#a4c394e83d3a1d89ac14e90553e54dff4">DdAllowBalanceRegionReopen</a>&#160;</td>
          <td class="paramname"><em>allowReopen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Open the load balance timing region on the CPU. </p>
<p>Opens the balancing region for timing how much time it takes to perform the (balancable part of) the MD step. This should be called right after the last communication during the previous step to maximize the region. In practice this means right after the force communication finished or just before neighbor search at search steps. It is assumed that computation done in the region either scales along with the domain size or takes constant time.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">dd</td><td>The domain decomposition struct </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">allowReopen</td><td>Allows calling with a potentially already opened region </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aec1d7f9fa80911cece8fa7634ce34f4d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ddOpenBalanceRegionGpu </td>
          <td>(</td>
          <td class="paramtype">const gmx_domdec_t *&#160;</td>
          <td class="paramname"><em>dd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Open the load balance timing region for the CPU. </p>
<p>This can only be called within a region that is open on the CPU side. </p>

</div>
</div>
<a class="anchor" id="a73df0ce2d73d76962ec17c425c8e22c9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ddReopenBalanceRegionCpu </td>
          <td>(</td>
          <td class="paramtype">const gmx_domdec_t *&#160;</td>
          <td class="paramname"><em>dd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Re-open the, already opened, load balance timing region. </p>
<p>This function should be called after every MPI communication that occurs in the main MD loop. Note that the current setup assumes that all MPI communication acts like a global barrier. But if some ranks don't participate in communication or if some ranks communicate faster with neighbors than others, the obtained timings might not accurately reflect the computation time.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">dd</td><td>The domain decomposition struct </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Aug 23 2018 14:57:16 for Gromacs by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
