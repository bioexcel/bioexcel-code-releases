<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>Gromacs: gmx::Mdrunner Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Gromacs
   &#160;<span id="projectnumber">2018.3</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.xhtml"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.xhtml"><span>Modules</span></a></li>
      <li><a href="pages.xhtml"><span>Other&#160;Docs</span></a></li>
      <li><a href="namespaces.xhtml"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.xhtml"><span>Classes</span></a></li>
      <li><a href="files.xhtml"><span>Files</span></a></li>
      <li><a href="examples.xhtml"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.xhtml"><span>Class&#160;List</span></a></li>
      <li><a href="classes.xhtml"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.xhtml"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.xhtml"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacegmx.xhtml">gmx</a></li><li class="navelem"><a class="el" href="classgmx_1_1Mdrunner.xhtml">Mdrunner</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="classgmx_1_1Mdrunner-members.xhtml">List of all members</a> &#124;
<a href="#pub-methods">Public Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">gmx::Mdrunner Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;programs/mdrun/runner.h&gt;</code></p>
<a name="details" id="details"></a><h2 class="groupheader">Description</h2>
<div class="textblock"><p>Runner object for supporting setup and execution of mdrun. </p>
<p>This class has responsibility for the lifetime of data structures that exist for the life of the simulation, e.g. for logging and communication.</p>
<dl class="todo"><dt><b><a class="el" href="todo.xhtml#_todo000105">Todo:</a></b></dt><dd>Most of the attributes should be declared by specific modules as command-line options. Accordingly, they do not conform to the naming scheme, because that would make for a lot of noise in the diff, only to have it change again when the options move to their modules.</dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.xhtml#_todo000106">Todo:</a></b></dt><dd>Preparing logging and MPI contexts could probably be a higher-level responsibility, so that an <a class="el" href="classgmx_1_1Mdrunner.xhtml" title="Runner object for supporting setup and execution of mdrun. ">Mdrunner</a> would get made without needing to re-initialize these components (as currently happens always for the master rank, and differently for the spawned ranks with thread-MPI). </dd></dl>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a4df58bb19c119fedd41c176b0419c9c5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgmx_1_1Mdrunner.xhtml#a4df58bb19c119fedd41c176b0419c9c5">Mdrunner</a> ()=default</td></tr>
<tr class="memdesc:a4df58bb19c119fedd41c176b0419c9c5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Defaulted constructor.  <a href="#a4df58bb19c119fedd41c176b0419c9c5">More...</a><br/></td></tr>
<tr class="separator:a4df58bb19c119fedd41c176b0419c9c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abcb434d193ff96ed4ae1be23d18edb3f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abcb434d193ff96ed4ae1be23d18edb3f"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgmx_1_1Mdrunner.xhtml#abcb434d193ff96ed4ae1be23d18edb3f">mainFunction</a> (int argc, char *argv[])</td></tr>
<tr class="memdesc:abcb434d193ff96ed4ae1be23d18edb3f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start running mdrun by calling its C-style main function. <br/></td></tr>
<tr class="separator:abcb434d193ff96ed4ae1be23d18edb3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab59529b237964425ce0166210f2a7e28"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab59529b237964425ce0166210f2a7e28"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgmx_1_1Mdrunner.xhtml#ab59529b237964425ce0166210f2a7e28">mdrunner</a> ()</td></tr>
<tr class="memdesc:ab59529b237964425ce0166210f2a7e28"><td class="mdescLeft">&#160;</td><td class="mdescRight">Driver routine, that calls the different simulation methods. <br/></td></tr>
<tr class="separator:ab59529b237964425ce0166210f2a7e28"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ef53d70c333b6655cd15df42187417b"><td class="memItemLeft" align="right" valign="top">t_commrec *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgmx_1_1Mdrunner.xhtml#a0ef53d70c333b6655cd15df42187417b">spawnThreads</a> (int numThreadsToLaunch)</td></tr>
<tr class="memdesc:a0ef53d70c333b6655cd15df42187417b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called when thread-MPI spawns threads.  <a href="#a0ef53d70c333b6655cd15df42187417b">More...</a><br/></td></tr>
<tr class="separator:a0ef53d70c333b6655cd15df42187417b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04393f301711961546e1018294c1a3be"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgmx_1_1Mdrunner.xhtml#a04393f301711961546e1018294c1a3be">reinitializeOnSpawnedThread</a> ()</td></tr>
<tr class="memdesc:a04393f301711961546e1018294c1a3be"><td class="mdescLeft">&#160;</td><td class="mdescRight">Re-initializes the object after threads spawn.  <a href="#a04393f301711961546e1018294c1a3be">More...</a><br/></td></tr>
<tr class="separator:a04393f301711961546e1018294c1a3be"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a4df58bb19c119fedd41c176b0419c9c5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">gmx::Mdrunner::Mdrunner </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Defaulted constructor. </p>
<p>Note that when member variables are not present in the constructor member initialization list (which is true for the default constructor), then they are initialized with any default member initializer specified when they were declared, or default initialized. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a04393f301711961546e1018294c1a3be"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gmx::Mdrunner::reinitializeOnSpawnedThread </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Re-initializes the object after threads spawn. </p>
<dl class="todo"><dt><b><a class="el" href="todo.xhtml#_todo000107">Todo:</a></b></dt><dd>Can this be refactored so that the <a class="el" href="classgmx_1_1Mdrunner.xhtml" title="Runner object for supporting setup and execution of mdrun. ">Mdrunner</a> on a spawned thread is constructed ready to use? </dd></dl>

</div>
</div>
<a class="anchor" id="a0ef53d70c333b6655cd15df42187417b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">t_commrec * gmx::Mdrunner::spawnThreads </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>numThreadsToLaunch</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Called when thread-MPI spawns threads. </p>
<p>Start thread-MPI threads.</p>
<p>Called by <a class="el" href="classgmx_1_1Mdrunner.xhtml#ab59529b237964425ce0166210f2a7e28" title="Driver routine, that calls the different simulation methods. ">mdrunner()</a> to start a specific number of threads (including the main thread) for thread-parallel runs. This in turn calls <a class="el" href="classgmx_1_1Mdrunner.xhtml#ab59529b237964425ce0166210f2a7e28" title="Driver routine, that calls the different simulation methods. ">mdrunner()</a> for each thread. All options are the same as for <a class="el" href="classgmx_1_1Mdrunner.xhtml#ab59529b237964425ce0166210f2a7e28" title="Driver routine, that calls the different simulation methods. ">mdrunner()</a>. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/programs/mdrun/<a class="el" href="runner_8h.xhtml">runner.h</a></li>
<li>src/programs/mdrun/<a class="el" href="mdrun_8cpp.xhtml">mdrun.cpp</a></li>
<li>src/programs/mdrun/<a class="el" href="runner_8cpp.xhtml">runner.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Aug 23 2018 14:57:30 for Gromacs by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
