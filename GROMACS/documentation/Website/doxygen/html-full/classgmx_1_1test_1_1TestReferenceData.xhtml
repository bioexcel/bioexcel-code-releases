<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>Gromacs: gmx::test::TestReferenceData Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Gromacs
   &#160;<span id="projectnumber">2018.3</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.xhtml"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.xhtml"><span>Modules</span></a></li>
      <li><a href="pages.xhtml"><span>Other&#160;Docs</span></a></li>
      <li><a href="namespaces.xhtml"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.xhtml"><span>Classes</span></a></li>
      <li><a href="files.xhtml"><span>Files</span></a></li>
      <li><a href="examples.xhtml"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.xhtml"><span>Class&#160;List</span></a></li>
      <li><a href="classes.xhtml"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.xhtml"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.xhtml"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacegmx.xhtml">gmx</a></li><li class="navelem"><a class="el" href="namespacegmx_1_1test.xhtml">test</a></li><li class="navelem"><a class="el" href="classgmx_1_1test_1_1TestReferenceData.xhtml">TestReferenceData</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="classgmx_1_1test_1_1TestReferenceData-members.xhtml">List of all members</a> &#124;
<a href="#pub-methods">Public Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">gmx::test::TestReferenceData Class Reference<div class="ingroups"><a class="el" href="group__group__libraryapi.xhtml">Library API</a> &#124; <a class="el" href="group__module__testutils.xhtml">Testing Utilities (testutils)</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;testutils/refdata.h&gt;</code></p>
<a name="details" id="details"></a><h2 class="groupheader">Description</h2>
<div class="textblock"><p>Handles creation of and comparison to test reference data. </p>
<p>See <a class="el" href="page_refdata.xhtml">Using reference data in C++ tests</a> for an overview of the functionality.</p>
<p>This class provides functionality to use the same code to generate reference data and then on later runs compare the results of the code against that reference. The mode in which the class operates (writing reference data or comparing against existing data) is set using a command-line option that is automatically managed when using the testutils module to implement tests. Tests only need to create an instance of <a class="el" href="classgmx_1_1test_1_1TestReferenceData.xhtml" title="Handles creation of and comparison to test reference data. ">TestReferenceData</a>, obtain a <a class="el" href="classgmx_1_1test_1_1TestReferenceChecker.xhtml" title="Handles comparison to test reference data. ">TestReferenceChecker</a> using the <a class="el" href="classgmx_1_1test_1_1TestReferenceData.xhtml#a2c751bb515d71cebb3ad802ec6a5eb0c" title="Returns a root-level checker object for comparisons. ">rootChecker()</a> method and use the various check*() methods in <a class="el" href="classgmx_1_1test_1_1TestReferenceChecker.xhtml" title="Handles comparison to test reference data. ">TestReferenceChecker</a> to indicate values to check. If the test is running in reference data creation mode, it will produce an XML file with the values recorder. In comparison mode, it will read that same XML file and produce a Google Test non-fatal assertion for every discrepancy it detects with the reference data (including missing reference data file or individual item). Exceptions derived from <a class="el" href="classgmx_1_1test_1_1TestException.xhtml" title="Exception class for reporting errors in tests. ">TestException</a> are thrown for I/O errors and syntax errors in the reference data.</p>
<p>Simple example (using Google Test): </p>
<div class="fragment"><div class="line">  <span class="keywordtype">int</span> functionToTest(<span class="keywordtype">int</span> param);</div>
<div class="line"></div>
<div class="line">  TEST(MyTest, SimpleTest)</div>
<div class="line">  {</div>
<div class="line">      <a class="code" href="classgmx_1_1test_1_1TestReferenceData.xhtml">gmx::test::TestReferenceData</a> data;</div>
<div class="line"></div>
<div class="line">      <a class="code" href="classgmx_1_1test_1_1TestReferenceChecker.xhtml">gmx::test::TestReferenceChecker</a> checker(data.<a class="code" href="classgmx_1_1test_1_1TestReferenceData.xhtml#a2c751bb515d71cebb3ad802ec6a5eb0c">rootChecker</a>());</div>
<div class="line">      checker.<a class="code" href="classgmx_1_1test_1_1TestReferenceChecker.xhtml#abb8d0f46f835599778fa12d12a28acf9">checkInteger</a>(functionToTest(3), <span class="stringliteral">&quot;ValueWith3&quot;</span>);</div>
<div class="line">      checker.checkInteger(functionToTest(5), <span class="stringliteral">&quot;ValueWith5&quot;</span>);</div>
<div class="line">      <a class="code" href="classgmx_1_1test_1_1TestReferenceChecker.xhtml">gmx::test::TestReferenceChecker</a> compound(</div>
<div class="line">              checker.checkCompound(<span class="stringliteral">&quot;CustomCompound&quot;</span>, <span class="stringliteral">&quot;Item&quot;</span>));</div>
<div class="line">      compound.<a class="code" href="classgmx_1_1test_1_1TestReferenceChecker.xhtml#abb8d0f46f835599778fa12d12a28acf9">checkInteger</a>(function2ToTest(3), <span class="stringliteral">&quot;ValueWith3&quot;</span>);</div>
<div class="line">      compound.checkInteger(function2ToTest(5), <span class="stringliteral">&quot;ValueWith5&quot;</span>);</div>
<div class="line">      checker.checkInteger(functionToTest(4), <span class="stringliteral">&quot;ValueWith4&quot;</span>);</div>
<div class="line">  }</div>
<div class="line">* </div>
</div><!-- fragment --><p>If <a class="el" href="classgmx_1_1test_1_1TestReferenceData.xhtml#a2c751bb515d71cebb3ad802ec6a5eb0c" title="Returns a root-level checker object for comparisons. ">rootChecker()</a> is never called, no comparison is done (i.e., missing reference data file is not reported as an error, nor is empty reference data file created in write mode).</p>
<p>For floating-point comparisons, the reference data should be generated in double precision (currently, no warning is provided even if this is not the case, but the double precision tests will then very likely fail). </p>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a4ff154830e12ced01ff05c3836e6280c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4ff154830e12ced01ff05c3836e6280c"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgmx_1_1test_1_1TestReferenceData.xhtml#a4ff154830e12ced01ff05c3836e6280c">TestReferenceData</a> ()</td></tr>
<tr class="memdesc:a4ff154830e12ced01ff05c3836e6280c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the reference data in the global mode. <br/></td></tr>
<tr class="separator:a4ff154830e12ced01ff05c3836e6280c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8102faceb930f93a3e2a3bdf46f659a2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgmx_1_1test_1_1TestReferenceData.xhtml#a8102faceb930f93a3e2a3bdf46f659a2">TestReferenceData</a> (<a class="el" href="group__module__testutils.xhtml#gad7a0c1ac11a9748556948309218fc08a">ReferenceDataMode</a> mode)</td></tr>
<tr class="memdesc:a8102faceb930f93a3e2a3bdf46f659a2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the reference data in a specific mode.  <a href="#a8102faceb930f93a3e2a3bdf46f659a2">More...</a><br/></td></tr>
<tr class="separator:a8102faceb930f93a3e2a3bdf46f659a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c2e355ba0de3aae6c34c626f9fe95e9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgmx_1_1test_1_1TestReferenceData.xhtml#a9c2e355ba0de3aae6c34c626f9fe95e9">~TestReferenceData</a> ()</td></tr>
<tr class="memdesc:a9c2e355ba0de3aae6c34c626f9fe95e9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Frees reference data structures.  <a href="#a9c2e355ba0de3aae6c34c626f9fe95e9">More...</a><br/></td></tr>
<tr class="separator:a9c2e355ba0de3aae6c34c626f9fe95e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c751bb515d71cebb3ad802ec6a5eb0c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classgmx_1_1test_1_1TestReferenceChecker.xhtml">TestReferenceChecker</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgmx_1_1test_1_1TestReferenceData.xhtml#a2c751bb515d71cebb3ad802ec6a5eb0c">rootChecker</a> ()</td></tr>
<tr class="memdesc:a2c751bb515d71cebb3ad802ec6a5eb0c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a root-level checker object for comparisons.  <a href="#a2c751bb515d71cebb3ad802ec6a5eb0c">More...</a><br/></td></tr>
<tr class="separator:a2c751bb515d71cebb3ad802ec6a5eb0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a8102faceb930f93a3e2a3bdf46f659a2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">gmx::test::TestReferenceData::TestReferenceData </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__module__testutils.xhtml#gad7a0c1ac11a9748556948309218fc08a">ReferenceDataMode</a>&#160;</td>
          <td class="paramname"><em>mode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initializes the reference data in a specific mode. </p>
<p>This function is only useful for self-testing the reference data framework. As such, it also puts the framework in a state where it logs additional internal information for failures to help diagnosing problems in the framework, and stores the reference data in a temporary directory instead of the source tree. The default constructor should be used in tests utilizing this class. </p>

</div>
</div>
<a class="anchor" id="a9c2e355ba0de3aae6c34c626f9fe95e9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gmx::test::TestReferenceData::~TestReferenceData </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Frees reference data structures. </p>
<p>The reference data is written out if necessary automatically when the test finishes. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a2c751bb515d71cebb3ad802ec6a5eb0c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classgmx_1_1test_1_1TestReferenceChecker.xhtml">TestReferenceChecker</a> gmx::test::TestReferenceData::rootChecker </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns a root-level checker object for comparisons. </p>
<p>Each call returns an independent instance. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/testutils/<a class="el" href="refdata_8h.xhtml">refdata.h</a></li>
<li>src/testutils/<a class="el" href="refdata_8cpp.xhtml">refdata.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Aug 23 2018 14:57:31 for Gromacs by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
