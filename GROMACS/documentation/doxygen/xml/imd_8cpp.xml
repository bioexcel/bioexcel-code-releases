<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.5">
  <compounddef id="imd_8cpp" kind="file">
    <compoundname>imd.cpp</compoundname>
    <includes refid="gmxpre_8h" local="yes">gmxpre.h</includes>
    <includes refid="imd_8h" local="yes">imd.h</includes>
    <includes local="yes">config.h</includes>
    <includes local="no">errno.h</includes>
    <includes local="no">string.h</includes>
    <includes local="no">unistd.h</includes>
    <includes refid="filenm_8h" local="yes">gromacs/commandline/filenm.h</includes>
    <includes refid="domdec__struct_8h" local="yes">gromacs/domdec/domdec_struct.h</includes>
    <includes refid="ga2la_8h" local="yes">gromacs/domdec/ga2la.h</includes>
    <includes refid="confio_8h" local="yes">gromacs/fileio/confio.h</includes>
    <includes refid="gmxfio_8h" local="yes">gromacs/fileio/gmxfio.h</includes>
    <includes refid="xvgr_8h" local="yes">gromacs/fileio/xvgr.h</includes>
    <includes refid="network_8h" local="yes">gromacs/gmxlib/network.h</includes>
    <includes refid="imdsocket_8h" local="yes">gromacs/imd/imdsocket.h</includes>
    <includes refid="units_8h" local="yes">gromacs/math/units.h</includes>
    <includes refid="vec_8h" local="yes">gromacs/math/vec.h</includes>
    <includes refid="groupcoord_8h" local="yes">gromacs/mdlib/groupcoord.h</includes>
    <includes refid="mdrun_8h" local="yes">gromacs/mdlib/mdrun.h</includes>
    <includes refid="sighandler_8h" local="yes">gromacs/mdlib/sighandler.h</includes>
    <includes refid="sim__util_8h" local="yes">gromacs/mdlib/sim_util.h</includes>
    <includes refid="inputrec_8h" local="yes">gromacs/mdtypes/inputrec.h</includes>
    <includes refid="md__enums_8h" local="yes">gromacs/mdtypes/md_enums.h</includes>
    <includes refid="pbc_8h" local="yes">gromacs/pbcutil/pbc.h</includes>
    <includes refid="wallcycle_8h" local="yes">gromacs/timing/wallcycle.h</includes>
    <includes refid="mtop__util_8h" local="yes">gromacs/topology/mtop_util.h</includes>
    <includes refid="topology_8h" local="yes">gromacs/topology/topology.h</includes>
    <includes refid="fatalerror_8h" local="yes">gromacs/utility/fatalerror.h</includes>
    <includes refid="smalloc_8h" local="yes">gromacs/utility/smalloc.h</includes>
    <incdepgraph>
      <node id="9355">
        <label>stdarg.h</label>
      </node>
      <node id="9349">
        <label>netinet/in.h</label>
      </node>
      <node id="9337">
        <label>gromacs/commandline/filenm.h</label>
        <link refid="filenm_8h"/>
        <childnode refid="9338" relation="include">
        </childnode>
      </node>
      <node id="9330">
        <label>src/gromacs/imd/imd.cpp</label>
        <link refid="imd.cpp"/>
        <childnode refid="9331" relation="include">
        </childnode>
        <childnode refid="9332" relation="include">
        </childnode>
        <childnode refid="9333" relation="include">
        </childnode>
        <childnode refid="9334" relation="include">
        </childnode>
        <childnode refid="9335" relation="include">
        </childnode>
        <childnode refid="9336" relation="include">
        </childnode>
        <childnode refid="9337" relation="include">
        </childnode>
        <childnode refid="9341" relation="include">
        </childnode>
        <childnode refid="9345" relation="include">
        </childnode>
        <childnode refid="9348" relation="include">
        </childnode>
        <childnode refid="9351" relation="include">
        </childnode>
        <childnode refid="9353" relation="include">
        </childnode>
        <childnode refid="9354" relation="include">
        </childnode>
        <childnode refid="9346" relation="include">
        </childnode>
      </node>
      <node id="9346">
        <label>gromacs/utility/smalloc.h</label>
        <link refid="smalloc_8h"/>
        <childnode refid="9347" relation="include">
        </childnode>
        <childnode refid="9338" relation="include">
        </childnode>
      </node>
      <node id="9354">
        <label>gromacs/utility/fatalerror.h</label>
        <link refid="fatalerror_8h"/>
        <childnode refid="9355" relation="include">
        </childnode>
        <childnode refid="9352" relation="include">
        </childnode>
        <childnode refid="9338" relation="include">
        </childnode>
      </node>
      <node id="9339">
        <label>stdint.h</label>
      </node>
      <node id="9345">
        <label>gromacs/domdec/ga2la.h</label>
        <link refid="ga2la_8h"/>
        <childnode refid="9338" relation="include">
        </childnode>
        <childnode refid="9346" relation="include">
        </childnode>
      </node>
      <node id="9331">
        <label>gmxpre.h</label>
        <link refid="gmxpre_8h"/>
      </node>
      <node id="9334">
        <label>errno.h</label>
      </node>
      <node id="9341">
        <label>gromacs/domdec/domdec_struct.h</label>
        <link refid="domdec__struct_8h"/>
        <childnode refid="9342" relation="include">
        </childnode>
        <childnode refid="9338" relation="include">
        </childnode>
        <childnode refid="9343" relation="include">
        </childnode>
        <childnode refid="9344" relation="include">
        </childnode>
      </node>
      <node id="9347">
        <label>stddef.h</label>
      </node>
      <node id="9344">
        <label>gromacs/utility/real.h</label>
        <link refid="real_8h"/>
      </node>
      <node id="9351">
        <label>gromacs/mdlib/groupcoord.h</label>
        <link refid="groupcoord_8h"/>
        <childnode refid="9352" relation="include">
        </childnode>
        <childnode refid="9338" relation="include">
        </childnode>
      </node>
      <node id="9335">
        <label>string.h</label>
      </node>
      <node id="9336">
        <label>unistd.h</label>
      </node>
      <node id="9332">
        <label>imd.h</label>
        <link refid="imd_8h"/>
        <childnode refid="9333" relation="include">
        </childnode>
      </node>
      <node id="9342">
        <label>cstddef</label>
      </node>
      <node id="9353">
        <label>gromacs/mdtypes/md_enums.h</label>
        <link refid="md__enums_8h"/>
        <childnode refid="9338" relation="include">
        </childnode>
      </node>
      <node id="9350">
        <label>sys/socket.h</label>
      </node>
      <node id="9338">
        <label>gromacs/utility/basedefinitions.h</label>
        <link refid="basedefinitions_8h"/>
        <childnode refid="9339" relation="include">
        </childnode>
        <childnode refid="9340" relation="include">
        </childnode>
      </node>
      <node id="9333">
        <label>config.h</label>
      </node>
      <node id="9343">
        <label>gromacs/utility/gmxmpi.h</label>
        <link refid="gmxmpi_8h"/>
        <childnode refid="9333" relation="include">
        </childnode>
      </node>
      <node id="9352">
        <label>stdio.h</label>
      </node>
      <node id="9348">
        <label>gromacs/imd/imdsocket.h</label>
        <link refid="imdsocket_8h"/>
        <childnode refid="9333" relation="include">
        </childnode>
        <childnode refid="9349" relation="include">
        </childnode>
        <childnode refid="9350" relation="include">
        </childnode>
      </node>
      <node id="9340">
        <label>inttypes.h</label>
      </node>
    </incdepgraph>
    <innerclass refid="structIMDEnergyBlock" prot="public">IMDEnergyBlock</innerclass>
    <innerclass refid="structIMDHeader" prot="public">IMDHeader</innerclass>
    <innerclass refid="structt__gmx__IMD" prot="public">t_gmx_IMD</innerclass>
      <sectiondef kind="define">
      <memberdef kind="define" id="imd_8cpp_1ab6ecc30e44510b12bda8e088eab6b570" prot="public" static="no">
        <name>IMDLOOPWAIT</name>
        <initializer>1</initializer>
        <briefdescription>
<para>How long shall we wait in seconds until we check for a connection again? </para>        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/imd/imd.cpp" line="87" column="9" bodyfile="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/imd/imd.cpp" bodystart="87" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="imd_8cpp_1a8e470e83f1b78d380419466816f7f70f" prot="public" static="no">
        <name>IMDCONNECTWAIT</name>
        <initializer>2</initializer>
        <briefdescription>
<para>How long shall we check for the IMD_GO? </para>        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/imd/imd.cpp" line="90" column="9" bodyfile="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/imd/imd.cpp" bodystart="90" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="imd_8cpp_1aed732fc470f974350bb2b3e6acc81885" prot="public" static="no">
        <name>HEADERSIZE</name>
        <initializer>8</initializer>
        <briefdescription>
<para>IMD Header Size. </para>        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/imd/imd.cpp" line="93" column="9" bodyfile="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/imd/imd.cpp" bodystart="93" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="imd_8cpp_1adeb3d4ff7c322e91910abb1a0d8651f9" prot="public" static="no">
        <name>IMDVERSION</name>
        <initializer>2</initializer>
        <briefdescription>
<para>IMD Protocol Version. </para>        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/imd/imd.cpp" line="95" column="9" bodyfile="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/imd/imd.cpp" bodystart="95" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="imd_8cpp_1ade87b0180259d1dfbe36aa5a0a1674bc" prot="public" static="no">
        <name>block_bc</name>
        <param><defname>cr</defname></param>
        <param><defname>d</defname></param>
        <initializer>gmx_bcast(sizeof(d), &amp;(d), (cr))</initializer>
        <briefdescription>
<para>Broadcast d to all nodes. </para>        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/imd/imd.cpp" line="98" column="10" bodyfile="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/imd/imd.cpp" bodystart="98" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="imd_8cpp_1aa6d3a8c594fbbb636421577ed3721fba" prot="public" static="no">
        <name>nblock_bc</name>
        <param><defname>cr</defname></param>
        <param><defname>nr</defname></param>
        <param><defname>d</defname></param>
        <initializer>gmx_bcast((nr)*sizeof((d)[0]), (d), (cr))</initializer>
        <briefdescription>
<para>Broadcast nr elements of d to all nodes. </para>        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/imd/imd.cpp" line="101" column="10" bodyfile="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/imd/imd.cpp" bodystart="101" bodyend="-1"/>
      </memberdef>
      </sectiondef>
      <sectiondef kind="enum">
      <memberdef kind="enum" id="imd_8cpp_1af5cb6d7737e9bb4c9747225aea161f1b" prot="public" static="no">
        <name>IMDType_t</name>
        <enumvalue id="imd_8cpp_1af5cb6d7737e9bb4c9747225aea161f1baff432ca97d7b28c3281f706fa6cafbc4" prot="public">
          <name>IMD_DISCONNECT</name>
          <briefdescription>
<para>client disconnect </para>          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="imd_8cpp_1af5cb6d7737e9bb4c9747225aea161f1bac993f99d21082fd450c4b2de1e05063f" prot="public">
          <name>IMD_ENERGIES</name>
          <briefdescription>
<para>energy data </para>          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="imd_8cpp_1af5cb6d7737e9bb4c9747225aea161f1ba166d65a305fff233066ba2f83d79460c" prot="public">
          <name>IMD_FCOORDS</name>
          <briefdescription>
<para>atomic coordinates </para>          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="imd_8cpp_1af5cb6d7737e9bb4c9747225aea161f1ba958e9f69f993ec05e7d04e1af7013406" prot="public">
          <name>IMD_GO</name>
          <briefdescription>
<para>start command for the simulation </para>          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="imd_8cpp_1af5cb6d7737e9bb4c9747225aea161f1ba17f229cfffe9e48eb733cd1e0574dc47" prot="public">
          <name>IMD_HANDSHAKE</name>
          <briefdescription>
<para>handshake to determine little/big endianness </para>          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="imd_8cpp_1af5cb6d7737e9bb4c9747225aea161f1ba4855c30bdc6943df4691f70338ca7c89" prot="public">
          <name>IMD_KILL</name>
          <briefdescription>
<para>terminates the simulation </para>          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="imd_8cpp_1af5cb6d7737e9bb4c9747225aea161f1ba304c8e808c2e56731f6ab17de4d8e643" prot="public">
          <name>IMD_MDCOMM</name>
          <briefdescription>
<para>force data </para>          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="imd_8cpp_1af5cb6d7737e9bb4c9747225aea161f1ba0d684f3e2480b9d7f92210f565664895" prot="public">
          <name>IMD_PAUSE</name>
          <briefdescription>
<para>pauses the simulation </para>          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="imd_8cpp_1af5cb6d7737e9bb4c9747225aea161f1ba4e71e0f5e6758b099db5cf51b527c1ca" prot="public">
          <name>IMD_TRATE</name>
          <briefdescription>
<para>sets the IMD transmission and processing rate </para>          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="imd_8cpp_1af5cb6d7737e9bb4c9747225aea161f1bad7f2af819f4e05f0e6e4415a51846697" prot="public">
          <name>IMD_IOERROR</name>
          <briefdescription>
<para>I/O error. </para>          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="imd_8cpp_1af5cb6d7737e9bb4c9747225aea161f1ba1fdeb1fce4ce51229f260660a4cdcb56" prot="public">
          <name>IMD_NR</name>
          <briefdescription>
<para>number of entries </para>          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <briefdescription>
<para>Enum for types of IMD messages. </para>        </briefdescription>
        <detaileddescription>
<internal><para>We use the same records as the NAMD/VMD IMD implementation. </para></internal>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/imd/imd.cpp" line="213" column="1" bodyfile="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/imd/imd.cpp" bodystart="212" bodyend="225"/>
      </memberdef>
      </sectiondef>
      <sectiondef kind="typedef">
      <memberdef kind="typedef" id="imd_8cpp_1a93ec6165f7e636336ee6f4e48e202b08" prot="public" static="no">
        <type>struct <ref refid="structt__gmx__IMD" kindref="compound">t_gmx_IMD</ref></type>
        <definition>typedef struct t_gmx_IMD  t_gmx_IMD_setup</definition>
        <argsstring></argsstring>
        <name>t_gmx_IMD_setup</name>
        <briefdescription>
<para>IMD (interactive molecular dynamics) main data structure. </para>        </briefdescription>
        <detaileddescription>
<internal><para>Contains private IMD data </para></internal>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/imd/imd.cpp" line="204" column="1"/>
      </memberdef>
      <memberdef kind="typedef" id="imd_8cpp_1a8989c3f0a5c85cb7126bf6e72bd58258" prot="public" static="no">
        <type>enum <ref refid="imd_8cpp_1af5cb6d7737e9bb4c9747225aea161f1b" kindref="member">IMDType_t</ref></type>
        <definition>typedef enum IMDType_t  IMDMessageType</definition>
        <argsstring></argsstring>
        <name>IMDMessageType</name>
        <briefdescription>
<para>Enum for types of IMD messages. </para>        </briefdescription>
        <detaileddescription>
<internal><para>We use the same records as the NAMD/VMD IMD implementation. </para></internal>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/imd/imd.cpp" line="225" column="1"/>
      </memberdef>
      </sectiondef>
      <sectiondef kind="var">
      <memberdef kind="variable" id="imd_8cpp_1a27660ef4ae52f6152c406e59b3993ed1" prot="public" static="no" mutable="no">
        <type>const char *</type>
        <definition>const char* eIMDType_names[IMD_NR+1]</definition>
        <argsstring>[IMD_NR+1]</argsstring>
        <name>eIMDType_names</name>
        <initializer>= {
    &quot;IMD_DISCONNECT&quot;,
    &quot;<ref refid="imd_8cpp_1af5cb6d7737e9bb4c9747225aea161f1bac993f99d21082fd450c4b2de1e05063f" kindref="member">IMD_ENERGIES</ref>&quot;,
    &quot;<ref refid="imd_8cpp_1af5cb6d7737e9bb4c9747225aea161f1ba166d65a305fff233066ba2f83d79460c" kindref="member">IMD_FCOORDS</ref>&quot;,
    &quot;<ref refid="imd_8cpp_1af5cb6d7737e9bb4c9747225aea161f1ba958e9f69f993ec05e7d04e1af7013406" kindref="member">IMD_GO</ref>&quot;,
    &quot;<ref refid="imd_8cpp_1af5cb6d7737e9bb4c9747225aea161f1ba17f229cfffe9e48eb733cd1e0574dc47" kindref="member">IMD_HANDSHAKE</ref>&quot;,
    &quot;<ref refid="imd_8cpp_1af5cb6d7737e9bb4c9747225aea161f1ba4855c30bdc6943df4691f70338ca7c89" kindref="member">IMD_KILL</ref>&quot;,
    &quot;<ref refid="imd_8cpp_1af5cb6d7737e9bb4c9747225aea161f1ba304c8e808c2e56731f6ab17de4d8e643" kindref="member">IMD_MDCOMM</ref>&quot;,
    &quot;<ref refid="imd_8cpp_1af5cb6d7737e9bb4c9747225aea161f1ba0d684f3e2480b9d7f92210f565664895" kindref="member">IMD_PAUSE</ref>&quot;,
    &quot;<ref refid="imd_8cpp_1af5cb6d7737e9bb4c9747225aea161f1ba4e71e0f5e6758b099db5cf51b527c1ca" kindref="member">IMD_TRATE</ref>&quot;,
    &quot;<ref refid="imd_8cpp_1af5cb6d7737e9bb4c9747225aea161f1bad7f2af819f4e05f0e6e4415a51846697" kindref="member">IMD_IOERROR</ref>&quot;,
    NULL
}</initializer>
        <briefdescription>
<para>Names of the IMDType for error messages. </para>        </briefdescription>
        <detaileddescription>
<internal></internal>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/imd/imd.cpp" line="231" column="1" bodyfile="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/imd/imd.cpp" bodystart="231" bodyend="-1"/>
      </memberdef>
      </sectiondef>
      <sectiondef kind="func">
      <memberdef kind="function" id="imd_8cpp_1aaee8ddeaf0f2d9d7deccf8abfb6f3e2c" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>gmx_int32_t</type>
        <definition>static gmx_int32_t gmx_htonl</definition>
        <argsstring>(gmx_int32_t src)</argsstring>
        <name>gmx_htonl</name>
        <param>
          <type>gmx_int32_t</type>
          <declname>src</declname>
        </param>
        <briefdescription>
<para>Byte swap in case we are little-endian. </para>        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/imd/imd.cpp" line="249" column="1" bodyfile="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/imd/imd.cpp" bodystart="249" bodyend="268"/>
      </memberdef>
      <memberdef kind="function" id="imd_8cpp_1a5ce4498088297af5d3d243f1a0d40c77" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>gmx_int32_t</type>
        <definition>static gmx_int32_t gmx_ntohl</definition>
        <argsstring>(gmx_int32_t src)</argsstring>
        <name>gmx_ntohl</name>
        <param>
          <type>gmx_int32_t</type>
          <declname>src</declname>
        </param>
        <briefdescription>
<para>Byte-unswap 32 bit word in case we are little-endian. </para>        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/imd/imd.cpp" line="271" column="1" bodyfile="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/imd/imd.cpp" bodystart="271" bodyend="274"/>
      </memberdef>
      <memberdef kind="function" id="imd_8cpp_1a3d433b2e289b100310db5096f1f9144c" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>static void fill_header</definition>
        <argsstring>(IMDHeader *header, IMDMessageType type, gmx_int32_t length)</argsstring>
        <name>fill_header</name>
        <param>
          <type><ref refid="structIMDHeader" kindref="compound">IMDHeader</ref> *</type>
          <declname>header</declname>
        </param>
        <param>
          <type><ref refid="imd_8cpp_1a8989c3f0a5c85cb7126bf6e72bd58258" kindref="member">IMDMessageType</ref></type>
          <declname>type</declname>
        </param>
        <param>
          <type>gmx_int32_t</type>
          <declname>length</declname>
        </param>
        <briefdescription>
<para>Fills the header with message and the length argument. </para>        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/imd/imd.cpp" line="277" column="1" bodyfile="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/imd/imd.cpp" bodystart="277" bodyend="282"/>
      </memberdef>
      <memberdef kind="function" id="imd_8cpp_1af9c35bd99b0324b25cccc12105b2f888" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>static void swap_header</definition>
        <argsstring>(IMDHeader *header)</argsstring>
        <name>swap_header</name>
        <param>
          <type><ref refid="structIMDHeader" kindref="compound">IMDHeader</ref> *</type>
          <declname>header</declname>
        </param>
        <briefdescription>
<para>Swaps the endianess of the header. </para>        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/imd/imd.cpp" line="286" column="1" bodyfile="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/imd/imd.cpp" bodystart="286" bodyend="291"/>
      </memberdef>
      <memberdef kind="function" id="imd_8cpp_1a567dc09a11f2cfbcab33289ecf9b3edd" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>gmx_int32_t</type>
        <definition>static gmx_int32_t imd_read_multiple</definition>
        <argsstring>(IMDSocket *socket, char *datptr, gmx_int32_t toread)</argsstring>
        <name>imd_read_multiple</name>
        <param>
          <type><ref refid="structIMDSocket" kindref="compound">IMDSocket</ref> *</type>
          <declname>socket</declname>
        </param>
        <param>
          <type>char *</type>
          <declname>datptr</declname>
        </param>
        <param>
          <type>gmx_int32_t</type>
          <declname>toread</declname>
        </param>
        <briefdescription>
<para>Reads multiple bytes from socket. </para>        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/imd/imd.cpp" line="295" column="1" bodyfile="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/imd/imd.cpp" bodystart="295" bodyend="329"/>
      </memberdef>
      <memberdef kind="function" id="imd_8cpp_1ad6db5f14249f290fade67f8b0eac0938" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>gmx_int32_t</type>
        <definition>static gmx_int32_t imd_write_multiple</definition>
        <argsstring>(IMDSocket *socket, const char *datptr, gmx_int32_t towrite)</argsstring>
        <name>imd_write_multiple</name>
        <param>
          <type><ref refid="structIMDSocket" kindref="compound">IMDSocket</ref> *</type>
          <declname>socket</declname>
        </param>
        <param>
          <type>const char *</type>
          <declname>datptr</declname>
        </param>
        <param>
          <type>gmx_int32_t</type>
          <declname>towrite</declname>
        </param>
        <briefdescription>
<para>Writes multiple bytes to socket in analogy to imd_read_multiple. </para>        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/imd/imd.cpp" line="333" column="1" bodyfile="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/imd/imd.cpp" bodystart="333" bodyend="357"/>
      </memberdef>
      <memberdef kind="function" id="imd_8cpp_1a001a4b65c8a0a8715971b345010998d9" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>static int imd_handshake</definition>
        <argsstring>(IMDSocket *socket)</argsstring>
        <name>imd_handshake</name>
        <param>
          <type><ref refid="structIMDSocket" kindref="compound">IMDSocket</ref> *</type>
          <declname>socket</declname>
        </param>
        <briefdescription>
<para>Handshake with IMD client. </para>        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/imd/imd.cpp" line="361" column="1" bodyfile="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/imd/imd.cpp" bodystart="361" bodyend="370"/>
      </memberdef>
      <memberdef kind="function" id="imd_8cpp_1a9e39cd51a68ba5c3af2638b11e9a8a6f" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>static int imd_send_energies</definition>
        <argsstring>(IMDSocket *socket, const IMDEnergyBlock *energies, char *buffer)</argsstring>
        <name>imd_send_energies</name>
        <param>
          <type><ref refid="structIMDSocket" kindref="compound">IMDSocket</ref> *</type>
          <declname>socket</declname>
        </param>
        <param>
          <type>const <ref refid="structIMDEnergyBlock" kindref="compound">IMDEnergyBlock</ref> *</type>
          <declname>energies</declname>
        </param>
        <param>
          <type>char *</type>
          <declname>buffer</declname>
        </param>
        <briefdescription>
<para>Send energies using the energy block and the send buffer. </para>        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/imd/imd.cpp" line="374" column="1" bodyfile="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/imd/imd.cpp" bodystart="374" bodyend="384"/>
      </memberdef>
      <memberdef kind="function" id="imd_8cpp_1a61f454a1ee3f86d05be2805392e5f093" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="imd_8cpp_1a8989c3f0a5c85cb7126bf6e72bd58258" kindref="member">IMDMessageType</ref></type>
        <definition>static IMDMessageType imd_recv_header</definition>
        <argsstring>(IMDSocket *socket, gmx_int32_t *length)</argsstring>
        <name>imd_recv_header</name>
        <param>
          <type><ref refid="structIMDSocket" kindref="compound">IMDSocket</ref> *</type>
          <declname>socket</declname>
        </param>
        <param>
          <type>gmx_int32_t *</type>
          <declname>length</declname>
        </param>
        <briefdescription>
<para>Receive IMD header from socket, sets the length and returns the IMD message. </para>        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/imd/imd.cpp" line="388" column="1" bodyfile="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/imd/imd.cpp" bodystart="388" bodyend="401"/>
      </memberdef>
      <memberdef kind="function" id="imd_8cpp_1afc517ad512e416c4f7fcd2da66a922b6" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>static int imd_recv_mdcomm</definition>
        <argsstring>(IMDSocket *socket, gmx_int32_t nforces, gmx_int32_t *forcendx, float *forces)</argsstring>
        <name>imd_recv_mdcomm</name>
        <param>
          <type><ref refid="structIMDSocket" kindref="compound">IMDSocket</ref> *</type>
          <declname>socket</declname>
        </param>
        <param>
          <type>gmx_int32_t</type>
          <declname>nforces</declname>
        </param>
        <param>
          <type>gmx_int32_t *</type>
          <declname>forcendx</declname>
        </param>
        <param>
          <type>float *</type>
          <declname>forces</declname>
        </param>
        <briefdescription>
<para>Receive force indices and forces. </para>        </briefdescription>
        <detaileddescription>
<para>The number of forces was previously communicated via the header. </para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/imd/imd.cpp" line="408" column="1" bodyfile="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/imd/imd.cpp" bodystart="408" bodyend="430"/>
      </memberdef>
      <memberdef kind="function" id="imd_8cpp_1a8ded056a05fd8c2d626848ff1ab9d2c7" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void write_IMDgroup_to_file</definition>
        <argsstring>(gmx_bool bIMD, t_inputrec *ir, t_state *state, gmx_mtop_t *sys, int nfile, const t_filenm fnm[])</argsstring>
        <name>write_IMDgroup_to_file</name>
        <param>
          <type><ref refid="basedefinitions_8h_1a8fddad319f226e856400d190198d5151" kindref="member">gmx_bool</ref></type>
          <declname>bIMD</declname>
        </param>
        <param>
          <type><ref refid="structt__inputrec" kindref="compound">t_inputrec</ref> *</type>
          <declname>ir</declname>
        </param>
        <param>
          <type><ref refid="structt__state" kindref="compound">t_state</ref> *</type>
          <declname>state</declname>
        </param>
        <param>
          <type><ref refid="structgmx__mtop__t" kindref="compound">gmx_mtop_t</ref> *</type>
          <declname>sys</declname>
        </param>
        <param>
          <type>int</type>
          <declname>nfile</declname>
        </param>
        <param>
          <type>const <ref refid="structt__filenm" kindref="compound">t_filenm</ref></type>
          <declname>fnm</declname>
          <array>[]</array>
        </param>
        <briefdescription>
<para>Writes out the group of atoms selected for interactive manipulation. </para>        </briefdescription>
        <detaileddescription>
<para>Called by grompp. The resulting file has to be read in by VMD if one wants it to connect to mdrun.</para><para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>bIMD</parametername>
</parameternamelist>
<parameterdescription>
<para>Only springs into action if bIMD is TRUE. Otherwise returns directly. </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>ir</parametername>
</parameternamelist>
<parameterdescription>
<para>Structure containing MD input parameters, among those the IMD data structure. </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>state</parametername>
</parameternamelist>
<parameterdescription>
<para>The current state of the MD system. </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>sys</parametername>
</parameternamelist>
<parameterdescription>
<para>The global, complete system topology. </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>nfile</parametername>
</parameternamelist>
<parameterdescription>
<para>Number of files. </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>fnm</parametername>
</parameternamelist>
<parameterdescription>
<para>Filename struct. </para></parameterdescription>
</parameteritem>
</parameterlist>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/imd/imd.cpp" line="435" column="1" bodyfile="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/imd/imd.cpp" bodystart="435" bodyend="447"/>
      </memberdef>
      <memberdef kind="function" id="imd_8cpp_1a242797cc2d052fad8f9d2d5b6b0443df" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void dd_make_local_IMD_atoms</definition>
        <argsstring>(gmx_bool bIMD, gmx_domdec_t *dd, t_IMD *imd)</argsstring>
        <name>dd_make_local_IMD_atoms</name>
        <param>
          <type><ref refid="basedefinitions_8h_1a8fddad319f226e856400d190198d5151" kindref="member">gmx_bool</ref></type>
          <declname>bIMD</declname>
        </param>
        <param>
          <type><ref refid="structgmx__domdec__t" kindref="compound">gmx_domdec_t</ref> *</type>
          <declname>dd</declname>
        </param>
        <param>
          <type><ref refid="structt__IMD" kindref="compound">t_IMD</ref> *</type>
          <declname>imd</declname>
        </param>
        <briefdescription>
<para>Make a selection of the home atoms for the IMD group. </para>        </briefdescription>
        <detaileddescription>
<para>Should be called at every domain decomposition. Each node checks which of the atoms from &quot;ind&quot; are local and puts its local atom numbers into the &quot;ind_local&quot; array. Furthermore, in &quot;xa_ind&quot; it is stored at which position each local atom belongs in the assembled/collective array, so that on the master node all positions can be merged into the assembled array correctly.</para><para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>bIMD</parametername>
</parameternamelist>
<parameterdescription>
<para>Only springs into action if bIMD is TRUE. Otherwise returns directly. </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>dd</parametername>
</parameternamelist>
<parameterdescription>
<para>Structure containing domain decomposition data. </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>imd</parametername>
</parameternamelist>
<parameterdescription>
<para>The IMD group of atoms. </para></parameterdescription>
</parameteritem>
</parameterlist>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/imd/imd.cpp" line="450" column="1" bodyfile="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/imd/imd.cpp" bodystart="450" bodyend="464"/>
      </memberdef>
      <memberdef kind="function" id="imd_8cpp_1a6ad175b0e7c01384124be628b9264dcd" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>static int imd_send_rvecs</definition>
        <argsstring>(IMDSocket *socket, int nat, rvec *x, char *buffer)</argsstring>
        <name>imd_send_rvecs</name>
        <param>
          <type><ref refid="structIMDSocket" kindref="compound">IMDSocket</ref> *</type>
          <declname>socket</declname>
        </param>
        <param>
          <type>int</type>
          <declname>nat</declname>
        </param>
        <param>
          <type>rvec *</type>
          <declname>x</declname>
        </param>
        <param>
          <type>char *</type>
          <declname>buffer</declname>
        </param>
        <briefdescription>
<para>Send positions from rvec. </para>        </briefdescription>
        <detaileddescription>
<para>We need a separate send buffer and conversion to Angstrom. </para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/imd/imd.cpp" line="472" column="1" bodyfile="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/imd/imd.cpp" bodystart="472" bodyend="494"/>
      </memberdef>
      <memberdef kind="function" id="imd_8cpp_1a13e1ee568c53a9f54499fb3a68d6ef05" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="imd_8cpp_1a93ec6165f7e636336ee6f4e48e202b08" kindref="member">t_gmx_IMD_setup</ref> *</type>
        <definition>static t_gmx_IMD_setup* imd_create</definition>
        <argsstring>(int imdatoms, int nstimddef, int imdport)</argsstring>
        <name>imd_create</name>
        <param>
          <type>int</type>
          <declname>imdatoms</declname>
        </param>
        <param>
          <type>int</type>
          <declname>nstimddef</declname>
        </param>
        <param>
          <type>int</type>
          <declname>imdport</declname>
        </param>
        <briefdescription>
<para>Initializes the IMD private data. </para>        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/imd/imd.cpp" line="498" column="1" bodyfile="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/imd/imd.cpp" bodystart="498" bodyend="526"/>
      </memberdef>
      <memberdef kind="function" id="imd_8cpp_1aa2685d2c270b2d1cb0af658eb0d5a560" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>static void imd_prepare_master_socket</definition>
        <argsstring>(t_gmx_IMD_setup *IMDsetup)</argsstring>
        <name>imd_prepare_master_socket</name>
        <param>
          <type><ref refid="imd_8cpp_1a93ec6165f7e636336ee6f4e48e202b08" kindref="member">t_gmx_IMD_setup</ref> *</type>
          <declname>IMDsetup</declname>
        </param>
        <briefdescription>
<para>Prepare the socket on the MASTER. </para>        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/imd/imd.cpp" line="530" column="1" bodyfile="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/imd/imd.cpp" bodystart="530" bodyend="572"/>
      </memberdef>
      <memberdef kind="function" id="imd_8cpp_1a8a242ebae1bdbed8f7b98d31882711ba" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>static void imd_disconnect</definition>
        <argsstring>(t_gmx_IMD_setup *IMDsetup)</argsstring>
        <name>imd_disconnect</name>
        <param>
          <type><ref refid="imd_8cpp_1a93ec6165f7e636336ee6f4e48e202b08" kindref="member">t_gmx_IMD_setup</ref> *</type>
          <declname>IMDsetup</declname>
        </param>
        <briefdescription>
<para>Disconnect the client. </para>        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/imd/imd.cpp" line="576" column="1" bodyfile="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/imd/imd.cpp" bodystart="576" bodyend="592"/>
      </memberdef>
      <memberdef kind="function" id="imd_8cpp_1a7f7b8a35f3a1f0840f63a2de52c09003" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>static void imd_fatal</definition>
        <argsstring>(t_gmx_IMD_setup *IMDsetup, const char *msg)</argsstring>
        <name>imd_fatal</name>
        <param>
          <type><ref refid="imd_8cpp_1a93ec6165f7e636336ee6f4e48e202b08" kindref="member">t_gmx_IMD_setup</ref> *</type>
          <declname>IMDsetup</declname>
        </param>
        <param>
          <type>const char *</type>
          <declname>msg</declname>
        </param>
        <briefdescription>
<para>Prints an error message and disconnects the client. </para>        </briefdescription>
        <detaileddescription>
<para>Does not terminate mdrun! </para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/imd/imd.cpp" line="599" column="1" bodyfile="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/imd/imd.cpp" bodystart="599" bodyend="604"/>
      </memberdef>
      <memberdef kind="function" id="imd_8cpp_1ac5436cbd4cb74b66dcf145df775b0697" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="basedefinitions_8h_1a8fddad319f226e856400d190198d5151" kindref="member">gmx_bool</ref></type>
        <definition>static gmx_bool imd_tryconnect</definition>
        <argsstring>(t_gmx_IMD_setup *IMDsetup)</argsstring>
        <name>imd_tryconnect</name>
        <param>
          <type><ref refid="imd_8cpp_1a93ec6165f7e636336ee6f4e48e202b08" kindref="member">t_gmx_IMD_setup</ref> *</type>
          <declname>IMDsetup</declname>
        </param>
        <briefdescription>
<para>Check whether we got an incoming connection. </para>        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/imd/imd.cpp" line="608" column="1" bodyfile="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/imd/imd.cpp" bodystart="608" bodyend="642"/>
      </memberdef>
      <memberdef kind="function" id="imd_8cpp_1a2c8f0a73fd87c3ba33bc06bbd51eead5" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>static void imd_blockconnect</definition>
        <argsstring>(t_gmx_IMD_setup *IMDsetup)</argsstring>
        <name>imd_blockconnect</name>
        <param>
          <type><ref refid="imd_8cpp_1a93ec6165f7e636336ee6f4e48e202b08" kindref="member">t_gmx_IMD_setup</ref> *</type>
          <declname>IMDsetup</declname>
        </param>
        <briefdescription>
<para>Wrap imd_tryconnect in order to make it blocking. </para>        </briefdescription>
        <detaileddescription>
<para>Used when the simulation should wait for an incoming connection. </para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/imd/imd.cpp" line="649" column="1" bodyfile="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/imd/imd.cpp" bodystart="649" bodyend="670"/>
      </memberdef>
      <memberdef kind="function" id="imd_8cpp_1ac05bd2d52b6b2ea9ac5d08d3bb204fa9" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>static void imd_prepare_vmd_Forces</definition>
        <argsstring>(t_gmx_IMD_setup *IMDsetup)</argsstring>
        <name>imd_prepare_vmd_Forces</name>
        <param>
          <type><ref refid="imd_8cpp_1a93ec6165f7e636336ee6f4e48e202b08" kindref="member">t_gmx_IMD_setup</ref> *</type>
          <declname>IMDsetup</declname>
        </param>
        <briefdescription>
<para>Make sure that our array holding the forces received via IMD is large enough. </para>        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/imd/imd.cpp" line="674" column="1" bodyfile="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/imd/imd.cpp" bodystart="674" bodyend="678"/>
      </memberdef>
      <memberdef kind="function" id="imd_8cpp_1ac3d330ad1c2d79bcb7531e37904ff2e5" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>static void imd_read_vmd_Forces</definition>
        <argsstring>(t_gmx_IMD_setup *IMDsetup)</argsstring>
        <name>imd_read_vmd_Forces</name>
        <param>
          <type><ref refid="imd_8cpp_1a93ec6165f7e636336ee6f4e48e202b08" kindref="member">t_gmx_IMD_setup</ref> *</type>
          <declname>IMDsetup</declname>
        </param>
        <briefdescription>
<para>Reads forces received via IMD. </para>        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/imd/imd.cpp" line="682" column="1" bodyfile="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/imd/imd.cpp" bodystart="682" bodyend="693"/>
      </memberdef>
      <memberdef kind="function" id="imd_8cpp_1a3f8f2d401997550980b6d62820a92c41" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>static void imd_prepare_MD_Forces</definition>
        <argsstring>(t_gmx_IMD_setup *IMDsetup)</argsstring>
        <name>imd_prepare_MD_Forces</name>
        <param>
          <type><ref refid="imd_8cpp_1a93ec6165f7e636336ee6f4e48e202b08" kindref="member">t_gmx_IMD_setup</ref> *</type>
          <declname>IMDsetup</declname>
        </param>
        <briefdescription>
<para>Prepares the MD force arrays. </para>        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/imd/imd.cpp" line="697" column="1" bodyfile="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/imd/imd.cpp" bodystart="697" bodyend="701"/>
      </memberdef>
      <memberdef kind="function" id="imd_8cpp_1acef9a50d0c88969aa8cc58f6986147e3" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>static void imd_copyto_MD_Forces</definition>
        <argsstring>(t_gmx_IMD_setup *IMDsetup)</argsstring>
        <name>imd_copyto_MD_Forces</name>
        <param>
          <type><ref refid="imd_8cpp_1a93ec6165f7e636336ee6f4e48e202b08" kindref="member">t_gmx_IMD_setup</ref> *</type>
          <declname>IMDsetup</declname>
        </param>
        <briefdescription>
<para>Copy IMD forces to MD forces. </para>        </briefdescription>
        <detaileddescription>
<para>Do conversion from Cal-&gt;Joule and from Angstrom -&gt; nm and from a pointer array to arrays to 3*N array. </para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/imd/imd.cpp" line="709" column="1" bodyfile="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/imd/imd.cpp" bodystart="709" bodyend="727"/>
      </memberdef>
      <memberdef kind="function" id="imd_8cpp_1abf95395b0a60c36db863d5a5664a751a" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="basedefinitions_8h_1a8fddad319f226e856400d190198d5151" kindref="member">gmx_bool</ref></type>
        <definition>static gmx_bool bForcesChanged</definition>
        <argsstring>(t_gmx_IMD_setup *IMDsetup)</argsstring>
        <name>bForcesChanged</name>
        <param>
          <type><ref refid="imd_8cpp_1a93ec6165f7e636336ee6f4e48e202b08" kindref="member">t_gmx_IMD_setup</ref> *</type>
          <declname>IMDsetup</declname>
        </param>
        <briefdescription>
<para>Return TRUE if any of the forces or indices changed. </para>        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/imd/imd.cpp" line="731" column="1" bodyfile="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/imd/imd.cpp" bodystart="731" bodyend="770"/>
      </memberdef>
      <memberdef kind="function" id="imd_8cpp_1a57599f35cd4fc68cd659b87c11be5cec" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>static void keep_old_values</definition>
        <argsstring>(t_gmx_IMD_setup *IMDsetup)</argsstring>
        <name>keep_old_values</name>
        <param>
          <type><ref refid="imd_8cpp_1a93ec6165f7e636336ee6f4e48e202b08" kindref="member">t_gmx_IMD_setup</ref> *</type>
          <declname>IMDsetup</declname>
        </param>
        <briefdescription>
<para>Fill the old_f_ind and old_forces arrays with the new, old values. </para>        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/imd/imd.cpp" line="774" column="1" bodyfile="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/imd/imd.cpp" bodystart="774" bodyend="786"/>
      </memberdef>
      <memberdef kind="function" id="imd_8cpp_1a544269586af1c7b5ce2bb2b13fae58ba" prot="public" static="yes" const="no" explicit="no" inline="yes" virt="non-virtual">
        <type><ref refid="basedefinitions_8h_1a8fddad319f226e856400d190198d5151" kindref="member">gmx_bool</ref></type>
        <definition>static gmx_bool rvecs_differ</definition>
        <argsstring>(const rvec v1, const rvec v2)</argsstring>
        <name>rvecs_differ</name>
        <param>
          <type>const rvec</type>
          <declname>v1</declname>
        </param>
        <param>
          <type>const rvec</type>
          <declname>v2</declname>
        </param>
        <briefdescription>
<para>Returns TRUE if any component of the two rvecs differs. </para>        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/imd/imd.cpp" line="790" column="1" bodyfile="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/imd/imd.cpp" bodystart="790" bodyend="804"/>
      </memberdef>
      <memberdef kind="function" id="imd_8cpp_1adbae681a1df5251675f030429a9993b4" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>static void output_imd_forces</definition>
        <argsstring>(t_inputrec *ir, double time)</argsstring>
        <name>output_imd_forces</name>
        <param>
          <type><ref refid="structt__inputrec" kindref="compound">t_inputrec</ref> *</type>
          <declname>ir</declname>
        </param>
        <param>
          <type>double</type>
          <declname>time</declname>
        </param>
        <briefdescription>
<para>Write the applied pull forces to logfile. </para>        </briefdescription>
        <detaileddescription>
<para>Call on master only! </para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/imd/imd.cpp" line="811" column="1" bodyfile="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/imd/imd.cpp" bodystart="811" bodyend="838"/>
      </memberdef>
      <memberdef kind="function" id="imd_8cpp_1ad2490ab462131d59189fb1dccfc0719e" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>static void imd_sync_nodes</definition>
        <argsstring>(t_inputrec *ir, t_commrec *cr, double t)</argsstring>
        <name>imd_sync_nodes</name>
        <param>
          <type><ref refid="structt__inputrec" kindref="compound">t_inputrec</ref> *</type>
          <declname>ir</declname>
        </param>
        <param>
          <type><ref refid="structt__commrec" kindref="compound">t_commrec</ref> *</type>
          <declname>cr</declname>
        </param>
        <param>
          <type>double</type>
          <declname>t</declname>
        </param>
        <briefdescription>
<para>Synchronize the nodes. </para>        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/imd/imd.cpp" line="842" column="1" bodyfile="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/imd/imd.cpp" bodystart="842" bodyend="932"/>
      </memberdef>
      <memberdef kind="function" id="imd_8cpp_1aa88012214ba44474e4d1dbd862fea6a6" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>static void imd_readcommand</definition>
        <argsstring>(t_gmx_IMD_setup *IMDsetup)</argsstring>
        <name>imd_readcommand</name>
        <param>
          <type><ref refid="imd_8cpp_1a93ec6165f7e636336ee6f4e48e202b08" kindref="member">t_gmx_IMD_setup</ref> *</type>
          <declname>IMDsetup</declname>
        </param>
        <briefdescription>
<para>Reads header from the client and decides what to do. </para>        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/imd/imd.cpp" line="936" column="1" bodyfile="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/imd/imd.cpp" bodystart="936" bodyend="1005"/>
      </memberdef>
      <memberdef kind="function" id="imd_8cpp_1a221e0541eda7188a4f8c4fab6367ce9b" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>FILE *</type>
        <definition>static FILE* open_imd_out</definition>
        <argsstring>(const char *fn, t_gmx_IMD_setup *IMDsetup, int nat_total, const gmx_output_env_t *oenv, unsigned long Flags)</argsstring>
        <name>open_imd_out</name>
        <param>
          <type>const char *</type>
          <declname>fn</declname>
        </param>
        <param>
          <type><ref refid="imd_8cpp_1a93ec6165f7e636336ee6f4e48e202b08" kindref="member">t_gmx_IMD_setup</ref> *</type>
          <declname>IMDsetup</declname>
        </param>
        <param>
          <type>int</type>
          <declname>nat_total</declname>
        </param>
        <param>
          <type>const <ref refid="structgmx__output__env__t" kindref="compound">gmx_output_env_t</ref> *</type>
          <declname>oenv</declname>
        </param>
        <param>
          <type>unsigned long</type>
          <declname>Flags</declname>
        </param>
        <briefdescription>
<para>Open IMD output file and write header information. </para>        </briefdescription>
        <detaileddescription>
<para>Call on master only. </para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/imd/imd.cpp" line="1012" column="1" bodyfile="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/imd/imd.cpp" bodystart="1012" bodyend="1060"/>
      </memberdef>
      <memberdef kind="function" id="imd_8cpp_1a430d90b2f13df735b9476c4b4c3967f5" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void IMD_finalize</definition>
        <argsstring>(gmx_bool bIMD, t_IMD *imd)</argsstring>
        <name>IMD_finalize</name>
        <param>
          <type><ref refid="basedefinitions_8h_1a8fddad319f226e856400d190198d5151" kindref="member">gmx_bool</ref></type>
          <declname>bIMD</declname>
        </param>
        <param>
          <type><ref refid="structt__IMD" kindref="compound">t_IMD</ref> *</type>
          <declname>imd</declname>
        </param>
        <briefdescription>
<para>Finalize IMD and do some cleaning up. </para>        </briefdescription>
        <detaileddescription>
<para>Currently, IMD finalize closes the force output file.</para><para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>bIMD</parametername>
</parameternamelist>
<parameterdescription>
<para>Returns directly if bIMD is FALSE. </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>imd</parametername>
</parameternamelist>
<parameterdescription>
<para>The IMD data structure. </para></parameterdescription>
</parameteritem>
</parameterlist>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/imd/imd.cpp" line="1064" column="1" bodyfile="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/imd/imd.cpp" bodystart="1064" bodyend="1073"/>
      </memberdef>
      <memberdef kind="function" id="imd_8cpp_1a8c9e243483d0f42779fab3177c63372a" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>static void init_imd_prepare_mols_in_imdgroup</definition>
        <argsstring>(t_gmx_IMD_setup *IMDsetup, gmx_mtop_t *top_global)</argsstring>
        <name>init_imd_prepare_mols_in_imdgroup</name>
        <param>
          <type><ref refid="imd_8cpp_1a93ec6165f7e636336ee6f4e48e202b08" kindref="member">t_gmx_IMD_setup</ref> *</type>
          <declname>IMDsetup</declname>
        </param>
        <param>
          <type><ref refid="structgmx__mtop__t" kindref="compound">gmx_mtop_t</ref> *</type>
          <declname>top_global</declname>
        </param>
        <briefdescription>
<para>Creates the molecule start-end position array of molecules in the IMD group. </para>        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/imd/imd.cpp" line="1078" column="1" bodyfile="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/imd/imd.cpp" bodystart="1078" bodyend="1125"/>
      </memberdef>
      <memberdef kind="function" id="imd_8cpp_1afb039e556ac32f42fabead5d2e29ff14" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>static void shift_positions</definition>
        <argsstring>(matrix box, rvec x[], ivec is, int nr)</argsstring>
        <name>shift_positions</name>
        <param>
          <type>matrix</type>
          <declname>box</declname>
        </param>
        <param>
          <type>rvec</type>
          <declname>x</declname>
          <array>[]</array>
        </param>
        <param>
          <type>ivec</type>
          <declname>is</declname>
        </param>
        <param>
          <type>int</type>
          <declname>nr</declname>
        </param>
        <briefdescription>
<para>Copied and modified from groupcoord.c shift_positions_group(). </para>        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/imd/imd.cpp" line="1129" column="1" bodyfile="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/imd/imd.cpp" bodystart="1129" bodyend="1164"/>
      </memberdef>
      <memberdef kind="function" id="imd_8cpp_1ab16a6ca671ce13381981a055281561eb" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>static void imd_remove_molshifts</definition>
        <argsstring>(t_gmx_IMD_setup *IMDsetup, matrix box)</argsstring>
        <name>imd_remove_molshifts</name>
        <param>
          <type><ref refid="imd_8cpp_1a93ec6165f7e636336ee6f4e48e202b08" kindref="member">t_gmx_IMD_setup</ref> *</type>
          <declname>IMDsetup</declname>
        </param>
        <param>
          <type>matrix</type>
          <declname>box</declname>
        </param>
        <briefdescription>
<para>Removes shifts of molecules diffused outside of the box. </para>        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/imd/imd.cpp" line="1168" column="1" bodyfile="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/imd/imd.cpp" bodystart="1168" bodyend="1257"/>
      </memberdef>
      <memberdef kind="function" id="imd_8cpp_1af347f1c183beb36ae82131e4d4efd6e0" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>static void init_imd_prepare_for_x_assembly</definition>
        <argsstring>(t_commrec *cr, rvec x[], t_gmx_IMD_setup *IMDsetup)</argsstring>
        <name>init_imd_prepare_for_x_assembly</name>
        <param>
          <type><ref refid="structt__commrec" kindref="compound">t_commrec</ref> *</type>
          <declname>cr</declname>
        </param>
        <param>
          <type>rvec</type>
          <declname>x</declname>
          <array>[]</array>
        </param>
        <param>
          <type><ref refid="imd_8cpp_1a93ec6165f7e636336ee6f4e48e202b08" kindref="member">t_gmx_IMD_setup</ref> *</type>
          <declname>IMDsetup</declname>
        </param>
        <briefdescription>
<para>Initialize arrays used to assemble the positions from the other nodes. </para>        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/imd/imd.cpp" line="1261" column="1" bodyfile="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/imd/imd.cpp" bodystart="1261" bodyend="1302"/>
      </memberdef>
      <memberdef kind="function" id="imd_8cpp_1a956e726e0a1c8ff447253c1217176cab" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>static void imd_check_integrator_parallel</definition>
        <argsstring>(t_inputrec *ir, t_commrec *cr)</argsstring>
        <name>imd_check_integrator_parallel</name>
        <param>
          <type><ref refid="structt__inputrec" kindref="compound">t_inputrec</ref> *</type>
          <declname>ir</declname>
        </param>
        <param>
          <type><ref refid="structt__commrec" kindref="compound">t_commrec</ref> *</type>
          <declname>cr</declname>
        </param>
        <briefdescription>
<para>Check for non-working integrator / parallel options. </para>        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/imd/imd.cpp" line="1307" column="1" bodyfile="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/imd/imd.cpp" bodystart="1307" bodyend="1317"/>
      </memberdef>
      <memberdef kind="function" id="imd_8cpp_1abba3655c2f71310d03bd20294a0ae191" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void init_IMD</definition>
        <argsstring>(t_inputrec *ir, t_commrec *cr, gmx_mtop_t *top_global, FILE *fplog, int defnstimd, rvec x[], int nfile, const t_filenm fnm[], const gmx_output_env_t *oenv, int imdport, unsigned long Flags)</argsstring>
        <name>init_IMD</name>
        <param>
          <type><ref refid="structt__inputrec" kindref="compound">t_inputrec</ref> *</type>
          <declname>ir</declname>
        </param>
        <param>
          <type><ref refid="structt__commrec" kindref="compound">t_commrec</ref> *</type>
          <declname>cr</declname>
        </param>
        <param>
          <type><ref refid="structgmx__mtop__t" kindref="compound">gmx_mtop_t</ref> *</type>
          <declname>top_global</declname>
        </param>
        <param>
          <type>FILE *</type>
          <declname>fplog</declname>
        </param>
        <param>
          <type>int</type>
          <declname>defnstimd</declname>
        </param>
        <param>
          <type>rvec</type>
          <declname>x</declname>
          <array>[]</array>
        </param>
        <param>
          <type>int</type>
          <declname>nfile</declname>
        </param>
        <param>
          <type>const <ref refid="structt__filenm" kindref="compound">t_filenm</ref></type>
          <declname>fnm</declname>
          <array>[]</array>
        </param>
        <param>
          <type>const <ref refid="structgmx__output__env__t" kindref="compound">gmx_output_env_t</ref> *</type>
          <declname>oenv</declname>
        </param>
        <param>
          <type>int</type>
          <declname>imdport</declname>
        </param>
        <param>
          <type>unsigned long</type>
          <declname>Flags</declname>
        </param>
        <briefdescription>
<para>Initializes (or disables) IMD. </para>        </briefdescription>
        <detaileddescription>
<para>This function is called before the main MD loop over time steps, and it must be called prior to any call to dd_partition_system if in parallel.</para><para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>ir</parametername>
</parameternamelist>
<parameterdescription>
<para>The inputrec structure containing the MD input parameters including a pointer to the IMD data structure. </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>cr</parametername>
</parameternamelist>
<parameterdescription>
<para>Information structure for MPI communication. </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>top_global</parametername>
</parameternamelist>
<parameterdescription>
<para>The topology of the whole system. </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>fplog</parametername>
</parameternamelist>
<parameterdescription>
<para>General output file, normally md.log. </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>defnstimd</parametername>
</parameternamelist>
<parameterdescription>
<para>Default IMD update (=communication) frequency. </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>x</parametername>
</parameternamelist>
<parameterdescription>
<para>The starting positions of the atoms. </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>nfile</parametername>
</parameternamelist>
<parameterdescription>
<para>Number of files. </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>fnm</parametername>
</parameternamelist>
<parameterdescription>
<para>Struct containing file names etc. </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>oenv</parametername>
</parameternamelist>
<parameterdescription>
<para>Output options. </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>imdport</parametername>
</parameternamelist>
<parameterdescription>
<para>Port to use for IMD connections. </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>Flags</parametername>
</parameternamelist>
<parameterdescription>
<para>Flags passed over from main, used to determine whether or not we are appending. </para></parameterdescription>
</parameteritem>
</parameterlist>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/imd/imd.cpp" line="1319" column="1" bodyfile="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/imd/imd.cpp" bodystart="1319" bodyend="1503"/>
      </memberdef>
      <memberdef kind="function" id="imd_8cpp_1ac6301187181ce630aac359f871c920ba" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="basedefinitions_8h_1a8fddad319f226e856400d190198d5151" kindref="member">gmx_bool</ref></type>
        <definition>gmx_bool do_IMD</definition>
        <argsstring>(gmx_bool bIMD, gmx_int64_t step, t_commrec *cr, gmx_bool bNS, matrix box, rvec x[], t_inputrec *ir, double t, gmx_wallcycle_t wcycle)</argsstring>
        <name>do_IMD</name>
        <param>
          <type><ref refid="basedefinitions_8h_1a8fddad319f226e856400d190198d5151" kindref="member">gmx_bool</ref></type>
          <declname>bIMD</declname>
        </param>
        <param>
          <type>gmx_int64_t</type>
          <declname>step</declname>
        </param>
        <param>
          <type><ref refid="structt__commrec" kindref="compound">t_commrec</ref> *</type>
          <declname>cr</declname>
        </param>
        <param>
          <type><ref refid="basedefinitions_8h_1a8fddad319f226e856400d190198d5151" kindref="member">gmx_bool</ref></type>
          <declname>bNS</declname>
        </param>
        <param>
          <type>matrix</type>
          <declname>box</declname>
        </param>
        <param>
          <type>rvec</type>
          <declname>x</declname>
          <array>[]</array>
        </param>
        <param>
          <type><ref refid="structt__inputrec" kindref="compound">t_inputrec</ref> *</type>
          <declname>ir</declname>
        </param>
        <param>
          <type>double</type>
          <declname>t</declname>
        </param>
        <param>
          <type><ref refid="structgmx__wallcycle" kindref="compound">gmx_wallcycle_t</ref></type>
          <declname>wcycle</declname>
        </param>
        <briefdescription>
<para>IMD required in this time step? Also checks for new IMD connection and syncs the nodes. </para>        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>bIMD</parametername>
</parameternamelist>
<parameterdescription>
<para>Only springs into action if bIMD is TRUE. Otherwise returns directly. </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>step</parametername>
</parameternamelist>
<parameterdescription>
<para>The time step. </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>cr</parametername>
</parameternamelist>
<parameterdescription>
<para>Information structure for MPI communication. </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>bNS</parametername>
</parameternamelist>
<parameterdescription>
<para>Is this a neighbor searching step? </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>box</parametername>
</parameternamelist>
<parameterdescription>
<para>The simulation box. </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>x</parametername>
</parameternamelist>
<parameterdescription>
<para>The local atomic positions on this node. </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>ir</parametername>
</parameternamelist>
<parameterdescription>
<para>The inputrec structure containing the MD input parameters including a pointer to the IMD data structure. </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>t</parametername>
</parameternamelist>
<parameterdescription>
<para>The time. </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>wcycle</parametername>
</parameternamelist>
<parameterdescription>
<para>Count wallcycles of IMD routines for diagnostic output.</para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>Whether or not we have to do IMD communication at this step. </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/imd/imd.cpp" line="1506" column="1" bodyfile="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/imd/imd.cpp" bodystart="1506" bodyend="1588"/>
      </memberdef>
      <memberdef kind="function" id="imd_8cpp_1ac82fa9858abb2431780d17c114773ed5" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void IMD_fill_energy_record</definition>
        <argsstring>(gmx_bool bIMD, t_IMD *imd, gmx_enerdata_t *enerd, gmx_int64_t step, gmx_bool bHaveNewEnergies)</argsstring>
        <name>IMD_fill_energy_record</name>
        <param>
          <type><ref refid="basedefinitions_8h_1a8fddad319f226e856400d190198d5151" kindref="member">gmx_bool</ref></type>
          <declname>bIMD</declname>
        </param>
        <param>
          <type><ref refid="structt__IMD" kindref="compound">t_IMD</ref> *</type>
          <declname>imd</declname>
        </param>
        <param>
          <type><ref refid="structgmx__enerdata__t" kindref="compound">gmx_enerdata_t</ref> *</type>
          <declname>enerd</declname>
        </param>
        <param>
          <type>gmx_int64_t</type>
          <declname>step</declname>
        </param>
        <param>
          <type><ref refid="basedefinitions_8h_1a8fddad319f226e856400d190198d5151" kindref="member">gmx_bool</ref></type>
          <declname>bHaveNewEnergies</declname>
        </param>
        <briefdescription>
<para>Copy energies and convert to float from enerdata to the IMD energy record. </para>        </briefdescription>
        <detaileddescription>
<para>We do no conversion, so units in client are SI!</para><para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>bIMD</parametername>
</parameternamelist>
<parameterdescription>
<para>Only springs into action if bIMD is TRUE. Otherwise returns directly. </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>imd</parametername>
</parameternamelist>
<parameterdescription>
<para>The IMD data structure. </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>enerd</parametername>
</parameternamelist>
<parameterdescription>
<para>Contains the GROMACS energies for the different interaction types. </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>step</parametername>
</parameternamelist>
<parameterdescription>
<para>The time step. </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>bHaveNewEnergies</parametername>
</parameternamelist>
<parameterdescription>
<para>Only copy energies if we have done global summing of them before. </para></parameterdescription>
</parameteritem>
</parameterlist>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/imd/imd.cpp" line="1591" column="1" bodyfile="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/imd/imd.cpp" bodystart="1591" bodyend="1629"/>
      </memberdef>
      <memberdef kind="function" id="imd_8cpp_1aa544913d1f33471af56c10f5322c16a6" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void IMD_send_positions</definition>
        <argsstring>(t_IMD *imd)</argsstring>
        <name>IMD_send_positions</name>
        <param>
          <type><ref refid="structt__IMD" kindref="compound">t_IMD</ref> *</type>
          <declname>imd</declname>
        </param>
        <briefdescription>
<para>Send positions and energies to the client. </para>        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>imd</parametername>
</parameternamelist>
<parameterdescription>
<para>The IMD data structure. </para></parameterdescription>
</parameteritem>
</parameterlist>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/imd/imd.cpp" line="1632" column="1" bodyfile="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/imd/imd.cpp" bodystart="1632" bodyend="1656"/>
      </memberdef>
      <memberdef kind="function" id="imd_8cpp_1ac96788db386f70de5ebf52734ba204de" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void IMD_prep_energies_send_positions</definition>
        <argsstring>(gmx_bool bIMD, gmx_bool bIMDstep, t_IMD *imd, gmx_enerdata_t *enerd, gmx_int64_t step, gmx_bool bHaveNewEnergies, gmx_wallcycle_t wcycle)</argsstring>
        <name>IMD_prep_energies_send_positions</name>
        <param>
          <type><ref refid="basedefinitions_8h_1a8fddad319f226e856400d190198d5151" kindref="member">gmx_bool</ref></type>
          <declname>bIMD</declname>
        </param>
        <param>
          <type><ref refid="basedefinitions_8h_1a8fddad319f226e856400d190198d5151" kindref="member">gmx_bool</ref></type>
          <declname>bIMDstep</declname>
        </param>
        <param>
          <type><ref refid="structt__IMD" kindref="compound">t_IMD</ref> *</type>
          <declname>imd</declname>
        </param>
        <param>
          <type><ref refid="structgmx__enerdata__t" kindref="compound">gmx_enerdata_t</ref> *</type>
          <declname>enerd</declname>
        </param>
        <param>
          <type>gmx_int64_t</type>
          <declname>step</declname>
        </param>
        <param>
          <type><ref refid="basedefinitions_8h_1a8fddad319f226e856400d190198d5151" kindref="member">gmx_bool</ref></type>
          <declname>bHaveNewEnergies</declname>
        </param>
        <param>
          <type><ref refid="structgmx__wallcycle" kindref="compound">gmx_wallcycle_t</ref></type>
          <declname>wcycle</declname>
        </param>
        <briefdescription>
<para>Calls IMD_prepare_energies() and then <ref refid="imd_8cpp_1aa544913d1f33471af56c10f5322c16a6" kindref="member">IMD_send_positions()</ref>. </para>        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>bIMD</parametername>
</parameternamelist>
<parameterdescription>
<para>Returns directly if bIMD is FALSE. </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>bIMDstep</parametername>
</parameternamelist>
<parameterdescription>
<para>If true, transfer the positions. Otherwise just update the time step and potentially the energy record. </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>imd</parametername>
</parameternamelist>
<parameterdescription>
<para>The IMD data structure. </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>enerd</parametername>
</parameternamelist>
<parameterdescription>
<para>Contains the GROMACS energies for the different interaction types. </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>step</parametername>
</parameternamelist>
<parameterdescription>
<para>The time step. </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>bHaveNewEnergies</parametername>
</parameternamelist>
<parameterdescription>
<para>Only update the energy record if we have done global summing of the energies. </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>wcycle</parametername>
</parameternamelist>
<parameterdescription>
<para>Count wallcycles of IMD routines for diagnostic output. </para></parameterdescription>
</parameteritem>
</parameterlist>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/imd/imd.cpp" line="1659" column="1" bodyfile="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/imd/imd.cpp" bodystart="1659" bodyend="1683"/>
      </memberdef>
      <memberdef kind="function" id="imd_8cpp_1a0b1a8995da8e5541994f60e8da36cf83" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>int IMD_get_step</definition>
        <argsstring>(t_gmx_IMD *IMDsetup)</argsstring>
        <name>IMD_get_step</name>
        <param>
          <type><ref refid="structt__gmx__IMD" kindref="compound">t_gmx_IMD</ref> *</type>
          <declname>IMDsetup</declname>
        </param>
        <briefdescription>
<para>Get the IMD update frequency. </para>        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>IMDsetup</parametername>
</parameternamelist>
<parameterdescription>
<para>Opaque pointer to IMD private data.</para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>The current IMD update/communication frequency </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/imd/imd.cpp" line="1685" column="1" bodyfile="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/imd/imd.cpp" bodystart="1685" bodyend="1688"/>
      </memberdef>
      <memberdef kind="function" id="imd_8cpp_1a1a7c541124008e7a3a5284251ce169a7" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void IMD_apply_forces</definition>
        <argsstring>(gmx_bool bIMD, t_IMD *imd, t_commrec *cr, rvec *f, gmx_wallcycle_t wcycle)</argsstring>
        <name>IMD_apply_forces</name>
        <param>
          <type><ref refid="basedefinitions_8h_1a8fddad319f226e856400d190198d5151" kindref="member">gmx_bool</ref></type>
          <declname>bIMD</declname>
        </param>
        <param>
          <type><ref refid="structt__IMD" kindref="compound">t_IMD</ref> *</type>
          <declname>imd</declname>
        </param>
        <param>
          <type><ref refid="structt__commrec" kindref="compound">t_commrec</ref> *</type>
          <declname>cr</declname>
        </param>
        <param>
          <type>rvec *</type>
          <declname>f</declname>
        </param>
        <param>
          <type><ref refid="structgmx__wallcycle" kindref="compound">gmx_wallcycle_t</ref></type>
          <declname>wcycle</declname>
        </param>
        <briefdescription>
<para>Add external forces from a running interactive molecular dynamics session. </para>        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>bIMD</parametername>
</parameternamelist>
<parameterdescription>
<para>Returns directly if bIMD is FALSE. </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>imd</parametername>
</parameternamelist>
<parameterdescription>
<para>The IMD data structure. </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>cr</parametername>
</parameternamelist>
<parameterdescription>
<para>Information structure for MPI communication. </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>f</parametername>
</parameternamelist>
<parameterdescription>
<para>The forces. </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>wcycle</parametername>
</parameternamelist>
<parameterdescription>
<para>Count wallcycles of IMD routines for diagnostic output. </para></parameterdescription>
</parameteritem>
</parameterlist>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/imd/imd.cpp" line="1690" column="1" bodyfile="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/imd/imd.cpp" bodystart="1690" bodyend="1730"/>
      </memberdef>
      </sectiondef>
    <briefdescription>
<para>Implements functions of <ref refid="imd_8h" kindref="compound">imd.h</ref>. </para>    </briefdescription>
    <detaileddescription>
<internal><para>Re-implementation of basic IMD functions from NAMD/VMD from scratch, see <ref refid="imdsocket_8h" kindref="compound">imdsocket.h</ref> for references to the IMD API.</para><para><simplesect kind="author"><para>Martin Hoefling, Carsten Kutzner <ulink url="mailto:ckutzne@gwdg.de">ckutzne@gwdg.de</ulink> </para></simplesect>
</para></internal>
    </detaileddescription>
    <location file="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/imd/imd.cpp"/>
  </compounddef>
</doxygen>
