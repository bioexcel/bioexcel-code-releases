<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.5">
  <compounddef id="tests_2simd_8h" kind="file">
    <compoundname>simd.h</compoundname>
    <includes local="no">vector</includes>
    <includes local="no">gtest/gtest.h</includes>
    <includes refid="simd_8h" local="yes">gromacs/simd/simd.h</includes>
    <includes refid="base_8h" local="yes">base.h</includes>
    <includedby refid="simd_8cpp" local="yes">src/gromacs/simd/tests/simd.cpp</includedby>
    <includedby refid="simd__floatingpoint_8cpp" local="yes">src/gromacs/simd/tests/simd_floatingpoint.cpp</includedby>
    <includedby refid="simd__floatingpoint__util_8cpp" local="yes">src/gromacs/simd/tests/simd_floatingpoint_util.cpp</includedby>
    <includedby refid="simd__integer_8cpp" local="yes">src/gromacs/simd/tests/simd_integer.cpp</includedby>
    <includedby refid="simd__math_8cpp" local="yes">src/gromacs/simd/tests/simd_math.cpp</includedby>
    <includedby refid="simd__vector__operations_8cpp" local="yes">src/gromacs/simd/tests/simd_vector_operations.cpp</includedby>
    <incdepgraph>
      <node id="18070">
        <label>stdarg.h</label>
      </node>
      <node id="18067">
        <label>impl_reference_simd4_float.h</label>
        <link refid="impl__reference__simd4__float_8h"/>
        <childnode refid="18050" relation="include">
        </childnode>
        <childnode refid="18063" relation="include">
        </childnode>
        <childnode refid="18064" relation="include">
        </childnode>
        <childnode refid="18051" relation="include">
        </childnode>
        <childnode refid="18052" relation="include">
        </childnode>
        <childnode refid="18065" relation="include">
        </childnode>
        <childnode refid="18066" relation="include">
        </childnode>
        <childnode refid="18057" relation="include">
        </childnode>
      </node>
      <node id="18049">
        <label>gromacs/simd/simd.h</label>
        <link refid="simd_8h"/>
        <childnode refid="18050" relation="include">
        </childnode>
        <childnode refid="18051" relation="include">
        </childnode>
        <childnode refid="18052" relation="include">
        </childnode>
        <childnode refid="18053" relation="include">
        </childnode>
        <childnode refid="18055" relation="include">
        </childnode>
        <childnode refid="18056" relation="include">
        </childnode>
        <childnode refid="18075" relation="include">
        </childnode>
        <childnode refid="18077" relation="include">
        </childnode>
        <childnode refid="18079" relation="include">
        </childnode>
      </node>
      <node id="18078">
        <label>gromacs/math/functions.h</label>
        <link refid="functions_8h"/>
        <childnode refid="18064" relation="include">
        </childnode>
        <childnode refid="18052" relation="include">
        </childnode>
        <childnode refid="18055" relation="include">
        </childnode>
      </node>
      <node id="18052">
        <label>cstdint</label>
      </node>
      <node id="18069">
        <label>gromacs/utility/fatalerror.h</label>
        <link refid="fatalerror_8h"/>
        <childnode refid="18070" relation="include">
        </childnode>
        <childnode refid="18071" relation="include">
        </childnode>
        <childnode refid="18059" relation="include">
        </childnode>
      </node>
      <node id="18058">
        <label>impl_reference_general.h</label>
        <link refid="impl__reference__general_8h"/>
        <childnode refid="18059" relation="include">
        </childnode>
      </node>
      <node id="18060">
        <label>stdint.h</label>
      </node>
      <node id="18080">
        <label>base.h</label>
        <link refid="base_8h"/>
        <childnode refid="18050" relation="include">
        </childnode>
        <childnode refid="18052" relation="include">
        </childnode>
        <childnode refid="18047" relation="include">
        </childnode>
        <childnode refid="18048" relation="include">
        </childnode>
        <childnode refid="18059" relation="include">
        </childnode>
        <childnode refid="18055" relation="include">
        </childnode>
      </node>
      <node id="18064">
        <label>cmath</label>
      </node>
      <node id="18063">
        <label>cassert</label>
      </node>
      <node id="18046">
        <label>src/gromacs/simd/tests/simd.h</label>
        <link refid="tests/simd.h"/>
        <childnode refid="18047" relation="include">
        </childnode>
        <childnode refid="18048" relation="include">
        </childnode>
        <childnode refid="18049" relation="include">
        </childnode>
        <childnode refid="18080" relation="include">
        </childnode>
      </node>
      <node id="18057">
        <label>impl_reference_definitions.h</label>
        <link refid="impl__reference__definitions_8h"/>
      </node>
      <node id="18073">
        <label>impl_reference_util_double.h</label>
        <link refid="impl__reference__util__double_8h"/>
        <childnode refid="18050" relation="include">
        </childnode>
        <childnode refid="18063" relation="include">
        </childnode>
        <childnode refid="18051" relation="include">
        </childnode>
        <childnode refid="18052" relation="include">
        </childnode>
        <childnode refid="18065" relation="include">
        </childnode>
        <childnode refid="18057" relation="include">
        </childnode>
        <childnode refid="18068" relation="include">
        </childnode>
      </node>
      <node id="18068">
        <label>impl_reference_simd_double.h</label>
        <link refid="impl__reference__simd__double_8h"/>
        <childnode refid="18050" relation="include">
        </childnode>
        <childnode refid="18063" relation="include">
        </childnode>
        <childnode refid="18064" relation="include">
        </childnode>
        <childnode refid="18051" relation="include">
        </childnode>
        <childnode refid="18052" relation="include">
        </childnode>
        <childnode refid="18065" relation="include">
        </childnode>
        <childnode refid="18066" relation="include">
        </childnode>
        <childnode refid="18069" relation="include">
        </childnode>
        <childnode refid="18057" relation="include">
        </childnode>
        <childnode refid="18072" relation="include">
        </childnode>
      </node>
      <node id="18055">
        <label>gromacs/utility/real.h</label>
        <link refid="real_8h"/>
      </node>
      <node id="18047">
        <label>vector</label>
      </node>
      <node id="18074">
        <label>impl_reference_util_float.h</label>
        <link refid="impl__reference__util__float_8h"/>
        <childnode refid="18050" relation="include">
        </childnode>
        <childnode refid="18063" relation="include">
        </childnode>
        <childnode refid="18051" relation="include">
        </childnode>
        <childnode refid="18052" relation="include">
        </childnode>
        <childnode refid="18065" relation="include">
        </childnode>
        <childnode refid="18057" relation="include">
        </childnode>
        <childnode refid="18072" relation="include">
        </childnode>
      </node>
      <node id="18048">
        <label>gtest/gtest.h</label>
      </node>
      <node id="18066">
        <label>array</label>
      </node>
      <node id="18075">
        <label>gromacs/simd/scalar/scalar.h</label>
        <link refid="scalar_8h"/>
        <childnode refid="18064" relation="include">
        </childnode>
        <childnode refid="18052" relation="include">
        </childnode>
        <childnode refid="18076" relation="include">
        </childnode>
        <childnode refid="18065" relation="include">
        </childnode>
      </node>
      <node id="18053">
        <label>gromacs/utility/classhelpers.h</label>
        <link refid="classhelpers_8h"/>
        <childnode refid="18054" relation="include">
        </childnode>
      </node>
      <node id="18072">
        <label>impl_reference_simd_float.h</label>
        <link refid="impl__reference__simd__float_8h"/>
        <childnode refid="18050" relation="include">
        </childnode>
        <childnode refid="18063" relation="include">
        </childnode>
        <childnode refid="18064" relation="include">
        </childnode>
        <childnode refid="18051" relation="include">
        </childnode>
        <childnode refid="18052" relation="include">
        </childnode>
        <childnode refid="18065" relation="include">
        </childnode>
        <childnode refid="18066" relation="include">
        </childnode>
        <childnode refid="18057" relation="include">
        </childnode>
      </node>
      <node id="18056">
        <label>impl_reference/impl_reference.h</label>
        <link refid="impl__reference_8h"/>
        <childnode refid="18057" relation="include">
        </childnode>
        <childnode refid="18058" relation="include">
        </childnode>
        <childnode refid="18062" relation="include">
        </childnode>
        <childnode refid="18067" relation="include">
        </childnode>
        <childnode refid="18068" relation="include">
        </childnode>
        <childnode refid="18072" relation="include">
        </childnode>
        <childnode refid="18073" relation="include">
        </childnode>
        <childnode refid="18074" relation="include">
        </childnode>
      </node>
      <node id="18076">
        <label>cstdlib</label>
      </node>
      <node id="18051">
        <label>cstddef</label>
      </node>
      <node id="18062">
        <label>impl_reference_simd4_double.h</label>
        <link refid="impl__reference__simd4__double_8h"/>
        <childnode refid="18050" relation="include">
        </childnode>
        <childnode refid="18063" relation="include">
        </childnode>
        <childnode refid="18064" relation="include">
        </childnode>
        <childnode refid="18051" relation="include">
        </childnode>
        <childnode refid="18052" relation="include">
        </childnode>
        <childnode refid="18065" relation="include">
        </childnode>
        <childnode refid="18066" relation="include">
        </childnode>
        <childnode refid="18057" relation="include">
        </childnode>
      </node>
      <node id="18059">
        <label>gromacs/utility/basedefinitions.h</label>
        <link refid="basedefinitions_8h"/>
        <childnode refid="18060" relation="include">
        </childnode>
        <childnode refid="18061" relation="include">
        </childnode>
      </node>
      <node id="18077">
        <label>gromacs/simd/scalar/scalar_math.h</label>
        <link refid="scalar__math_8h"/>
        <childnode refid="18064" relation="include">
        </childnode>
        <childnode refid="18078" relation="include">
        </childnode>
        <childnode refid="18075" relation="include">
        </childnode>
      </node>
      <node id="18079">
        <label>gromacs/simd/scalar/scalar_util.h</label>
        <link refid="scalar__util_8h"/>
        <childnode refid="18064" relation="include">
        </childnode>
      </node>
      <node id="18050">
        <label>config.h</label>
      </node>
      <node id="18065">
        <label>algorithm</label>
      </node>
      <node id="18071">
        <label>stdio.h</label>
      </node>
      <node id="18054">
        <label>memory</label>
      </node>
      <node id="18061">
        <label>inttypes.h</label>
      </node>
    </incdepgraph>
    <innerclass refid="classgmx_1_1test_1_1SimdTest" prot="public">gmx::test::SimdTest</innerclass>
    <innernamespace refid="namespacegmx">gmx</innernamespace>
    <innernamespace refid="namespacegmx_1_1test">gmx::test</innernamespace>
      <sectiondef kind="define">
      <memberdef kind="define" id="group__module__simd_1ga20a19ada7d3af0169977cf041100dbe5" prot="public" static="no">
        <name>GMX_EXPECT_SIMD_REAL_EQ</name>
        <param><defname>ref</defname></param>
        <param><defname>tst</defname></param>
        <initializer>EXPECT_PRED_FORMAT2(compareSimdRealEq, ref, tst)</initializer>
        <briefdescription>
<para>Test if a SIMD real is bitwise identical to reference SIMD value. </para>        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/simd/tests/simd.h" line="248" column="9" bodyfile="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/simd/tests/simd.h" bodystart="248" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="group__module__simd_1ga259280aa3c4e2bd328ffe48a122716db" prot="public" static="no">
        <name>GMX_EXPECT_SIMD_REAL_NEAR</name>
        <param><defname>ref</defname></param>
        <param><defname>tst</defname></param>
        <initializer>EXPECT_PRED_FORMAT2(compareSimdRealUlp, ref, tst)</initializer>
        <briefdescription>
<para>Test if a SIMD real is within tolerance of reference SIMD value. </para>        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/simd/tests/simd.h" line="251" column="9" bodyfile="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/simd/tests/simd.h" bodystart="251" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="group__module__simd_1ga212e5a5aa78448872129f5e3b6e5e3d8" prot="public" static="no">
        <name>GMX_EXPECT_SIMD_INT_EQ</name>
        <param><defname>ref</defname></param>
        <param><defname>tst</defname></param>
        <initializer>EXPECT_PRED_FORMAT2(compareSimdInt32, ref, tst)</initializer>
        <briefdescription>
<para>Macro that checks SIMD integer expression against SIMD or reference int. </para>        </briefdescription>
        <detaileddescription>
<para>If the reference argument is a scalar integer it will be expanded into the width of the SIMD register and tested against all elements. </para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/simd/tests/simd.h" line="287" column="9" bodyfile="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/simd/tests/simd.h" bodystart="287" bodyend="-1"/>
      </memberdef>
      </sectiondef>
    <briefdescription>
<para>Declares fixture for testing of normal SIMD (not SIMD4) functionality. </para>    </briefdescription>
    <detaileddescription>
<internal><para>The SIMD tests are both simple and complicated. The actual testing logic is <emphasis>very</emphasis> straightforward since we just need to test single values against the math library, and for some math functions we need to do it in a loop. This could have been achieved in minutes with the default Google Test tools, if it wasn&apos;t for the problem that we cannot access or compare SIMD contents directly without using lots of other SIMD functionality. For this reason we have separate the basic testing of load/store operations into a separate bootstrapping test. Once this works, we use a set of utility routines to convert SIMD contents to/from std:vector&lt;&gt; and perform the rest of the tests, which then can farmed out to the base class SimdBaseTest that is common to SIMD and SIMD4.</para><para>Another complication is that the width of the SIMD implementation will depend on the hardware and precision. For some simple operations it is sufficient to set all SIMD elements to the same value, and check that the result is present in all elements. However, for a few more complex instructions that might rely on shuffling under-the-hood it is important that we can test operations with different elements. We achieve this by having test code that can initialize a SIMD variable from an std::vector of arbitrary length; the vector is simply repeated to fill all elements in the SIMD variable. We also have similar routines to compare a SIMD result with values in a vector, which returns true iff all elements match.</para><para>This way we can write simple tests that use different values for all SIMD elements. Personally I like using vectors of length 3, since this means there are no simple repeated patterns in low/high halves of SIMD variables that are 2,4,8,or 16 elements wide, and we still don&apos;t have to care about the exact SIMD width of the underlying implementation.</para><para>Note that this utility uses a few SIMD load/store instructions internally - those have been tested separately in the <ref refid="bootstrap__loadstore_8cpp" kindref="compound">bootstrap_loadstore.cpp</ref> file.</para><para><simplesect kind="author"><para>Erik Lindahl <ulink url="mailto:erik.lindahl@scilifelab.se">erik.lindahl@scilifelab.se</ulink> </para></simplesect>
</para></internal>
    </detaileddescription>
    <location file="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/simd/tests/simd.h"/>
  </compounddef>
</doxygen>
