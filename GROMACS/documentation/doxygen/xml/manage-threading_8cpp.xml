<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.5">
  <compounddef id="manage-threading_8cpp" kind="file">
    <compoundname>manage-threading.cpp</compoundname>
    <includes refid="gmxpre_8h" local="yes">gmxpre.h</includes>
    <includes refid="manage-threading_8h" local="yes">manage-threading.h</includes>
    <includes local="yes">config.h</includes>
    <includes local="no">assert.h</includes>
    <includes local="no">limits.h</includes>
    <includes local="no">stdlib.h</includes>
    <includes local="no">algorithm</includes>
    <includes refid="listed-forces_8h" local="yes">gromacs/listed-forces/listed-forces.h</includes>
    <includes refid="gmx__omp__nthreads_8h" local="yes">gromacs/mdlib/gmx_omp_nthreads.h</includes>
    <includes refid="ishift_8h" local="yes">gromacs/pbcutil/ishift.h</includes>
    <includes refid="ifunc_8h" local="yes">gromacs/topology/ifunc.h</includes>
    <includes refid="exceptions_8h" local="yes">gromacs/utility/exceptions.h</includes>
    <includes refid="fatalerror_8h" local="yes">gromacs/utility/fatalerror.h</includes>
    <includes refid="smalloc_8h" local="yes">gromacs/utility/smalloc.h</includes>
    <includes refid="stringutil_8h" local="yes">gromacs/utility/stringutil.h</includes>
    <includes refid="listed-internal_8h" local="yes">listed-internal.h</includes>
    <incdepgraph>
      <node id="9684">
        <label>gromacs/utility/stringutil.h</label>
        <link refid="stringutil_8h"/>
        <childnode refid="9685" relation="include">
        </childnode>
        <childnode refid="9672" relation="include">
        </childnode>
        <childnode refid="9675" relation="include">
        </childnode>
      </node>
      <node id="9680">
        <label>stdarg.h</label>
      </node>
      <node id="9677">
        <label>gromacs/utility/current_function.h</label>
        <link refid="current__function_8h"/>
      </node>
      <node id="9660">
        <label>assert.h</label>
      </node>
      <node id="9687">
        <label>gromacs/utility/bitmask.h</label>
        <link refid="bitmask_8h"/>
        <childnode refid="9659" relation="include">
        </childnode>
        <childnode refid="9688" relation="include">
        </childnode>
        <childnode refid="9665" relation="include">
        </childnode>
      </node>
      <node id="9682">
        <label>gromacs/utility/smalloc.h</label>
        <link refid="smalloc_8h"/>
        <childnode refid="9683" relation="include">
        </childnode>
        <childnode refid="9665" relation="include">
        </childnode>
      </node>
      <node id="9679">
        <label>gromacs/utility/fatalerror.h</label>
        <link refid="fatalerror_8h"/>
        <childnode refid="9680" relation="include">
        </childnode>
        <childnode refid="9681" relation="include">
        </childnode>
        <childnode refid="9665" relation="include">
        </childnode>
      </node>
      <node id="9666">
        <label>stdint.h</label>
      </node>
      <node id="9662">
        <label>stdlib.h</label>
      </node>
      <node id="9656">
        <label>gmxpre.h</label>
        <link refid="gmxpre_8h"/>
      </node>
      <node id="9672">
        <label>string</label>
      </node>
      <node id="9670">
        <label>exception</label>
      </node>
      <node id="9683">
        <label>stddef.h</label>
      </node>
      <node id="9668">
        <label>gromacs/utility/exceptions.h</label>
        <link refid="exceptions_8h"/>
        <childnode refid="9658" relation="include">
        </childnode>
        <childnode refid="9669" relation="include">
        </childnode>
        <childnode refid="9670" relation="include">
        </childnode>
        <childnode refid="9671" relation="include">
        </childnode>
        <childnode refid="9672" relation="include">
        </childnode>
        <childnode refid="9673" relation="include">
        </childnode>
        <childnode refid="9674" relation="include">
        </childnode>
        <childnode refid="9675" relation="include">
        </childnode>
        <childnode refid="9665" relation="include">
        </childnode>
        <childnode refid="9676" relation="include">
        </childnode>
        <childnode refid="9677" relation="include">
        </childnode>
        <childnode refid="9678" relation="include">
        </childnode>
      </node>
      <node id="9661">
        <label>limits.h</label>
      </node>
      <node id="9655">
        <label>src/gromacs/listed-forces/manage-threading.cpp</label>
        <link refid="manage-threading.cpp"/>
        <childnode refid="9656" relation="include">
        </childnode>
        <childnode refid="9657" relation="include">
        </childnode>
        <childnode refid="9659" relation="include">
        </childnode>
        <childnode refid="9660" relation="include">
        </childnode>
        <childnode refid="9661" relation="include">
        </childnode>
        <childnode refid="9662" relation="include">
        </childnode>
        <childnode refid="9663" relation="include">
        </childnode>
        <childnode refid="9664" relation="include">
        </childnode>
        <childnode refid="9668" relation="include">
        </childnode>
        <childnode refid="9679" relation="include">
        </childnode>
        <childnode refid="9682" relation="include">
        </childnode>
        <childnode refid="9684" relation="include">
        </childnode>
        <childnode refid="9686" relation="include">
        </childnode>
      </node>
      <node id="9688">
        <label>string.h</label>
      </node>
      <node id="9658">
        <label>cstdio</label>
      </node>
      <node id="9678">
        <label>gromacs/utility/gmxassert.h</label>
        <link refid="gmxassert_8h"/>
        <childnode refid="9665" relation="include">
        </childnode>
        <childnode refid="9677" relation="include">
        </childnode>
      </node>
      <node id="9675">
        <label>vector</label>
      </node>
      <node id="9686">
        <label>listed-internal.h</label>
        <link refid="listed-internal_8h"/>
        <childnode refid="9687" relation="include">
        </childnode>
      </node>
      <node id="9657">
        <label>manage-threading.h</label>
        <link refid="manage-threading_8h"/>
        <childnode refid="9658" relation="include">
        </childnode>
      </node>
      <node id="9676">
        <label>gromacs/utility/classhelpers.h</label>
        <link refid="classhelpers_8h"/>
        <childnode refid="9671" relation="include">
        </childnode>
      </node>
      <node id="9669">
        <label>cstdlib</label>
      </node>
      <node id="9665">
        <label>gromacs/utility/basedefinitions.h</label>
        <link refid="basedefinitions_8h"/>
        <childnode refid="9666" relation="include">
        </childnode>
        <childnode refid="9667" relation="include">
        </childnode>
      </node>
      <node id="9664">
        <label>gromacs/listed-forces/listed-forces.h</label>
        <link refid="listed-forces_8h"/>
        <childnode refid="9665" relation="include">
        </childnode>
      </node>
      <node id="9673">
        <label>type_traits</label>
      </node>
      <node id="9659">
        <label>config.h</label>
      </node>
      <node id="9663">
        <label>algorithm</label>
      </node>
      <node id="9681">
        <label>stdio.h</label>
      </node>
      <node id="9685">
        <label>cstring</label>
      </node>
      <node id="9671">
        <label>memory</label>
      </node>
      <node id="9667">
        <label>inttypes.h</label>
      </node>
      <node id="9674">
        <label>typeindex</label>
      </node>
    </incdepgraph>
    <innerclass refid="structilist__data__t" prot="public">ilist_data_t</innerclass>
      <sectiondef kind="func">
      <memberdef kind="function" id="manage-threading_8cpp_1a87848c0bbd3c49ee1f0ba177864217d2" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>static void divide_bondeds_by_locality</definition>
        <argsstring>(int ntype, const ilist_data_t *ild, int nthread, t_idef *idef)</argsstring>
        <name>divide_bondeds_by_locality</name>
        <param>
          <type>int</type>
          <declname>ntype</declname>
        </param>
        <param>
          <type>const <ref refid="structilist__data__t" kindref="compound">ilist_data_t</ref> *</type>
          <declname>ild</declname>
        </param>
        <param>
          <type>int</type>
          <declname>nthread</declname>
        </param>
        <param>
          <type><ref refid="structt__idef" kindref="compound">t_idef</ref> *</type>
          <declname>idef</declname>
        </param>
        <briefdescription>
<para>Divides listed interactions over threads. </para>        </briefdescription>
        <detaileddescription>
<para>This routine attempts to divide all interactions of the ntype bondeds types stored in ild over the threads such that each thread has roughly equal load and different threads avoid touching the same atoms as much as possible. </para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/listed-forces/manage-threading.cpp" line="81" column="1" bodyfile="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/listed-forces/manage-threading.cpp" bodystart="81" bodyend="188"/>
      </memberdef>
      <memberdef kind="function" id="manage-threading_8cpp_1aa3970e5a8bcf50c179108ad1634ed617" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>static void divide_bondeds_over_threads</definition>
        <argsstring>(t_idef *idef, int nthread, int max_nthread_uniform, bool *haveBondeds)</argsstring>
        <name>divide_bondeds_over_threads</name>
        <param>
          <type><ref refid="structt__idef" kindref="compound">t_idef</ref> *</type>
          <declname>idef</declname>
        </param>
        <param>
          <type>int</type>
          <declname>nthread</declname>
        </param>
        <param>
          <type>int</type>
          <declname>max_nthread_uniform</declname>
        </param>
        <param>
          <type>bool *</type>
          <declname>haveBondeds</declname>
        </param>
        <briefdescription>
<para>Divides bonded interactions over threads. </para>        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/listed-forces/manage-threading.cpp" line="191" column="1" bodyfile="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/listed-forces/manage-threading.cpp" bodystart="191" bodyend="311"/>
      </memberdef>
      <memberdef kind="function" id="manage-threading_8cpp_1af780a92107e15dc0470df056f6a96ad3" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>static void calc_bonded_reduction_mask</definition>
        <argsstring>(int natoms, f_thread_t *f_thread, const t_idef *idef, int thread, int nthread)</argsstring>
        <name>calc_bonded_reduction_mask</name>
        <param>
          <type>int</type>
          <declname>natoms</declname>
        </param>
        <param>
          <type><ref refid="structf__thread__t" kindref="compound">f_thread_t</ref> *</type>
          <declname>f_thread</declname>
        </param>
        <param>
          <type>const <ref refid="structt__idef" kindref="compound">t_idef</ref> *</type>
          <declname>idef</declname>
        </param>
        <param>
          <type>int</type>
          <declname>thread</declname>
        </param>
        <param>
          <type>int</type>
          <declname>nthread</declname>
        </param>
        <briefdescription>
<para>Construct a reduction mask for which parts (blocks) of the force array are touched on which thread task. </para>        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/listed-forces/manage-threading.cpp" line="315" column="1" bodyfile="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/listed-forces/manage-threading.cpp" bodystart="315" bodyend="383"/>
      </memberdef>
      <memberdef kind="function" id="manage-threading_8cpp_1ad2532ac02489b5d1d864a6221616c8f4" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void setup_bonded_threading</definition>
        <argsstring>(t_forcerec *fr, t_idef *idef)</argsstring>
        <name>setup_bonded_threading</name>
        <param>
          <type><ref refid="structt__forcerec" kindref="compound">t_forcerec</ref> *</type>
          <declname>fr</declname>
        </param>
        <param>
          <type><ref refid="structt__idef" kindref="compound">t_idef</ref> *</type>
          <declname>idef</declname>
        </param>
        <briefdescription>
<para>Divide the listed interactions over the threads. </para>        </briefdescription>
        <detaileddescription>
<para>Uses fr-&gt;nthreads for the number of threads, and sets up the thread-force buffer reduction. This should be called each time the bonded setup changes; i.e. at start-up without domain decomposition and at DD. </para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/listed-forces/manage-threading.cpp" line="385" column="1" bodyfile="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/listed-forces/manage-threading.cpp" bodystart="385" bodyend="478"/>
      </memberdef>
      <memberdef kind="function" id="manage-threading_8cpp_1a2c23ed9c98f71c236f633dcf4a4aba5b" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void init_bonded_threading</definition>
        <argsstring>(FILE *fplog, int nenergrp, struct bonded_threading_t **bt_ptr)</argsstring>
        <name>init_bonded_threading</name>
        <param>
          <type>FILE *</type>
          <declname>fplog</declname>
        </param>
        <param>
          <type>int</type>
          <declname>nenergrp</declname>
        </param>
        <param>
          <type>struct <ref refid="structbonded__threading__t" kindref="compound">bonded_threading_t</ref> **</type>
          <declname>bt_ptr</declname>
        </param>
        <briefdescription>
<para>Initialize the bonded threading data structures. </para>        </briefdescription>
        <detaileddescription>
<para>Allocates and initializes a bonded threading data structure. A pointer to this struct is returned as <computeroutput>*bb_ptr</computeroutput>. </para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/listed-forces/manage-threading.cpp" line="480" column="1" bodyfile="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/listed-forces/manage-threading.cpp" bodystart="480" bodyend="546"/>
      </memberdef>
      </sectiondef>
    <briefdescription>
<para>This file defines functions for managing threading of listed interactions. </para>    </briefdescription>
    <detaileddescription>
<internal><para><simplesect kind="author"><para>Mark Abraham <ulink url="mailto:mark.j.abraham@gmail.com">mark.j.abraham@gmail.com</ulink> </para></simplesect>
</para></internal>
    </detaileddescription>
    <location file="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/listed-forces/manage-threading.cpp"/>
  </compounddef>
</doxygen>
