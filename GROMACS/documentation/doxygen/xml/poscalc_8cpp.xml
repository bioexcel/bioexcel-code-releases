<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.5">
  <compounddef id="poscalc_8cpp" kind="file">
    <compoundname>poscalc.cpp</compoundname>
    <includes refid="gmxpre_8h" local="yes">gmxpre.h</includes>
    <includes refid="poscalc_8h" local="yes">poscalc.h</includes>
    <includes local="no">string.h</includes>
    <includes local="no">algorithm</includes>
    <includes local="no">vector</includes>
    <includes refid="vec_8h" local="yes">gromacs/math/vec.h</includes>
    <includes refid="indexutil_8h" local="yes">gromacs/selection/indexutil.h</includes>
    <includes refid="position_8h" local="yes">gromacs/selection/position.h</includes>
    <includes refid="trajectoryframe_8h" local="yes">gromacs/trajectory/trajectoryframe.h</includes>
    <includes refid="arrayref_8h" local="yes">gromacs/utility/arrayref.h</includes>
    <includes refid="exceptions_8h" local="yes">gromacs/utility/exceptions.h</includes>
    <includes refid="gmxassert_8h" local="yes">gromacs/utility/gmxassert.h</includes>
    <includes refid="smalloc_8h" local="yes">gromacs/utility/smalloc.h</includes>
    <includes refid="centerofmass_8h" local="yes">centerofmass.h</includes>
    <incdepgraph>
      <node id="16252">
        <label>gromacs/utility/current_function.h</label>
        <link refid="current__function_8h"/>
      </node>
      <node id="16243">
        <label>gromacs/utility/arrayref.h</label>
        <link refid="arrayref_8h"/>
        <childnode refid="16244" relation="include">
        </childnode>
        <childnode refid="16245" relation="include">
        </childnode>
        <childnode refid="16246" relation="include">
        </childnode>
        <childnode refid="16247" relation="include">
        </childnode>
        <childnode refid="16239" relation="include">
        </childnode>
        <childnode refid="16248" relation="include">
        </childnode>
      </node>
      <node id="16245">
        <label>iterator</label>
      </node>
      <node id="16242">
        <label>gromacs/selection/position.h</label>
        <link refid="position_8h"/>
        <childnode refid="16240" relation="include">
        </childnode>
      </node>
      <node id="16258">
        <label>gromacs/utility/smalloc.h</label>
        <link refid="smalloc_8h"/>
        <childnode refid="16259" relation="include">
        </childnode>
        <childnode refid="16249" relation="include">
        </childnode>
      </node>
      <node id="16250">
        <label>stdint.h</label>
      </node>
      <node id="16233">
        <label>poscalc.h</label>
        <link refid="poscalc_8h"/>
        <childnode refid="16234" relation="include">
        </childnode>
        <childnode refid="16235" relation="include">
        </childnode>
      </node>
      <node id="16232">
        <label>gmxpre.h</label>
        <link refid="gmxpre_8h"/>
      </node>
      <node id="16246">
        <label>stdexcept</label>
      </node>
      <node id="16241">
        <label>string</label>
      </node>
      <node id="16240">
        <label>gromacs/selection/indexutil.h</label>
        <link refid="indexutil_8h"/>
        <childnode refid="16234" relation="include">
        </childnode>
        <childnode refid="16241" relation="include">
        </childnode>
      </node>
      <node id="16255">
        <label>exception</label>
      </node>
      <node id="16259">
        <label>stddef.h</label>
      </node>
      <node id="16253">
        <label>gromacs/utility/exceptions.h</label>
        <link refid="exceptions_8h"/>
        <childnode refid="16234" relation="include">
        </childnode>
        <childnode refid="16254" relation="include">
        </childnode>
        <childnode refid="16255" relation="include">
        </childnode>
        <childnode refid="16236" relation="include">
        </childnode>
        <childnode refid="16241" relation="include">
        </childnode>
        <childnode refid="16256" relation="include">
        </childnode>
        <childnode refid="16257" relation="include">
        </childnode>
        <childnode refid="16239" relation="include">
        </childnode>
        <childnode refid="16249" relation="include">
        </childnode>
        <childnode refid="16235" relation="include">
        </childnode>
        <childnode refid="16252" relation="include">
        </childnode>
        <childnode refid="16248" relation="include">
        </childnode>
      </node>
      <node id="16237">
        <label>string.h</label>
      </node>
      <node id="16234">
        <label>cstdio</label>
      </node>
      <node id="16248">
        <label>gromacs/utility/gmxassert.h</label>
        <link refid="gmxassert_8h"/>
        <childnode refid="16249" relation="include">
        </childnode>
        <childnode refid="16252" relation="include">
        </childnode>
      </node>
      <node id="16239">
        <label>vector</label>
      </node>
      <node id="16247">
        <label>utility</label>
      </node>
      <node id="16260">
        <label>centerofmass.h</label>
        <link refid="centerofmass_8h"/>
      </node>
      <node id="16235">
        <label>gromacs/utility/classhelpers.h</label>
        <link refid="classhelpers_8h"/>
        <childnode refid="16236" relation="include">
        </childnode>
      </node>
      <node id="16254">
        <label>cstdlib</label>
      </node>
      <node id="16244">
        <label>cstddef</label>
      </node>
      <node id="16231">
        <label>src/gromacs/selection/poscalc.cpp</label>
        <link refid="poscalc.cpp"/>
        <childnode refid="16232" relation="include">
        </childnode>
        <childnode refid="16233" relation="include">
        </childnode>
        <childnode refid="16237" relation="include">
        </childnode>
        <childnode refid="16238" relation="include">
        </childnode>
        <childnode refid="16239" relation="include">
        </childnode>
        <childnode refid="16240" relation="include">
        </childnode>
        <childnode refid="16242" relation="include">
        </childnode>
        <childnode refid="16243" relation="include">
        </childnode>
        <childnode refid="16253" relation="include">
        </childnode>
        <childnode refid="16248" relation="include">
        </childnode>
        <childnode refid="16258" relation="include">
        </childnode>
        <childnode refid="16260" relation="include">
        </childnode>
      </node>
      <node id="16249">
        <label>gromacs/utility/basedefinitions.h</label>
        <link refid="basedefinitions_8h"/>
        <childnode refid="16250" relation="include">
        </childnode>
        <childnode refid="16251" relation="include">
        </childnode>
      </node>
      <node id="16256">
        <label>type_traits</label>
      </node>
      <node id="16238">
        <label>algorithm</label>
      </node>
      <node id="16236">
        <label>memory</label>
      </node>
      <node id="16251">
        <label>inttypes.h</label>
      </node>
      <node id="16257">
        <label>typeindex</label>
      </node>
    </incdepgraph>
    <innerclass refid="classgmx_1_1PositionCalculationCollection_1_1Impl" prot="public">gmx::PositionCalculationCollection::Impl</innerclass>
    <innerclass refid="structgmx__ana__poscalc__t" prot="public">gmx_ana_poscalc_t</innerclass>
    <innernamespace refid="namespacegmx">gmx</innernamespace>
      <sectiondef kind="func">
      <memberdef kind="function" id="poscalc_8cpp_1a1a26d01f91edcd50ef43e3a7d2e1e1ef" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="indexutil_8h_1ad7330829cb93245b9de7ed268cf6ba67" kindref="member">e_index_t</ref></type>
        <definition>static e_index_t index_type_for_poscalc</definition>
        <argsstring>(e_poscalc_t type)</argsstring>
        <name>index_type_for_poscalc</name>
        <param>
          <type><ref refid="poscalc_8h_1abda45ad4bf42febbe957a08c4ee291c2" kindref="member">e_poscalc_t</ref></type>
          <declname>type</declname>
        </param>
        <briefdescription>
<para>Returns the partition type for a given position type. </para>        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">type</parametername>
</parameternamelist>
<parameterdescription>
<para><computeroutput>e_poscalc_t</computeroutput> value to convert. </para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>Corresponding <computeroutput>e_indet_t</computeroutput>. </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/selection/poscalc.cpp" line="257" column="1" bodyfile="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/selection/poscalc.cpp" bodystart="257" bodyend="268"/>
      </memberdef>
      <memberdef kind="function" id="poscalc_8cpp_1af0c51ef47d58fb366b02c678c4dc8de8" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>static void set_poscalc_maxindex</definition>
        <argsstring>(gmx_ana_poscalc_t *pc, gmx_ana_index_t *g, bool bBase)</argsstring>
        <name>set_poscalc_maxindex</name>
        <param>
          <type><ref refid="structgmx__ana__poscalc__t" kindref="compound">gmx_ana_poscalc_t</ref> *</type>
          <declname>pc</declname>
        </param>
        <param>
          <type><ref refid="structgmx__ana__index__t" kindref="compound">gmx_ana_index_t</ref> *</type>
          <declname>g</declname>
        </param>
        <param>
          <type>bool</type>
          <declname>bBase</declname>
        </param>
        <briefdescription>
<para>Initializes position calculation using the maximum possible input index. </para>        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="inout">pc</parametername>
</parameternamelist>
<parameterdescription>
<para>Position calculation data structure. </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">g</parametername>
</parameternamelist>
<parameterdescription>
<para>Maximum index group for the calculation. </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">bBase</parametername>
</parameternamelist>
<parameterdescription>
<para>Whether <computeroutput>pc</computeroutput> will be used as a base or not.</para></parameterdescription>
</parameteritem>
</parameterlist>
<computeroutput>bBase</computeroutput> affects on how the <computeroutput>pc-&gt;gmax</computeroutput> field is initialized. </para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/selection/poscalc.cpp" line="703" column="1" bodyfile="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/selection/poscalc.cpp" bodystart="703" bodyend="732"/>
      </memberdef>
      <memberdef kind="function" id="poscalc_8cpp_1ab5ca06053ac41e9e5a444c490690af25" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>bool</type>
        <definition>static bool can_use_base</definition>
        <argsstring>(gmx_ana_poscalc_t *pc)</argsstring>
        <name>can_use_base</name>
        <param>
          <type><ref refid="structgmx__ana__poscalc__t" kindref="compound">gmx_ana_poscalc_t</ref> *</type>
          <declname>pc</declname>
        </param>
        <briefdescription>
<para>Checks whether a position calculation should use a base at all. </para>        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">pc</parametername>
</parameternamelist>
<parameterdescription>
<para>Position calculation data to check. </para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>true if <computeroutput>pc</computeroutput> can use a base and gets some benefit out of it, false otherwise. </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/selection/poscalc.cpp" line="742" column="1" bodyfile="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/selection/poscalc.cpp" bodystart="742" bodyend="764"/>
      </memberdef>
      <memberdef kind="function" id="poscalc_8cpp_1adb897f64df8059b6217d230c89a0cdf8" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>bool</type>
        <definition>static bool should_merge</definition>
        <argsstring>(gmx_ana_poscalc_t *pc1, gmx_ana_poscalc_t *pc2, gmx_ana_index_t *g1, gmx_ana_index_t *g)</argsstring>
        <name>should_merge</name>
        <param>
          <type><ref refid="structgmx__ana__poscalc__t" kindref="compound">gmx_ana_poscalc_t</ref> *</type>
          <declname>pc1</declname>
        </param>
        <param>
          <type><ref refid="structgmx__ana__poscalc__t" kindref="compound">gmx_ana_poscalc_t</ref> *</type>
          <declname>pc2</declname>
        </param>
        <param>
          <type><ref refid="structgmx__ana__index__t" kindref="compound">gmx_ana_index_t</ref> *</type>
          <declname>g1</declname>
        </param>
        <param>
          <type><ref refid="structgmx__ana__index__t" kindref="compound">gmx_ana_index_t</ref> *</type>
          <declname>g</declname>
        </param>
        <briefdescription>
<para>Checks whether two position calculations should use a common base. </para>        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">pc1</parametername>
</parameternamelist>
<parameterdescription>
<para>Calculation 1 to check for. </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">pc2</parametername>
</parameternamelist>
<parameterdescription>
<para>Calculation 2 to check for. </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">g1</parametername>
</parameternamelist>
<parameterdescription>
<para>Index group structure that contains the atoms from <computeroutput>pc1</computeroutput>. </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="inout">g</parametername>
</parameternamelist>
<parameterdescription>
<para>Working space, should have enough allocated memory to contain the intersection of the atoms in <computeroutput>pc1</computeroutput> and <computeroutput>pc2</computeroutput>. </para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>true if the two calculations should be merged to use a common base, false otherwise. </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/selection/poscalc.cpp" line="779" column="1" bodyfile="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/selection/poscalc.cpp" bodystart="779" bodyend="816"/>
      </memberdef>
      <memberdef kind="function" id="poscalc_8cpp_1a1f11ebc5bb13fde12758edb6f7c6829a" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="structgmx__ana__poscalc__t" kindref="compound">gmx_ana_poscalc_t</ref> *</type>
        <definition>static gmx_ana_poscalc_t* create_simple_base</definition>
        <argsstring>(gmx_ana_poscalc_t *pc)</argsstring>
        <name>create_simple_base</name>
        <param>
          <type><ref refid="structgmx__ana__poscalc__t" kindref="compound">gmx_ana_poscalc_t</ref> *</type>
          <declname>pc</declname>
        </param>
        <briefdescription>
<para>Creates a static base for position calculation. </para>        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>pc</parametername>
</parameternamelist>
<parameterdescription>
<para>Data structure to copy. </para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>Pointer to a newly allocated base for <computeroutput>pc</computeroutput>.</para></simplesect>
Creates and returns a deep copy of <computeroutput>pc</computeroutput>, but clears the <ref refid="poscalc_8h_1a62eb7b0a0896e61e43ad4345ee3bb2dd" kindref="member">POS_DYNAMIC</ref> and <ref refid="poscalc_8h_1a3586daeaab8b4ff970ae759b3677e7fd" kindref="member">POS_MASKONLY</ref> flags. The newly created structure is set as the base (<computeroutput><ref refid="structgmx__ana__poscalc__t_1a72b00bc053d3b7b79e594b1b6e5fa733" kindref="member">gmx_ana_poscalc_t::sbase</ref></computeroutput>) of <computeroutput>pc</computeroutput> and inserted in the collection before <computeroutput>pc</computeroutput>. </para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/selection/poscalc.cpp" line="830" column="1" bodyfile="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/selection/poscalc.cpp" bodystart="830" bodyend="846"/>
      </memberdef>
      <memberdef kind="function" id="poscalc_8cpp_1a314f6ee1fe59bd1c5b69d1fbbe523ed2" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>static void merge_to_base</definition>
        <argsstring>(gmx_ana_poscalc_t *base, gmx_ana_poscalc_t *pc)</argsstring>
        <name>merge_to_base</name>
        <param>
          <type><ref refid="structgmx__ana__poscalc__t" kindref="compound">gmx_ana_poscalc_t</ref> *</type>
          <declname>base</declname>
        </param>
        <param>
          <type><ref refid="structgmx__ana__poscalc__t" kindref="compound">gmx_ana_poscalc_t</ref> *</type>
          <declname>pc</declname>
        </param>
        <briefdescription>
<para>Merges a calculation into another calculation such that the new calculation can be used as a base. </para>        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="inout">base</parametername>
</parameternamelist>
<parameterdescription>
<para>Base calculation to merge to. </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="inout">pc</parametername>
</parameternamelist>
<parameterdescription>
<para>Position calculation to merge to <computeroutput>base</computeroutput>.</para></parameterdescription>
</parameteritem>
</parameterlist>
After the call, <computeroutput>base</computeroutput> can be used as a base for <computeroutput>pc</computeroutput> (or any calculation that used it as a base). It is assumed that any overlap between <computeroutput>base</computeroutput> and <computeroutput>pc</computeroutput> is in complete blocks, i.e., that the merge is possible. </para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/selection/poscalc.cpp" line="861" column="1" bodyfile="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/selection/poscalc.cpp" bodystart="861" bodyend="926"/>
      </memberdef>
      <memberdef kind="function" id="poscalc_8cpp_1ae5760189a32b055f1b0404740e839193" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>static void merge_bases</definition>
        <argsstring>(gmx_ana_poscalc_t *tbase, gmx_ana_poscalc_t *mbase)</argsstring>
        <name>merge_bases</name>
        <param>
          <type><ref refid="structgmx__ana__poscalc__t" kindref="compound">gmx_ana_poscalc_t</ref> *</type>
          <declname>tbase</declname>
        </param>
        <param>
          <type><ref refid="structgmx__ana__poscalc__t" kindref="compound">gmx_ana_poscalc_t</ref> *</type>
          <declname>mbase</declname>
        </param>
        <briefdescription>
<para>Merges two bases into one. </para>        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="inout">tbase</parametername>
</parameternamelist>
<parameterdescription>
<para>Base calculation to merge to. </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">mbase</parametername>
</parameternamelist>
<parameterdescription>
<para>Base calculation to merge to <computeroutput>tbase</computeroutput>.</para></parameterdescription>
</parameteritem>
</parameterlist>
After the call, <computeroutput>mbase</computeroutput> has been freed and <computeroutput>tbase</computeroutput> is used as the base for all calculations that previously had <computeroutput>mbase</computeroutput> as their base. It is assumed that any overlap between <computeroutput>tbase</computeroutput> and <computeroutput>mbase</computeroutput> is in complete blocks, i.e., that the merge is possible. </para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/selection/poscalc.cpp" line="940" column="1" bodyfile="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/selection/poscalc.cpp" bodystart="940" bodyend="960"/>
      </memberdef>
      <memberdef kind="function" id="poscalc_8cpp_1a1224bdf84f4fb5c0cbc125791dff3cd9" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>static void setup_base</definition>
        <argsstring>(gmx_ana_poscalc_t *pc)</argsstring>
        <name>setup_base</name>
        <param>
          <type><ref refid="structgmx__ana__poscalc__t" kindref="compound">gmx_ana_poscalc_t</ref> *</type>
          <declname>pc</declname>
        </param>
        <briefdescription>
<para>Setups the static base calculation for a position calculation. </para>        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="inout">pc</parametername>
</parameternamelist>
<parameterdescription>
<para>Position calculation to setup the base for. </para></parameterdescription>
</parameteritem>
</parameterlist>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/selection/poscalc.cpp" line="968" column="1" bodyfile="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/selection/poscalc.cpp" bodystart="968" bodyend="1045"/>
      </memberdef>
      <memberdef kind="function" id="poscalc_8cpp_1a399f78ef0a844eee1804054f9568bc12" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void gmx_ana_poscalc_set_flags</definition>
        <argsstring>(gmx_ana_poscalc_t *pc, int flags)</argsstring>
        <name>gmx_ana_poscalc_set_flags</name>
        <param>
          <type><ref refid="structgmx__ana__poscalc__t" kindref="compound">gmx_ana_poscalc_t</ref> *</type>
          <declname>pc</declname>
        </param>
        <param>
          <type>int</type>
          <declname>flags</declname>
        </param>
        <briefdescription>
<para>Sets the flags for position calculation. </para>        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="inout">pc</parametername>
</parameternamelist>
<parameterdescription>
<para>Position calculation data structure. </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">flags</parametername>
</parameternamelist>
<parameterdescription>
<para>New flags.</para></parameterdescription>
</parameteritem>
</parameterlist>
<computeroutput>flags</computeroutput> are added to the old flags. If calculation type is <ref refid="poscalc_8h_1abda45ad4bf42febbe957a08c4ee291c2a91ffdb6964763d88b5a784de222833d8" kindref="member">POS_ATOM</ref>, <ref refid="poscalc_8h_1ae2fb2ab85a6006e1061ed6af99c1f39f" kindref="member">POS_MASS</ref> is automatically cleared. If both <ref refid="poscalc_8h_1a62eb7b0a0896e61e43ad4345ee3bb2dd" kindref="member">POS_DYNAMIC</ref> and <ref refid="poscalc_8h_1a3586daeaab8b4ff970ae759b3677e7fd" kindref="member">POS_MASKONLY</ref> are provided, <ref refid="poscalc_8h_1a62eb7b0a0896e61e43ad4345ee3bb2dd" kindref="member">POS_DYNAMIC</ref> is cleared. If calculation type is not <ref refid="poscalc_8h_1abda45ad4bf42febbe957a08c4ee291c2a6e4eae73e805ce492df6c75c55ab712a" kindref="member">POS_RES</ref> or <ref refid="poscalc_8h_1abda45ad4bf42febbe957a08c4ee291c2a832073c54a9cb1a05ae87c25315fcd7e" kindref="member">POS_MOL</ref>, <ref refid="poscalc_8h_1a51ff971fa79e81dad91a94091995de8a" kindref="member">POS_COMPLMAX</ref> and <ref refid="poscalc_8h_1acb6721f6727690335c169552fcc860f5" kindref="member">POS_COMPLWHOLE</ref> are automatically cleared. </para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/selection/poscalc.cpp" line="1060" column="1" bodyfile="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/selection/poscalc.cpp" bodystart="1060" bodyend="1075"/>
      </memberdef>
      <memberdef kind="function" id="poscalc_8cpp_1ae6f5e6a0c3ea639b5093ee8e86333199" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void gmx_ana_poscalc_set_maxindex</definition>
        <argsstring>(gmx_ana_poscalc_t *pc, gmx_ana_index_t *g)</argsstring>
        <name>gmx_ana_poscalc_set_maxindex</name>
        <param>
          <type><ref refid="structgmx__ana__poscalc__t" kindref="compound">gmx_ana_poscalc_t</ref> *</type>
          <declname>pc</declname>
        </param>
        <param>
          <type><ref refid="structgmx__ana__index__t" kindref="compound">gmx_ana_index_t</ref> *</type>
          <declname>g</declname>
        </param>
        <briefdescription>
<para>Sets the maximum possible input index group for position calculation. </para>        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="inout">pc</parametername>
</parameternamelist>
<parameterdescription>
<para>Position calculation data structure. </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">g</parametername>
</parameternamelist>
<parameterdescription>
<para>Maximum index group for the calculation.</para></parameterdescription>
</parameteritem>
</parameterlist>
Subsequent calls to <ref refid="poscalc_8cpp_1a4441bd43d681d376c4c26bf1e5a5070d" kindref="member">gmx_ana_poscalc_update()</ref> should use only subsets of <computeroutput>g</computeroutput> for evaluation.</para><para>The topology should have been set for the collection of which <computeroutput>pc</computeroutput> is a member. </para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/selection/poscalc.cpp" line="1088" column="1" bodyfile="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/selection/poscalc.cpp" bodystart="1088" bodyend="1092"/>
      </memberdef>
      <memberdef kind="function" id="poscalc_8cpp_1a7f113e8fd1bb588153117d4390b282bf" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void gmx_ana_poscalc_init_pos</definition>
        <argsstring>(gmx_ana_poscalc_t *pc, gmx_ana_pos_t *p)</argsstring>
        <name>gmx_ana_poscalc_init_pos</name>
        <param>
          <type><ref refid="structgmx__ana__poscalc__t" kindref="compound">gmx_ana_poscalc_t</ref> *</type>
          <declname>pc</declname>
        </param>
        <param>
          <type><ref refid="structgmx__ana__pos__t" kindref="compound">gmx_ana_pos_t</ref> *</type>
          <declname>p</declname>
        </param>
        <briefdescription>
<para>Initializes positions for position calculation output. </para>        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">pc</parametername>
</parameternamelist>
<parameterdescription>
<para>Position calculation data structure. </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="out">p</parametername>
</parameternamelist>
<parameterdescription>
<para>Output positions.</para></parameterdescription>
</parameteritem>
</parameterlist>
Calls to <ref refid="poscalc_8cpp_1a4441bd43d681d376c4c26bf1e5a5070d" kindref="member">gmx_ana_poscalc_update()</ref> using <computeroutput>pc</computeroutput> should use only positions initialized with this function. The <computeroutput>p-&gt;g</computeroutput> pointer is initialized to point to an internal group that contains the maximum index group set with <ref refid="poscalc_8cpp_1ae6f5e6a0c3ea639b5093ee8e86333199" kindref="member">gmx_ana_poscalc_set_maxindex()</ref>. </para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/selection/poscalc.cpp" line="1104" column="1" bodyfile="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/selection/poscalc.cpp" bodystart="1104" bodyend="1121"/>
      </memberdef>
      <memberdef kind="function" id="poscalc_8cpp_1a6dabbcb52d61c65b39691fca109e5508" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void gmx_ana_poscalc_free</definition>
        <argsstring>(gmx_ana_poscalc_t *pc)</argsstring>
        <name>gmx_ana_poscalc_free</name>
        <param>
          <type><ref refid="structgmx__ana__poscalc__t" kindref="compound">gmx_ana_poscalc_t</ref> *</type>
          <declname>pc</declname>
        </param>
        <briefdescription>
<para>Frees the memory allocated for position calculation. </para>        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>pc</parametername>
</parameternamelist>
<parameterdescription>
<para>Position calculation data to be freed.</para></parameterdescription>
</parameteritem>
</parameterlist>
The <computeroutput>pc</computeroutput> pointer is invalid after the call. </para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/selection/poscalc.cpp" line="1129" column="1" bodyfile="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/selection/poscalc.cpp" bodystart="1129" bodyend="1162"/>
      </memberdef>
      <memberdef kind="function" id="poscalc_8cpp_1a0ba9fac1dbf9a75f11a4423d042717e8" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>bool</type>
        <definition>bool gmx_ana_poscalc_requires_top</definition>
        <argsstring>(gmx_ana_poscalc_t *pc)</argsstring>
        <name>gmx_ana_poscalc_requires_top</name>
        <param>
          <type><ref refid="structgmx__ana__poscalc__t" kindref="compound">gmx_ana_poscalc_t</ref> *</type>
          <declname>pc</declname>
        </param>
        <briefdescription>
<para>Returns true if the position calculation requires topology information. </para>        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">pc</parametername>
</parameternamelist>
<parameterdescription>
<para>Position calculation data to query. </para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>true if <computeroutput>pc</computeroutput> requires topology for initialization and/or evaluation, false otherwise. </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/selection/poscalc.cpp" line="1170" column="1" bodyfile="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/selection/poscalc.cpp" bodystart="1170" bodyend="1178"/>
      </memberdef>
      <memberdef kind="function" id="poscalc_8cpp_1a4441bd43d681d376c4c26bf1e5a5070d" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void gmx_ana_poscalc_update</definition>
        <argsstring>(gmx_ana_poscalc_t *pc, gmx_ana_pos_t *p, gmx_ana_index_t *g, t_trxframe *fr, t_pbc *pbc)</argsstring>
        <name>gmx_ana_poscalc_update</name>
        <param>
          <type><ref refid="structgmx__ana__poscalc__t" kindref="compound">gmx_ana_poscalc_t</ref> *</type>
          <declname>pc</declname>
        </param>
        <param>
          <type><ref refid="structgmx__ana__pos__t" kindref="compound">gmx_ana_pos_t</ref> *</type>
          <declname>p</declname>
        </param>
        <param>
          <type><ref refid="structgmx__ana__index__t" kindref="compound">gmx_ana_index_t</ref> *</type>
          <declname>g</declname>
        </param>
        <param>
          <type><ref refid="structt__trxframe" kindref="compound">t_trxframe</ref> *</type>
          <declname>fr</declname>
        </param>
        <param>
          <type><ref refid="structt__pbc" kindref="compound">t_pbc</ref> *</type>
          <declname>pbc</declname>
        </param>
        <briefdescription>
<para>Updates a single COM/COG structure for a frame. </para>        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">pc</parametername>
</parameternamelist>
<parameterdescription>
<para>Position calculation data. </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="inout">p</parametername>
</parameternamelist>
<parameterdescription>
<para>Output positions, initialized previously with <ref refid="poscalc_8cpp_1a7f113e8fd1bb588153117d4390b282bf" kindref="member">gmx_ana_poscalc_init_pos()</ref> using <computeroutput>pc</computeroutput>. </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">g</parametername>
</parameternamelist>
<parameterdescription>
<para>Index group to use for the update. </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">fr</parametername>
</parameternamelist>
<parameterdescription>
<para>Current frame. </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">pbc</parametername>
</parameternamelist>
<parameterdescription>
<para>PBC data, or NULL if no PBC should be used.</para></parameterdescription>
</parameteritem>
</parameterlist>
gmx_ana_poscalc_init_frame() should be called for each frame before calling this function. </para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/selection/poscalc.cpp" line="1192" column="1" bodyfile="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/selection/poscalc.cpp" bodystart="1192" bodyend="1373"/>
      </memberdef>
      </sectiondef>
    <briefdescription>
<para>Implements <ref refid="classgmx_1_1PositionCalculationCollection" kindref="compound">gmx::PositionCalculationCollection</ref> and functions in <ref refid="poscalc_8h" kindref="compound">poscalc.h</ref>. </para>    </briefdescription>
    <detaileddescription>
<internal><para><xrefsect id="todo_1_todo000053"><xreftitle>Todo</xreftitle><xrefdescription><para>There is probably some room for optimization in the calculation of positions with bases. In particular, the current implementation may do a lot of unnecessary copying. The interface would need to be changed to make it possible to use the same output positions for several calculations.</para></xrefdescription></xrefsect></para><para><xrefsect id="todo_1_todo000054"><xreftitle>Todo</xreftitle><xrefdescription><para>The current algorithm for setting up base calculations could be improved in cases when there are calculations that cannot use a common base but still overlap partially (e.g., with three calculations A, B, and C such that A could use both B and C as a base, but B and C cannot use the same base). Setting up the bases in an optimal manner in every possible situation can be quite difficult unless several bases are allowed for one calculation, but better heuristics could probably be implemented. For best results, the setup should probably be postponed (at least partially) to gmx_ana_poscalc_init_eval().</para></xrefdescription></xrefsect></para><para><simplesect kind="author"><para>Teemu Murtola <ulink url="mailto:teemu.murtola@gmail.com">teemu.murtola@gmail.com</ulink> </para></simplesect>
</para></internal>
    </detaileddescription>
    <location file="/mnt/workspace/Release_workflow_2016/gromacs-2016.3/src/gromacs/selection/poscalc.cpp"/>
  </compounddef>
</doxygen>
