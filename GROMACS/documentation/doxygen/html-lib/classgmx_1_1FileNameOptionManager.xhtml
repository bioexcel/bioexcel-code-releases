<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>Gromacs: gmx::FileNameOptionManager Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Gromacs
   &#160;<span id="projectnumber">2016.3</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.xhtml"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.xhtml"><span>Modules</span></a></li>
      <li><a href="pages.xhtml"><span>Other&#160;Docs</span></a></li>
      <li><a href="namespaces.xhtml"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.xhtml"><span>Classes</span></a></li>
      <li><a href="files.xhtml"><span>Files</span></a></li>
      <li><a href="examples.xhtml"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.xhtml"><span>Class&#160;List</span></a></li>
      <li><a href="classes.xhtml"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.xhtml"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.xhtml"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacegmx.xhtml">gmx</a></li><li class="navelem"><a class="el" href="classgmx_1_1FileNameOptionManager.xhtml">FileNameOptionManager</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="classgmx_1_1FileNameOptionManager-members.xhtml">List of all members</a> &#124;
<a href="#pub-methods">Public Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">gmx::FileNameOptionManager Class Reference<div class="ingroups"><a class="el" href="group__group__publicapi.xhtml">Public API</a> &#124; <a class="el" href="group__module__selection.xhtml">Parsing and Evaluation of Analysis Selections (selection)</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;gromacs/options/filenameoptionmanager.h&gt;</code></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Inheritance diagram for gmx::FileNameOptionManager:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="classgmx_1_1FileNameOptionManager__inherit__graph.svg" width="210" height="112"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
<center><span class="legend">[<a href="graph_legend.xhtml">legend</a>]</span></center></div>
<div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> Collaboration diagram for gmx::FileNameOptionManager:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="classgmx_1_1FileNameOptionManager__coll__graph.svg" width="210" height="112"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
<center><span class="legend">[<a href="graph_legend.xhtml">legend</a>]</span></center></div>
<a name="details" id="details"></a><h2 class="groupheader">Description</h2>
<div class="textblock"><p>Handles interaction of file name options with global options. </p>
<p>This class contains all logic that completes file names based on user input and file system contents. Additionally, this class implements support for a global default file name that overrides any option-specific default, as well as additional control over how the completion is done.</p>
<dl class="todo"><dt><b><a class="el" href="todo.xhtml#_todo000036">Todo:</a></b></dt><dd>Most of the functionality in this class is specific to command line parsing, so it would be cleaner to replace this with an interface, and have the actual code in the <code>commandline</code> module.</dd></dl>
<p>Adding a <a class="el" href="classgmx_1_1FileNameOptionManager.xhtml" title="Handles interaction of file name options with global options. ">FileNameOptionManager</a> for an <a class="el" href="classgmx_1_1Options.xhtml" title="Collection of options. ">Options</a> object is optional, even if the <a class="el" href="classgmx_1_1Options.xhtml" title="Collection of options. ">Options</a> contains <a class="el" href="classgmx_1_1FileNameOption.xhtml" title="Specifies an option that provides file names. ">FileNameOption</a> options. Features from the manager are not available if the manager is not created, but otherwise the options work: the values provided to <a class="el" href="classgmx_1_1FileNameOption.xhtml" title="Specifies an option that provides file names. ">FileNameOption</a> are used as they are, and exceptions are thrown if they are no valid instead of attempting to complete them.</p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classgmx_1_1Options.xhtml#aec34346be097c2d666ff4434c4bf562e" title="Adds an option manager. ">Options::addManager()</a> </dd></dl>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ae4de8b094d01a0f277bb15f59e663772"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgmx_1_1FileNameOptionManager.xhtml#ae4de8b094d01a0f277bb15f59e663772">setInputRedirector</a> (const <a class="el" href="classgmx_1_1IFileInputRedirector.xhtml">IFileInputRedirector</a> *redirector)</td></tr>
<tr class="memdesc:ae4de8b094d01a0f277bb15f59e663772"><td class="mdescLeft">&#160;</td><td class="mdescRight">Redirects file existence checks.  <a href="#ae4de8b094d01a0f277bb15f59e663772">More...</a><br/></td></tr>
<tr class="separator:ae4de8b094d01a0f277bb15f59e663772"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af034d289519b058998ef490aaa748702"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgmx_1_1FileNameOptionManager.xhtml#af034d289519b058998ef490aaa748702">disableInputOptionChecking</a> (bool bDisable)</td></tr>
<tr class="memdesc:af034d289519b058998ef490aaa748702"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disables special input file option handling.  <a href="#af034d289519b058998ef490aaa748702">More...</a><br/></td></tr>
<tr class="separator:af034d289519b058998ef490aaa748702"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f872f2dbe12798b6597bdc7b7854434"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgmx_1_1FileNameOptionManager.xhtml#a1f872f2dbe12798b6597bdc7b7854434">addDefaultFileNameOption</a> (<a class="el" href="classgmx_1_1IOptionsContainer.xhtml">IOptionsContainer</a> *options, const char *name)</td></tr>
<tr class="memdesc:a1f872f2dbe12798b6597bdc7b7854434"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds an option for setting the default global file name.  <a href="#a1f872f2dbe12798b6597bdc7b7854434">More...</a><br/></td></tr>
<tr class="separator:a1f872f2dbe12798b6597bdc7b7854434"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3bec8f1f598744374292e50afd25892b"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgmx_1_1FileNameOptionManager.xhtml#a3bec8f1f598744374292e50afd25892b">completeFileName</a> (const std::string &amp;value, const <a class="el" href="classgmx_1_1FileNameOptionInfo.xhtml">FileNameOptionInfo</a> &amp;option)</td></tr>
<tr class="memdesc:a3bec8f1f598744374292e50afd25892b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Completes file name option values.  <a href="#a3bec8f1f598744374292e50afd25892b">More...</a><br/></td></tr>
<tr class="separator:a3bec8f1f598744374292e50afd25892b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef79085e8a1002456c68dea1144a8ed9"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgmx_1_1FileNameOptionManager.xhtml#aef79085e8a1002456c68dea1144a8ed9">completeDefaultFileName</a> (const std::string &amp;prefix, const <a class="el" href="classgmx_1_1FileNameOptionInfo.xhtml">FileNameOptionInfo</a> &amp;option)</td></tr>
<tr class="memdesc:aef79085e8a1002456c68dea1144a8ed9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Completes default values for file name options.  <a href="#aef79085e8a1002456c68dea1144a8ed9">More...</a><br/></td></tr>
<tr class="separator:aef79085e8a1002456c68dea1144a8ed9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a1f872f2dbe12798b6597bdc7b7854434"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gmx::FileNameOptionManager::addDefaultFileNameOption </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classgmx_1_1IOptionsContainer.xhtml">IOptionsContainer</a> *&#160;</td>
          <td class="paramname"><em>options</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adds an option for setting the default global file name. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">options</td><td><a class="el" href="classgmx_1_1Options.xhtml" title="Collection of options. ">Options</a> to add the option to. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">name</td><td>Name of the option to add.</td></tr>
  </table>
  </dd>
</dl>
<p>If the user sets the option, it affects all file name options that would normally return a default value: the basename for the returned value is taken from the value of the default file name option, instead from an option-specific default (FileNameOption::defaultBaseName()). </p>

</div>
</div>
<a class="anchor" id="aef79085e8a1002456c68dea1144a8ed9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string gmx::FileNameOptionManager::completeDefaultFileName </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>prefix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classgmx_1_1FileNameOptionInfo.xhtml">FileNameOptionInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>option</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Completes default values for file name options. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">prefix</td><td>Default prefix for the file name. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">option</td><td>Option for which the value should be completed. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Value for the file name option. </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">std::bad_alloc</td><td>if out of memory. </td></tr>
    <tr><td class="paramname"><a class="el" href="classgmx_1_1InvalidInputError.xhtml" title="Exception class for situations where user input cannot be parsed/understood. ">InvalidInputError</a></td><td>if the value is not valid for this option.</td></tr>
  </table>
  </dd>
</dl>
<p>This method is called for each <a class="el" href="classgmx_1_1FileNameOption.xhtml" title="Specifies an option that provides file names. ">FileNameOption</a> that has a default value (either a standard default value, or if the user provided the option without an explicit value). <code>prefix</code> is the default value without the default extension for the option. If the return value is non-empty, it is used as the default value for the option instead of <code>prefix</code> + default extension. </p>

</div>
</div>
<a class="anchor" id="a3bec8f1f598744374292e50afd25892b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string gmx::FileNameOptionManager::completeFileName </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classgmx_1_1FileNameOptionInfo.xhtml">FileNameOptionInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>option</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Completes file name option values. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">value</td><td>Value provided by the user. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">option</td><td>Option for which the value should be completed. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Value for the file name option. </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">std::bad_alloc</td><td>if out of memory. </td></tr>
    <tr><td class="paramname"><a class="el" href="classgmx_1_1InvalidInputError.xhtml" title="Exception class for situations where user input cannot be parsed/understood. ">InvalidInputError</a></td><td>if the value is not valid for this option.</td></tr>
  </table>
  </dd>
</dl>
<p>This method is called for each value that the user provides to a <a class="el" href="classgmx_1_1FileNameOption.xhtml" title="Specifies an option that provides file names. ">FileNameOption</a>. The return value (if non-empty) is used as the value of the option instead of the user-provided one. </p>

</div>
</div>
<a class="anchor" id="af034d289519b058998ef490aaa748702"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gmx::FileNameOptionManager::disableInputOptionChecking </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>bDisable</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Disables special input file option handling. </p>
<p>If disabled, this removes all file system calls from the file name option parsing. The values returned by <a class="el" href="classgmx_1_1FileNameOption.xhtml" title="Specifies an option that provides file names. ">FileNameOption</a> for input and input/output files are handled with the same simple rule as for output files: the default extension is added if the file does not end in a recognized extension, and no other checking is done.</p>
<p>This changes the following behavior:</p>
<ul>
<li>Providing non-existent files does not trigger errors.</li>
<li>Extensions for input files are not completed to an existing file.</li>
<li>Compressed input files do not work. </li>
</ul>

</div>
</div>
<a class="anchor" id="ae4de8b094d01a0f277bb15f59e663772"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gmx::FileNameOptionManager::setInputRedirector </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classgmx_1_1IFileInputRedirector.xhtml">IFileInputRedirector</a> *&#160;</td>
          <td class="paramname"><em>redirector</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Redirects file existence checks. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">redirector</td><td>File redirector to use for existence checks.</td></tr>
  </table>
  </dd>
</dl>
<p>The manager checks for existence of various files on the file system to complete file extensions. This method can be used to redirect those checks to an alternative implementation.</p>
<p>This is used for unit tests to more easily control the result of the checks and to keep the tests as fast as possible by avoiding real file system access. To keep implementation options open, behavior with <code>redirector == NULL</code> is undefined and should not be relied on. For tests, there should only be need to call this a single time, right after creating the manager. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/gromacs/options/<a class="el" href="filenameoptionmanager_8h.xhtml">filenameoptionmanager.h</a></li>
<li>src/gromacs/options/filenameoptionmanager.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Mar 13 2017 19:19:41 for Gromacs by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
