<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>Gromacs: src/gromacs/selection/selmethod.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Gromacs
   &#160;<span id="projectnumber">2016.3</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.xhtml"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.xhtml"><span>Modules</span></a></li>
      <li><a href="pages.xhtml"><span>Other&#160;Docs</span></a></li>
      <li><a href="namespaces.xhtml"><span>Namespaces</span></a></li>
      <li><a href="annotated.xhtml"><span>Classes</span></a></li>
      <li class="current"><a href="files.xhtml"><span>Files</span></a></li>
      <li><a href="examples.xhtml"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.xhtml"><span>File&#160;List</span></a></li>
      <li><a href="globals.xhtml"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_71392c6f4b1ed3a32ba5c064e868a1ba.xhtml">src</a></li><li class="navelem"><a class="el" href="dir_a798d384400d41a9e6864d9b1b8753fe.xhtml">gromacs</a></li><li class="navelem"><a class="el" href="dir_aa770a1c85b1dd65249ff2086d775c37.xhtml">selection</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">selmethod.h File Reference<div class="ingroups"><a class="el" href="group__module__selection.xhtml">Parsing and Evaluation of Analysis Selections (selection)</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="selparam_8h.xhtml">selparam.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="selvalue_8h.xhtml">selvalue.h</a>&quot;</code><br/>
</div><div class="textblock"><div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Include dependency graph for selmethod.h:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="selmethod_8h__incl.svg" width="338" height="276"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</div><div class="textblock"><div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> This graph shows which files directly or indirectly include this file:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="selmethod_8h__dep__incl.svg" width="3139" height="142"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</div><a name="details" id="details"></a><h2 class="groupheader">Description</h2>
<div class="textblock"><p>API for handling selection methods. </p>
<p>There should be no need to use the data structures or call the functions in this file directly unless implementing a custom selection method.</p>
<p>Instructions for implementing custom selection methods can be found on a separate page: <a class="el" href="page_module_selection_custom.xhtml">Custom selection methods</a></p>
<dl class="section author"><dt>Author</dt><dd>Teemu Murtola <a href="#" onclick="location.href='mai'+'lto:'+'tee'+'mu'+'.mu'+'rt'+'ola'+'@g'+'mai'+'l.'+'com'; return false;">teemu<span style="display: none;">.nosp@m.</span>.mur<span style="display: none;">.nosp@m.</span>tola@<span style="display: none;">.nosp@m.</span>gmai<span style="display: none;">.nosp@m.</span>l.com</a> </dd></dl>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structgmx__ana__selmethod__help__t.xhtml">gmx_ana_selmethod_help_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Help information for a selection method.  <a href="structgmx__ana__selmethod__help__t.xhtml#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structgmx__ana__selmethod__t.xhtml">gmx_ana_selmethod_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Describes a selection method.  <a href="structgmx__ana__selmethod__t.xhtml#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr><td colspan="2"><div class="groupHeader">Selection method flags</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p><a class="anchor" id="selmethod_flags"></a></p>
</div></td></tr>
<tr class="memitem:ac5e632efef31120c54b55eac79cb23cc"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac5e632efef31120c54b55eac79cb23cc"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="selmethod_8h.xhtml#ac5e632efef31120c54b55eac79cb23cc">SMETH_REQTOP</a>&#160;&#160;&#160;1</td></tr>
<tr class="memdesc:ac5e632efef31120c54b55eac79cb23cc"><td class="mdescLeft">&#160;</td><td class="mdescRight">If set, the method requires topology information. <br/></td></tr>
<tr class="separator:ac5e632efef31120c54b55eac79cb23cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af38b0eb2b4e305ae83ded06f9b12252e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af38b0eb2b4e305ae83ded06f9b12252e"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="selmethod_8h.xhtml#af38b0eb2b4e305ae83ded06f9b12252e">SMETH_DYNAMIC</a>&#160;&#160;&#160;2</td></tr>
<tr class="memdesc:af38b0eb2b4e305ae83ded06f9b12252e"><td class="mdescLeft">&#160;</td><td class="mdescRight">If set, the method can only be evaluated dynamically. <br/></td></tr>
<tr class="separator:af38b0eb2b4e305ae83ded06f9b12252e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2de9fc1fca93570388059f72b064df08"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="selmethod_8h.xhtml#a2de9fc1fca93570388059f72b064df08">SMETH_SINGLEVAL</a>&#160;&#160;&#160;4</td></tr>
<tr class="memdesc:a2de9fc1fca93570388059f72b064df08"><td class="mdescLeft">&#160;</td><td class="mdescRight">If set, the method evaluates to a single value.  <a href="#a2de9fc1fca93570388059f72b064df08">More...</a><br/></td></tr>
<tr class="separator:a2de9fc1fca93570388059f72b064df08"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0aa6a1bbb99ba5f0f6228c4cd401e0a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="selmethod_8h.xhtml#ae0aa6a1bbb99ba5f0f6228c4cd401e0a">SMETH_VARNUMVAL</a>&#160;&#160;&#160;8</td></tr>
<tr class="memdesc:ae0aa6a1bbb99ba5f0f6228c4cd401e0a"><td class="mdescLeft">&#160;</td><td class="mdescRight">If set, the method evaluates to an arbitrary number of values.  <a href="#ae0aa6a1bbb99ba5f0f6228c4cd401e0a">More...</a><br/></td></tr>
<tr class="separator:ae0aa6a1bbb99ba5f0f6228c4cd401e0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78abdcb637f45eafa513d07aaf14a45e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="selmethod_8h.xhtml#a78abdcb637f45eafa513d07aaf14a45e">SMETH_CHARVAL</a>&#160;&#160;&#160;64</td></tr>
<tr class="memdesc:a78abdcb637f45eafa513d07aaf14a45e"><td class="mdescLeft">&#160;</td><td class="mdescRight">If set, the method evaluates to single-character strings.  <a href="#a78abdcb637f45eafa513d07aaf14a45e">More...</a><br/></td></tr>
<tr class="separator:a78abdcb637f45eafa513d07aaf14a45e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a515e9a0a40f55687d9c37167e4d530a5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="selmethod_8h.xhtml#a515e9a0a40f55687d9c37167e4d530a5">SMETH_ALLOW_UNSORTED</a>&#160;&#160;&#160;128</td></tr>
<tr class="memdesc:a515e9a0a40f55687d9c37167e4d530a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">If set, the method accepts unsorted atoms in its input parameters.  <a href="#a515e9a0a40f55687d9c37167e4d530a5">More...</a><br/></td></tr>
<tr class="separator:a515e9a0a40f55687d9c37167e4d530a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5b18df47b72690889afd89f5e68694c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="selmethod_8h.xhtml#aa5b18df47b72690889afd89f5e68694c">SMETH_MODIFIER</a>&#160;&#160;&#160;256</td></tr>
<tr class="memdesc:aa5b18df47b72690889afd89f5e68694c"><td class="mdescLeft">&#160;</td><td class="mdescRight">If set, the method is a selection modifier.  <a href="#aa5b18df47b72690889afd89f5e68694c">More...</a><br/></td></tr>
<tr class="separator:aa5b18df47b72690889afd89f5e68694c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a5acbf2d7bead71c4d96f9e69b267df56"><td class="memItemLeft" align="right" valign="top">typedef void *(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="selmethod_8h.xhtml#a5acbf2d7bead71c4d96f9e69b267df56">sel_datafunc</a> )(int npar, <a class="el" href="structgmx__ana__selparam__t.xhtml">gmx_ana_selparam_t</a> *param)</td></tr>
<tr class="memdesc:a5acbf2d7bead71c4d96f9e69b267df56"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocates and initializes internal data and parameter values.  <a href="#a5acbf2d7bead71c4d96f9e69b267df56">More...</a><br/></td></tr>
<tr class="separator:a5acbf2d7bead71c4d96f9e69b267df56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5aa791ed8d9db644c9250028a18dc8b"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="selmethod_8h.xhtml#ab5aa791ed8d9db644c9250028a18dc8b">sel_posfunc</a> )(<a class="el" href="classgmx_1_1PositionCalculationCollection.xhtml">gmx::PositionCalculationCollection</a> *pcc, void *data)</td></tr>
<tr class="memdesc:ab5aa791ed8d9db644c9250028a18dc8b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the position calculation collection for the method.  <a href="#ab5aa791ed8d9db644c9250028a18dc8b">More...</a><br/></td></tr>
<tr class="separator:ab5aa791ed8d9db644c9250028a18dc8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7149ff249973e9c0fd49a34276305a76"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="selmethod_8h.xhtml#a7149ff249973e9c0fd49a34276305a76">sel_initfunc</a> )(t_topology *top, int npar, <a class="el" href="structgmx__ana__selparam__t.xhtml">gmx_ana_selparam_t</a> *param, void *data)</td></tr>
<tr class="memdesc:a7149ff249973e9c0fd49a34276305a76"><td class="mdescLeft">&#160;</td><td class="mdescRight">Does initialization based on topology and/or parameter values.  <a href="#a7149ff249973e9c0fd49a34276305a76">More...</a><br/></td></tr>
<tr class="separator:a7149ff249973e9c0fd49a34276305a76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a629ed53ce2f771dc66297458ce50abb5"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="selmethod_8h.xhtml#a629ed53ce2f771dc66297458ce50abb5">sel_outinitfunc</a> )(t_topology *top, <a class="el" href="structgmx__ana__selvalue__t.xhtml">gmx_ana_selvalue_t</a> *out, void *data)</td></tr>
<tr class="memdesc:a629ed53ce2f771dc66297458ce50abb5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes output data structure.  <a href="#a629ed53ce2f771dc66297458ce50abb5">More...</a><br/></td></tr>
<tr class="separator:a629ed53ce2f771dc66297458ce50abb5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e05a0b2274edfeab965c363f646735a"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="selmethod_8h.xhtml#a2e05a0b2274edfeab965c363f646735a">sel_freefunc</a> )(void *data)</td></tr>
<tr class="memdesc:a2e05a0b2274edfeab965c363f646735a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Frees the internal data.  <a href="#a2e05a0b2274edfeab965c363f646735a">More...</a><br/></td></tr>
<tr class="separator:a2e05a0b2274edfeab965c363f646735a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7e63789da3cadbb99800dbe18d837f7"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="selmethod_8h.xhtml#ad7e63789da3cadbb99800dbe18d837f7">sel_framefunc</a> )(t_topology *top, t_trxframe *fr, <a class="el" href="structt__pbc.xhtml">t_pbc</a> *pbc, void *data)</td></tr>
<tr class="memdesc:ad7e63789da3cadbb99800dbe18d837f7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the evaluation for a new frame.  <a href="#ad7e63789da3cadbb99800dbe18d837f7">More...</a><br/></td></tr>
<tr class="separator:ad7e63789da3cadbb99800dbe18d837f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1474cb37018590caa7b2626ad6042d4"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="selmethod_8h.xhtml#aa1474cb37018590caa7b2626ad6042d4">sel_updatefunc</a> )(t_topology *top, t_trxframe *fr, <a class="el" href="structt__pbc.xhtml">t_pbc</a> *pbc, <a class="el" href="structgmx__ana__index__t.xhtml">gmx_ana_index_t</a> *g, <a class="el" href="structgmx__ana__selvalue__t.xhtml">gmx_ana_selvalue_t</a> *out, void *data)</td></tr>
<tr class="memdesc:aa1474cb37018590caa7b2626ad6042d4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Evaluates a selection method.  <a href="#aa1474cb37018590caa7b2626ad6042d4">More...</a><br/></td></tr>
<tr class="separator:aa1474cb37018590caa7b2626ad6042d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b18405511e5ed5fabfe37fc98888121"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="selmethod_8h.xhtml#a0b18405511e5ed5fabfe37fc98888121">sel_updatefunc_pos</a> )(t_topology *top, t_trxframe *fr, <a class="el" href="structt__pbc.xhtml">t_pbc</a> *pbc, <a class="el" href="structgmx__ana__pos__t.xhtml">gmx_ana_pos_t</a> *pos, <a class="el" href="structgmx__ana__selvalue__t.xhtml">gmx_ana_selvalue_t</a> *out, void *data)</td></tr>
<tr class="memdesc:a0b18405511e5ed5fabfe37fc98888121"><td class="mdescLeft">&#160;</td><td class="mdescRight">Evaluates a selection method using positions.  <a href="#a0b18405511e5ed5fabfe37fc98888121">More...</a><br/></td></tr>
<tr class="separator:a0b18405511e5ed5fabfe37fc98888121"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a8dc364fb06ad40e8176409907d6d8087"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="selmethod_8h.xhtml#a8dc364fb06ad40e8176409907d6d8087">gmx_ana_selmethod_register</a> (<a class="el" href="classgmx_1_1SelectionParserSymbolTable.xhtml">gmx::SelectionParserSymbolTable</a> *symtab, const char *name, <a class="el" href="structgmx__ana__selmethod__t.xhtml">gmx_ana_selmethod_t</a> *method)</td></tr>
<tr class="memdesc:a8dc364fb06ad40e8176409907d6d8087"><td class="mdescLeft">&#160;</td><td class="mdescRight">Registers a selection method.  <a href="#a8dc364fb06ad40e8176409907d6d8087">More...</a><br/></td></tr>
<tr class="separator:a8dc364fb06ad40e8176409907d6d8087"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71c080d03195c4a00427a806eab831cd"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="selmethod_8h.xhtml#a71c080d03195c4a00427a806eab831cd">gmx_ana_selmethod_register_defaults</a> (<a class="el" href="classgmx_1_1SelectionParserSymbolTable.xhtml">gmx::SelectionParserSymbolTable</a> *symtab)</td></tr>
<tr class="memdesc:a71c080d03195c4a00427a806eab831cd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Registers all selection methods in the library.  <a href="#a71c080d03195c4a00427a806eab831cd">More...</a><br/></td></tr>
<tr class="separator:a71c080d03195c4a00427a806eab831cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e7b6b47ea1bd6dc301b26eb73524a16"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structgmx__ana__selparam__t.xhtml">gmx_ana_selparam_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="selmethod_8h.xhtml#a0e7b6b47ea1bd6dc301b26eb73524a16">gmx_ana_selmethod_find_param</a> (const char *name, <a class="el" href="structgmx__ana__selmethod__t.xhtml">gmx_ana_selmethod_t</a> *method)</td></tr>
<tr class="memdesc:a0e7b6b47ea1bd6dc301b26eb73524a16"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finds a parameter from a selection method by name.  <a href="#a0e7b6b47ea1bd6dc301b26eb73524a16">More...</a><br/></td></tr>
<tr class="separator:a0e7b6b47ea1bd6dc301b26eb73524a16"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="a515e9a0a40f55687d9c37167e4d530a5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SMETH_ALLOW_UNSORTED&#160;&#160;&#160;128</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>If set, the method accepts unsorted atoms in its input parameters. </p>
<p>Currently, the support for this functionality is fairly limited, and only static index group references can actually contain unsorted atoms. But to make this single case work, the position evaluation must support unsorted atoms as well. </p>

</div>
</div>
<a class="anchor" id="a78abdcb637f45eafa513d07aaf14a45e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SMETH_CHARVAL&#160;&#160;&#160;64</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>If set, the method evaluates to single-character strings. </p>
<p>This flag can only be set for <a class="el" href="selvalue_8h.xhtml#a70b42b87d434580bf1493591857b8beca6f2f1fe9592d96990c9ac690c355bd08">STR_VALUE</a> methods. If it is set, the selection engine automatically allocates and frees the required strings. The evaluation function should store the character values as the first character in the strings in the output data structure and should not change the string pointers. </p>

</div>
</div>
<a class="anchor" id="aa5b18df47b72690889afd89f5e68694c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SMETH_MODIFIER&#160;&#160;&#160;256</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>If set, the method is a selection modifier. </p>
<p>The method type should be <a class="el" href="selvalue_8h.xhtml#a70b42b87d434580bf1493591857b8beca70a2af6eafa48adfab506ceee60471f6">GROUP_VALUE</a> or <a class="el" href="selvalue_8h.xhtml#a70b42b87d434580bf1493591857b8beca4d694119ce83b62d74ff06b5e017dca8">NO_VALUE</a> . Cannot be combined with <a class="el" href="selmethod_8h.xhtml#a2de9fc1fca93570388059f72b064df08">SMETH_SINGLEVAL</a> or <a class="el" href="selmethod_8h.xhtml#ae0aa6a1bbb99ba5f0f6228c4cd401e0a">SMETH_VARNUMVAL</a> . </p>

</div>
</div>
<a class="anchor" id="a2de9fc1fca93570388059f72b064df08"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SMETH_SINGLEVAL&#160;&#160;&#160;4</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>If set, the method evaluates to a single value. </p>
<p>The default is that the method evaluates to a value for each input atom. Cannot be combined with <a class="el" href="selmethod_8h.xhtml#ae0aa6a1bbb99ba5f0f6228c4cd401e0a">SMETH_VARNUMVAL</a>. </p>

</div>
</div>
<a class="anchor" id="ae0aa6a1bbb99ba5f0f6228c4cd401e0a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SMETH_VARNUMVAL&#160;&#160;&#160;8</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>If set, the method evaluates to an arbitrary number of values. </p>
<p>The default is that the method evaluates to a value for each input atom. Cannot be combined with <a class="el" href="selmethod_8h.xhtml#a2de9fc1fca93570388059f72b064df08">SMETH_SINGLEVAL</a> or with <a class="el" href="selvalue_8h.xhtml#a70b42b87d434580bf1493591857b8beca70a2af6eafa48adfab506ceee60471f6">GROUP_VALUE</a>. </p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="a5acbf2d7bead71c4d96f9e69b267df56"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void*(* sel_datafunc)(int npar, <a class="el" href="structgmx__ana__selparam__t.xhtml">gmx_ana_selparam_t</a> *param)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allocates and initializes internal data and parameter values. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">npar</td><td>Number of parameters in <code>param</code>. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">param</td><td>Pointer to (a copy of) the method's <code><a class="el" href="structgmx__ana__selmethod__t.xhtml#afd48ccc940b2c37d46c65bbeb5fb7ff3" title="Pointer to the array of parameter descriptions. ">gmx_ana_selmethod_t::param</a></code>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer to method-specific data structure. This pointer will be passed as the last parameter of all other function calls. </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">unspecified</td><td>Any errors should be indicated by throwing an exception.</td></tr>
  </table>
  </dd>
</dl>
<p>Should allocate and initialize any internal data required by the method. Should also initialize the value pointers (<code><a class="el" href="structgmx__ana__selparam__t.xhtml#a1a2ccba901e24c9c8e2c00c2b61b24d2" title="The parameter value. ">gmx_ana_selparam_t::val</a></code>) in <code>param</code> to point to variables within the internal data structure, with the exception of parameters that specify the <a class="el" href="selparam_8h.xhtml#a400330277d7e17cdfef1610cc37838ea">SPAR_VARNUM</a> or the <a class="el" href="selparam_8h.xhtml#ababaf52ada40922bb660a4949e1e52f0">SPAR_ATOMVAL</a> flag (these should be handled in <a class="el" href="selmethod_8h.xhtml#a7149ff249973e9c0fd49a34276305a76" title="Does initialization based on topology and/or parameter values. ">sel_initfunc()</a>). However, parameters with a position value should be initialized. It is also possible to initialize <a class="el" href="selparam_8h.xhtml#a9cab7952c47c82291754bb1b90db31e7">SPAR_ENUMVAL</a> statically outside this function (see <a class="el" href="selparam_8h.xhtml#a9cab7952c47c82291754bb1b90db31e7">SPAR_ENUMVAL</a>). The <code><a class="el" href="structgmx__ana__selparam__t.xhtml#a766e1c92299f5389d51227777a7cff14" title="Pointer to store the number of values. ">gmx_ana_selparam_t::nvalptr</a></code> should also be initialized for non-position-valued parameters that have both <a class="el" href="selparam_8h.xhtml#a400330277d7e17cdfef1610cc37838ea">SPAR_VARNUM</a> and <a class="el" href="selparam_8h.xhtml#ae44a94b4d013d2a344cfb3a9f8c5479f">SPAR_DYNAMIC</a> set (it can also be initialized for other parameters if desired, but the same information will be available through other means). For optional parameters, the default values can (and should) be initialized here, as the parameter values are not changed if the parameter is not provided.</p>
<p>For boolean parameters (type equals <a class="el" href="selvalue_8h.xhtml#a70b42b87d434580bf1493591857b8beca4d694119ce83b62d74ff06b5e017dca8">NO_VALUE</a>), the default value should be set here. The user can override the value by giving the parameter either as 'NAME'/'noNAME', or as 'NAME on/off/yes/no'.</p>
<p>If the method takes any parameters, this function must be provided. </p>

</div>
</div>
<a class="anchor" id="ad7e63789da3cadbb99800dbe18d837f7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* sel_framefunc)(t_topology *top, t_trxframe *fr, <a class="el" href="structt__pbc.xhtml">t_pbc</a> *pbc, void *data)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes the evaluation for a new frame. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">top</td><td>Topology structure (can be NULL if <a class="el" href="selmethod_8h.xhtml#ac5e632efef31120c54b55eac79cb23cc">SMETH_REQTOP</a> is not set). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">fr</td><td>Current frame. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pbc</td><td>Initialized periodic boundary condition structure, or NULL if PBC should not be used. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">data</td><td>Internal data structure from <a class="el" href="selmethod_8h.xhtml#a5acbf2d7bead71c4d96f9e69b267df56" title="Allocates and initializes internal data and parameter values. ">sel_datafunc()</a>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, a non-zero error code on failure.</dd></dl>
<p>This function should be implemented if the selection method needs to do some preprocessing for each frame, and the preprocessing does not depend on the evaluation group. Because <code>sel_updatefunc_*</code> can be called more than once for a frame, it is inefficient do the preprocessing there. It is ensured that this function will be called before <code>sel_updatefunc_*</code> for each frame, and that it will be called at most once for each frame. For static methods, it is called once, with <code>fr</code> and <code>pbc</code> set to NULL. </p>

</div>
</div>
<a class="anchor" id="a2e05a0b2274edfeab965c363f646735a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* sel_freefunc)(void *data)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Frees the internal data. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>Internal data structure from <a class="el" href="selmethod_8h.xhtml#a5acbf2d7bead71c4d96f9e69b267df56" title="Allocates and initializes internal data and parameter values. ">sel_datafunc()</a>.</td></tr>
  </table>
  </dd>
</dl>
<p>This function should be provided if the internal data structure contains dynamically allocated data, and should free any such data. The data structure itself should also be freed. For convenience, if there is no dynamically allocated data within the structure and the structure is allocated using malloc()/snew(), this function is not needed: the selection engine automatically frees the structure using <a class="el" href="smalloc_8h.xhtml#acd9f9223d6d8cad01c8f42a416d3292d" title="Frees memory referenced by ptr. ">sfree()</a>. Any memory pointers received as values of parameters are managed externally, and should not be freed. Pointers set as the value pointer of <a class="el" href="selparam_8h.xhtml#a9cab7952c47c82291754bb1b90db31e7">SPAR_ENUMVAL</a> parameters should not be freed. </p>

</div>
</div>
<a class="anchor" id="a7149ff249973e9c0fd49a34276305a76"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* sel_initfunc)(t_topology *top, int npar, <a class="el" href="structgmx__ana__selparam__t.xhtml">gmx_ana_selparam_t</a> *param, void *data)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Does initialization based on topology and/or parameter values. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">top</td><td>Topology structure (can be NULL if <a class="el" href="selmethod_8h.xhtml#ac5e632efef31120c54b55eac79cb23cc">SMETH_REQTOP</a> is not set). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">npar</td><td>Number of parameters in <code>param</code>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">param</td><td>Pointer to (an initialized copy of) the method's <code><a class="el" href="structgmx__ana__selmethod__t.xhtml#afd48ccc940b2c37d46c65bbeb5fb7ff3" title="Pointer to the array of parameter descriptions. ">gmx_ana_selmethod_t::param</a></code>. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">data</td><td>Internal data structure from <a class="el" href="selmethod_8h.xhtml#a5acbf2d7bead71c4d96f9e69b267df56" title="Allocates and initializes internal data and parameter values. ">sel_datafunc()</a>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, a non-zero error code on failure.</dd></dl>
<p>This function is called after the parameters have been processed: the values of the parameters are stored at the locations set in <a class="el" href="selmethod_8h.xhtml#a5acbf2d7bead71c4d96f9e69b267df56" title="Allocates and initializes internal data and parameter values. ">sel_datafunc()</a>. The flags <a class="el" href="selparam_8h.xhtml#ae44a94b4d013d2a344cfb3a9f8c5479f">SPAR_DYNAMIC</a> and <a class="el" href="selparam_8h.xhtml#ababaf52ada40922bb660a4949e1e52f0">SPAR_ATOMVAL</a> are cleared before calling the function if the value is static or single-valued, respectively. If a parameter had the <a class="el" href="selparam_8h.xhtml#a400330277d7e17cdfef1610cc37838ea">SPAR_VARNUM</a> or <a class="el" href="selparam_8h.xhtml#ababaf52ada40922bb660a4949e1e52f0">SPAR_ATOMVAL</a> flag (and is not <a class="el" href="selvalue_8h.xhtml#a70b42b87d434580bf1493591857b8beca31a47fbfbc85ad1472ce3d2a168fd1ec">POS_VALUE</a>), a pointer to the memory allocated for the values is found in <code><a class="el" href="structgmx__ana__selparam__t.xhtml#a1a2ccba901e24c9c8e2c00c2b61b24d2" title="The parameter value. ">gmx_ana_selparam_t::val</a></code>. The pointer should be stored by this function, otherwise the values cannot be accessed. For <a class="el" href="selparam_8h.xhtml#a400330277d7e17cdfef1610cc37838ea">SPAR_VARNUM</a> parameters, the number of values can be accessed through <code><a class="el" href="structgmx__ana__selparam__t.xhtml#a1a2ccba901e24c9c8e2c00c2b61b24d2" title="The parameter value. ">gmx_ana_selparam_t::val</a></code>. For parameters with <a class="el" href="selparam_8h.xhtml#ae44a94b4d013d2a344cfb3a9f8c5479f">SPAR_DYNAMIC</a>, the number is the maximum number of values (the actual number can be accessed in <a class="el" href="selmethod_8h.xhtml#ad7e63789da3cadbb99800dbe18d837f7" title="Initializes the evaluation for a new frame. ">sel_framefunc()</a> and in the update callback through the value pointed by <code><a class="el" href="structgmx__ana__selparam__t.xhtml#a766e1c92299f5389d51227777a7cff14" title="Pointer to store the number of values. ">gmx_ana_selparam_t::nvalptr</a></code>). For <a class="el" href="selparam_8h.xhtml#ababaf52ada40922bb660a4949e1e52f0">SPAR_ATOMVAL</a> parameters, <code>gmx_ana_selparam_t::val::nr</code> is set to 1 if a single value was provided, otherwise it is set to the maximum number of values possibly passed to the method. The value pointed by <code><a class="el" href="structgmx__ana__selparam__t.xhtml#a766e1c92299f5389d51227777a7cff14" title="Pointer to store the number of values. ">gmx_ana_selparam_t::nvalptr</a></code> always contains the same value as <code>gmx_ana_selparam_t::val::nr</code>.</p>
<p>For dynamic <a class="el" href="selvalue_8h.xhtml#a70b42b87d434580bf1493591857b8beca70a2af6eafa48adfab506ceee60471f6">GROUP_VALUE</a> parameters (<a class="el" href="selparam_8h.xhtml#ae44a94b4d013d2a344cfb3a9f8c5479f">SPAR_DYNAMIC</a> set), the value will be the largest possible selection that may occur during the evaluation. For other types of dynamic parameters, the values are undefined.</p>
<p>If the method takes any parameters with the <a class="el" href="selparam_8h.xhtml#a400330277d7e17cdfef1610cc37838ea">SPAR_VARNUM</a> or <a class="el" href="selparam_8h.xhtml#ababaf52ada40922bb660a4949e1e52f0">SPAR_ATOMVAL</a> flags, this function must be provided, except if these parameters all have <a class="el" href="selvalue_8h.xhtml#a70b42b87d434580bf1493591857b8beca31a47fbfbc85ad1472ce3d2a168fd1ec">POS_VALUE</a>.</p>
<p>This function may be called multiple times for the same method if the method takes parameters with <a class="el" href="selparam_8h.xhtml#ababaf52ada40922bb660a4949e1e52f0">SPAR_ATOMVAL</a> set. </p>

</div>
</div>
<a class="anchor" id="a629ed53ce2f771dc66297458ce50abb5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* sel_outinitfunc)(t_topology *top, <a class="el" href="structgmx__ana__selvalue__t.xhtml">gmx_ana_selvalue_t</a> *out, void *data)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes output data structure. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">top</td><td>Topology structure (can be NULL if <a class="el" href="selmethod_8h.xhtml#ac5e632efef31120c54b55eac79cb23cc">SMETH_REQTOP</a> is not set). </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">out</td><td>Output data structure. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>Internal data structure from <a class="el" href="selmethod_8h.xhtml#a5acbf2d7bead71c4d96f9e69b267df56" title="Allocates and initializes internal data and parameter values. ">sel_datafunc()</a>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, an error code on error.</dd></dl>
<p>This function is called immediately after <a class="el" href="selmethod_8h.xhtml#a7149ff249973e9c0fd49a34276305a76" title="Does initialization based on topology and/or parameter values. ">sel_initfunc()</a>.</p>
<p>If the method evaluates to a position (<a class="el" href="selvalue_8h.xhtml#a70b42b87d434580bf1493591857b8beca31a47fbfbc85ad1472ce3d2a168fd1ec">POS_VALUE</a>), this function should be provided, and it should initialize the <code><a class="el" href="structgmx__ana__pos__t.xhtml" title="Stores a set of positions together with their origins. ">gmx_ana_pos_t</a></code> data structure pointed by <code>out.p</code> (the pointer is guaranteed to be non-NULL). The <code>out.p-&gt;g</code> pointer should be initialized to the group that is used to evaluate positions in <a class="el" href="selmethod_8h.xhtml#aa1474cb37018590caa7b2626ad6042d4" title="Evaluates a selection method. ">sel_updatefunc()</a> or <a class="el" href="selmethod_8h.xhtml#a0b18405511e5ed5fabfe37fc98888121" title="Evaluates a selection method using positions. ">sel_updatefunc_pos()</a>.</p>
<p>The function should also be provided for non-position-valued <a class="el" href="selmethod_8h.xhtml#ae0aa6a1bbb99ba5f0f6228c4cd401e0a">SMETH_VARNUMVAL</a> methods. For these methods, it suffices to set the <code>out-&gt;nr</code> field to reflect the maximum number of values returned by the method.</p>
<p>Currently, this function is not needed for other types of methods.</p>
<p>This function may be called multiple times for the same method if the method takes parameters with <a class="el" href="selparam_8h.xhtml#ababaf52ada40922bb660a4949e1e52f0">SPAR_ATOMVAL</a> set. </p>

</div>
</div>
<a class="anchor" id="ab5aa791ed8d9db644c9250028a18dc8b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* sel_posfunc)(<a class="el" href="classgmx_1_1PositionCalculationCollection.xhtml">gmx::PositionCalculationCollection</a> *pcc, void *data)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the position calculation collection for the method. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pcc</td><td>Position calculation collection that the method should use for position calculations. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">data</td><td>Internal data structure from <a class="el" href="selmethod_8h.xhtml#a5acbf2d7bead71c4d96f9e69b267df56" title="Allocates and initializes internal data and parameter values. ">sel_datafunc()</a>.</td></tr>
  </table>
  </dd>
</dl>
<p>This function should be provided if the method uses the routines from <a class="el" href="poscalc_8h.xhtml" title="API for structured and optimized calculation of positions. ">poscalc.h</a> for calculating positions. The pointer <code>pcc</code> should then be stored and used for initialization for any position calculation structures. </p>

</div>
</div>
<a class="anchor" id="aa1474cb37018590caa7b2626ad6042d4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* sel_updatefunc)(t_topology *top, t_trxframe *fr, <a class="el" href="structt__pbc.xhtml">t_pbc</a> *pbc, <a class="el" href="structgmx__ana__index__t.xhtml">gmx_ana_index_t</a> *g, <a class="el" href="structgmx__ana__selvalue__t.xhtml">gmx_ana_selvalue_t</a> *out, void *data)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Evaluates a selection method. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">top</td><td>Topology structure (can be NULL if <a class="el" href="selmethod_8h.xhtml#ac5e632efef31120c54b55eac79cb23cc">SMETH_REQTOP</a> is not set). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">fr</td><td>Current frame. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pbc</td><td>Initialized periodic boundary condition structure, or NULL if PBC should not be used. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">g</td><td>Index group for which the method should be evaluated. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">out</td><td>Output data structure. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">data</td><td>Internal data structure from <a class="el" href="selmethod_8h.xhtml#a5acbf2d7bead71c4d96f9e69b267df56" title="Allocates and initializes internal data and parameter values. ">sel_datafunc()</a>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, a non-zero error code on error.</dd></dl>
<p>This function should evaluate the method for each atom included in <code>g</code>, and write the output to <code>out</code>. The pointer in the union <code>out-&gt;u</code> that corresponds to the type of the method should be used. Enough memory has been allocated to store the output values. The number of values in <code>out</code> should also be updated if necessary. However, <a class="el" href="selvalue_8h.xhtml#a70b42b87d434580bf1493591857b8beca31a47fbfbc85ad1472ce3d2a168fd1ec">POS_VALUE</a> or <a class="el" href="selvalue_8h.xhtml#a70b42b87d434580bf1493591857b8beca70a2af6eafa48adfab506ceee60471f6">GROUP_VALUE</a> methods should not touch <code>out-&gt;nr</code> (it should be 1 anyways).</p>
<p>For <a class="el" href="selvalue_8h.xhtml#a70b42b87d434580bf1493591857b8beca6f2f1fe9592d96990c9ac690c355bd08">STR_VALUE</a> methods, the pointers stored in <code>out-&gt;s</code> are discarded without freeing; it is the responsibility of this function to provide pointers that can be discarded without memory leaks.</p>
<p>If the method accesses <code>fr</code> outside the index group specified in <code>g</code> or what it receives from its parameters, it must check that <code>fr</code> actually contains such an atom in case the <code>fr</code> has been loaded from a trajectory that only contains a subset of the system. </p>

</div>
</div>
<a class="anchor" id="a0b18405511e5ed5fabfe37fc98888121"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* sel_updatefunc_pos)(t_topology *top, t_trxframe *fr, <a class="el" href="structt__pbc.xhtml">t_pbc</a> *pbc, <a class="el" href="structgmx__ana__pos__t.xhtml">gmx_ana_pos_t</a> *pos, <a class="el" href="structgmx__ana__selvalue__t.xhtml">gmx_ana_selvalue_t</a> *out, void *data)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Evaluates a selection method using positions. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">top</td><td>Topology structure (can be NULL if <a class="el" href="selmethod_8h.xhtml#ac5e632efef31120c54b55eac79cb23cc">SMETH_REQTOP</a> is not set). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">fr</td><td>Current frame. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pbc</td><td>Initialized periodic boundary condition structure, or NULL if PBC should not be used. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pos</td><td>Positions for which the method should be evaluated. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">out</td><td>Output data structure. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">data</td><td>Internal data structure from <a class="el" href="selmethod_8h.xhtml#a5acbf2d7bead71c4d96f9e69b267df56" title="Allocates and initializes internal data and parameter values. ">sel_datafunc()</a>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, a non-zero error code on error.</dd></dl>
<p>This function should evaluate the method for each position in <code>pos</code>, and write the output values to <code>out</code>. The pointer in the union <code>out-&gt;u</code> that corresponds to the type of the method should be used. Enough memory has been allocated to store the output values. The number of values in <code>out</code> should also be updated if necessary. <a class="el" href="selvalue_8h.xhtml#a70b42b87d434580bf1493591857b8beca31a47fbfbc85ad1472ce3d2a168fd1ec">POS_VALUE</a> or <a class="el" href="selvalue_8h.xhtml#a70b42b87d434580bf1493591857b8beca70a2af6eafa48adfab506ceee60471f6">GROUP_VALUE</a> methods should not touch <code>out-&gt;nr</code> (it should be 1 anyways). For other types of methods, the number of output values should equal the number of positions in <code>pos</code>.</p>
<p>For <a class="el" href="selvalue_8h.xhtml#a70b42b87d434580bf1493591857b8beca6f2f1fe9592d96990c9ac690c355bd08">STR_VALUE</a> methods, the pointers stored in <code>out-&gt;s</code> are discarded without freeing; it is the responsibility of this function to provide pointers that can be discarded without memory leaks.</p>
<p>If the method accesses <code>fr</code> outside the atoms referenced in <code>pos</code> or what it receives from its parameters, it must check that <code>fr</code> actually contains such an atom in case the <code>fr</code> has been loaded from a trajectory that only contains a subset of the system. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a0e7b6b47ea1bd6dc301b26eb73524a16"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structgmx__ana__selparam__t.xhtml">gmx_ana_selparam_t</a>* gmx_ana_selmethod_find_param </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structgmx__ana__selmethod__t.xhtml">gmx_ana_selmethod_t</a> *&#160;</td>
          <td class="paramname"><em>method</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Finds a parameter from a selection method by name. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">name</td><td>Name of the parameter to search. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">method</td><td>Method to search for the parameter. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer to the parameter in the <a class="el" href="structgmx__ana__selmethod__t.xhtml#afd48ccc940b2c37d46c65bbeb5fb7ff3">method-&gt;param</a> array, or NULL if no parameter with name <code>name</code> was found.</dd></dl>
<p>This is a simple wrapper for <a class="el" href="params_8cpp.xhtml#a7400c81820037ea822c19a60c31fc486" title="Finds a parameter from an array by name. ">gmx_ana_selparam_find()</a>. </p>

</div>
</div>
<a class="anchor" id="a8dc364fb06ad40e8176409907d6d8087"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int gmx_ana_selmethod_register </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classgmx_1_1SelectionParserSymbolTable.xhtml">gmx::SelectionParserSymbolTable</a> *&#160;</td>
          <td class="paramname"><em>symtab</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structgmx__ana__selmethod__t.xhtml">gmx_ana_selmethod_t</a> *&#160;</td>
          <td class="paramname"><em>method</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Registers a selection method. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">symtab</td><td>Symbol table to register the method to. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">name</td><td>Name under which the method should be registered. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">method</td><td>Method to register. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, -1 if there was something wrong with the method.</dd></dl>
<p><code>name</code> does not need to match the name of the method, and the same method can be registered multiple times under different names. If <code>name</code> equals some previously registered name, an error message is printed and the method is not registered.</p>
<p>The function also performs some sanity checking on the input method, and refuses to register it if there are problems. Some problems only generate warnings. All problems are described to <code>stderr</code>. </p>

</div>
</div>
<a class="anchor" id="a71c080d03195c4a00427a806eab831cd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int gmx_ana_selmethod_register_defaults </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classgmx_1_1SelectionParserSymbolTable.xhtml">gmx::SelectionParserSymbolTable</a> *&#160;</td>
          <td class="paramname"><em>symtab</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Registers all selection methods in the library. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">symtab</td><td>Symbol table to register the methods to. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, -1 if any of the default methods could not be registered. </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Mar 13 2017 19:20:36 for Gromacs by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
