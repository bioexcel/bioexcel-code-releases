<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>Gromacs: gmx::test::FloatingPointTolerance Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Gromacs
   &#160;<span id="projectnumber">2016.3</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.xhtml"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.xhtml"><span>Modules</span></a></li>
      <li><a href="pages.xhtml"><span>Other&#160;Docs</span></a></li>
      <li><a href="namespaces.xhtml"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.xhtml"><span>Classes</span></a></li>
      <li><a href="files.xhtml"><span>Files</span></a></li>
      <li><a href="examples.xhtml"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.xhtml"><span>Class&#160;List</span></a></li>
      <li><a href="classes.xhtml"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.xhtml"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.xhtml"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacegmx.xhtml">gmx</a></li><li class="navelem"><a class="el" href="namespacegmx_1_1test.xhtml">test</a></li><li class="navelem"><a class="el" href="classgmx_1_1test_1_1FloatingPointTolerance.xhtml">FloatingPointTolerance</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="classgmx_1_1test_1_1FloatingPointTolerance-members.xhtml">List of all members</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#related">Related Functions</a>  </div>
  <div class="headertitle">
<div class="title">gmx::test::FloatingPointTolerance Class Reference<div class="ingroups"><a class="el" href="group__module__testutils.xhtml">Testing Utilities (testutils)</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;testutils/testasserts.h&gt;</code></p>
<a name="details" id="details"></a><h2 class="groupheader">Description</h2>
<div class="textblock"><p>Specifies a floating-point comparison tolerance and checks whether a difference is within the tolerance. </p>
<p>The related functions section lists methods that can be construct methods using less parameters than the full constructor, and with more obvious semantics. These should be preferred over using the constructor directly.</p>
<p>Several types of tolerances are possible:</p>
<ul>
<li><em>absolute tolerance</em>: difference between the values must be smaller than the given tolerance for the check to pass. Setting the absolute tolerance to zero disables the absolute tolerance check.</li>
<li><em>ULP tolerance</em>: ULP (units of least precision) difference between the values must be smaller than the given tolerance for the check to pass. Setting the ULP tolerance to zero requires exact match. Setting the ULP tolerance to GMX_UINT64_MAX disables the ULP check. <code>0.0</code> and <code>-0.0</code> are treated as equal for the ULP check.</li>
<li><em>sign check</em>: if set, any values that are of different signs fail the check (note that this also applies to <code>0.0</code> and <code>-0.0</code>: a value with a different sign than the zero will fail the check).</li>
</ul>
<p>Either an absolute or a ULP tolerance must always be specified. If both are specified, then the check passes if either of the tolerances is satisfied.</p>
<p>Any combination of absolute and ULP tolerance can be combined with the sign check. In this case, the sign check must succeed for the check to pass, even if other tolerances are satisfied.</p>
<p>The tolerances can be specified separately for single and double precision comparison. Different initialization functions have different semantics on how the provided tolerance values are interpreted; check their documentation.</p>
<p>Methods in this class do not throw, except for <a class="el" href="classgmx_1_1test_1_1FloatingPointTolerance.xhtml#ae9afa5dd993326bdef3c918c44f92669" title="Formats the tolerance as a string for assertion failure messages. ">toString()</a>, which may throw std::bad_alloc.</p>
<dl class="todo"><dt><b><a class="el" href="todo.xhtml#_todo000084">Todo:</a></b></dt><dd>The factory methods that take ULP difference could be better formulated as methods that take the acceptable number of incorrect bits and/or the number of accurate bits.</dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classgmx_1_1test_1_1FloatingPointDifference.xhtml" title="Computes and represents a floating-point difference value. ">FloatingPointDifference</a> </dd></dl>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a03b07e798ad5d114a8f4fda6b57f1da0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgmx_1_1test_1_1FloatingPointTolerance.xhtml#a03b07e798ad5d114a8f4fda6b57f1da0">FloatingPointTolerance</a> (float singleAbsoluteTolerance, double doubleAbsoluteTolerance, gmx_uint64_t singleUlpTolerance, gmx_uint64_t doubleUlpTolerance, bool bSignMustMatch)</td></tr>
<tr class="memdesc:a03b07e798ad5d114a8f4fda6b57f1da0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a tolerance with the specified values.  <a href="#a03b07e798ad5d114a8f4fda6b57f1da0">More...</a><br/></td></tr>
<tr class="separator:a03b07e798ad5d114a8f4fda6b57f1da0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad49fc0165f03ecca9b3998d5777167a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgmx_1_1test_1_1FloatingPointTolerance.xhtml#aad49fc0165f03ecca9b3998d5777167a">isWithin</a> (const <a class="el" href="classgmx_1_1test_1_1FloatingPointDifference.xhtml">FloatingPointDifference</a> &amp;difference) const </td></tr>
<tr class="memdesc:aad49fc0165f03ecca9b3998d5777167a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks whether a difference is within the specified tolerance.  <a href="#aad49fc0165f03ecca9b3998d5777167a">More...</a><br/></td></tr>
<tr class="separator:aad49fc0165f03ecca9b3998d5777167a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9afa5dd993326bdef3c918c44f92669"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae9afa5dd993326bdef3c918c44f92669"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgmx_1_1test_1_1FloatingPointTolerance.xhtml#ae9afa5dd993326bdef3c918c44f92669">toString</a> (const <a class="el" href="classgmx_1_1test_1_1FloatingPointDifference.xhtml">FloatingPointDifference</a> &amp;difference) const </td></tr>
<tr class="memdesc:ae9afa5dd993326bdef3c918c44f92669"><td class="mdescLeft">&#160;</td><td class="mdescRight">Formats the tolerance as a string for assertion failure messages. <br/></td></tr>
<tr class="separator:ae9afa5dd993326bdef3c918c44f92669"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="related"></a>
Related Functions</h2></td></tr>
<tr><td class="ititle" colspan="2"><p>(Note that these are not member functions.) </p>
</td></tr>
<tr class="memitem:gad25b9666492f99265f71a3c6da9e2a1b"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classgmx_1_1test_1_1FloatingPointTolerance.xhtml">FloatingPointTolerance</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__module__testutils.xhtml#gad25b9666492f99265f71a3c6da9e2a1b">ulpTolerance</a> (gmx_uint64_t ulpDiff)</td></tr>
<tr class="memdesc:gad25b9666492f99265f71a3c6da9e2a1b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a tolerance that only allows a specified ULP difference.  <a href="group__module__testutils.xhtml#gad25b9666492f99265f71a3c6da9e2a1b">More...</a><br/></td></tr>
<tr class="separator:gad25b9666492f99265f71a3c6da9e2a1b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad4123626be56582b11ef6accf715dbe3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classgmx_1_1test_1_1FloatingPointTolerance.xhtml">FloatingPointTolerance</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__module__testutils.xhtml#gad4123626be56582b11ef6accf715dbe3">relativeToleranceAsFloatingPoint</a> (double magnitude, double tolerance)</td></tr>
<tr class="memdesc:gad4123626be56582b11ef6accf715dbe3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a tolerance that allows a difference in two compared values that is relative to the given magnitude.  <a href="group__module__testutils.xhtml#gad4123626be56582b11ef6accf715dbe3">More...</a><br/></td></tr>
<tr class="separator:gad4123626be56582b11ef6accf715dbe3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga665e9f7521e7815f6e5eac6bb375f167"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classgmx_1_1test_1_1FloatingPointTolerance.xhtml">FloatingPointTolerance</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__module__testutils.xhtml#ga665e9f7521e7815f6e5eac6bb375f167">relativeToleranceAsPrecisionDependentUlp</a> (double magnitude, gmx_uint64_t singleUlpDiff, gmx_uint64_t doubleUlpDiff)</td></tr>
<tr class="memdesc:ga665e9f7521e7815f6e5eac6bb375f167"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a tolerance that allows a precision-dependent relative difference in a complex computation.  <a href="group__module__testutils.xhtml#ga665e9f7521e7815f6e5eac6bb375f167">More...</a><br/></td></tr>
<tr class="separator:ga665e9f7521e7815f6e5eac6bb375f167"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga56f5fffbd8acc6dccade6feafc2e0f59"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga56f5fffbd8acc6dccade6feafc2e0f59"></a>
static <a class="el" href="classgmx_1_1test_1_1FloatingPointTolerance.xhtml">FloatingPointTolerance</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__module__testutils.xhtml#ga56f5fffbd8acc6dccade6feafc2e0f59">absoluteTolerance</a> (double tolerance)</td></tr>
<tr class="memdesc:ga56f5fffbd8acc6dccade6feafc2e0f59"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a tolerance that allows a specified absolute difference. <br/></td></tr>
<tr class="separator:ga56f5fffbd8acc6dccade6feafc2e0f59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5395a4d9809d729093751f7a4e5600ed"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classgmx_1_1test_1_1FloatingPointTolerance.xhtml">FloatingPointTolerance</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__module__testutils.xhtml#ga5395a4d9809d729093751f7a4e5600ed">relativeToleranceAsUlp</a> (double magnitude, gmx_uint64_t ulpDiff)</td></tr>
<tr class="memdesc:ga5395a4d9809d729093751f7a4e5600ed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a tolerance that allows a relative difference in a complex computation.  <a href="group__module__testutils.xhtml#ga5395a4d9809d729093751f7a4e5600ed">More...</a><br/></td></tr>
<tr class="separator:ga5395a4d9809d729093751f7a4e5600ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab00e5c316ac0e80559fd0e24c8a36a7e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gab00e5c316ac0e80559fd0e24c8a36a7e"></a>
static <a class="el" href="classgmx_1_1test_1_1FloatingPointTolerance.xhtml">FloatingPointTolerance</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__module__testutils.xhtml#gab00e5c316ac0e80559fd0e24c8a36a7e">defaultRealTolerance</a> ()</td></tr>
<tr class="memdesc:gab00e5c316ac0e80559fd0e24c8a36a7e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the default tolerance for comparing <code>real</code> numbers. <br/></td></tr>
<tr class="separator:gab00e5c316ac0e80559fd0e24c8a36a7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a03b07e798ad5d114a8f4fda6b57f1da0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">gmx::test::FloatingPointTolerance::FloatingPointTolerance </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>singleAbsoluteTolerance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>doubleAbsoluteTolerance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gmx_uint64_t&#160;</td>
          <td class="paramname"><em>singleUlpTolerance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gmx_uint64_t&#160;</td>
          <td class="paramname"><em>doubleUlpTolerance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>bSignMustMatch</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates a tolerance with the specified values. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">singleAbsoluteTolerance</td><td>Allowed absolute difference in a single-precision number. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">doubleAbsoluteTolerance</td><td>Allowed absolute difference in a double-precision number. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">singleUlpTolerance</td><td>Allowed ULP difference in a single-precision number. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">doubleUlpTolerance</td><td>Allowed ULP difference in a double-precision number. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">bSignMustMatch</td><td>Whether sign mismatch fails the comparison. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="aad49fc0165f03ecca9b3998d5777167a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool gmx::test::FloatingPointTolerance::isWithin </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classgmx_1_1test_1_1FloatingPointDifference.xhtml">FloatingPointDifference</a> &amp;&#160;</td>
          <td class="paramname"><em>difference</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks whether a difference is within the specified tolerance. </p>
<p>NaNs are always treated outside the tolerance. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/testutils/<a class="el" href="testasserts_8h.xhtml">testasserts.h</a></li>
<li>src/testutils/<a class="el" href="testasserts_8cpp.xhtml">testasserts.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Mar 13 2017 19:20:48 for Gromacs by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
